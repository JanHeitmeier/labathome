{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/App.ts","src/Flowchart.ts","src/FlowchartConnector.ts","src/FlowchartExporter.ts","src/FlowchartLink.ts","src/FlowchartOperator.ts","src/FlowchartOperatorImpl.ts","src/TopologicalSorfDFS.ts","src/Utils.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","\r\nimport {Flowchart, FlowchartData, FlowchartOptions} from \"./Flowchart\";\r\ndeclare let Chartist: any;\r\n\r\nexport abstract class ScreenController {\r\n    private state:ControllerState;\r\n    constructor(protected div: HTMLDivElement) {\r\n        this.hideDIV();\r\n        this.state=ControllerState.CREATED;\r\n    }\r\n    get ElementId() { return this.div.id; }\r\n    get State(){return this.state;}\r\n    set State(value:ControllerState){this.state=value;}\r\n    abstract onCreate():void;\r\n    abstract onFirstStart():void;\r\n    abstract onRestart():void;\r\n    abstract onStop():void;\r\n    public showDIV() {\r\n        this.div.style.display = \"block\";\r\n    }\r\n    public hideDIV() {\r\n        this.div.style.display = \"none\";\r\n    }\r\n}\r\n\r\nexport class DevelopCFCController extends ScreenController {\r\n    private fc:Flowchart;\r\n    onFirstStart(): void {\r\n       this.fc.onFirstStart();\r\n    }\r\n    public onRestart(): void {}\r\n    public onStop(): void {}\r\n    public onCreate() {}\r\n    constructor(public div: HTMLDivElement) {\r\n        super(div);\r\n        let data: FlowchartData = {\r\n            operators: [\r\n                {\r\n                    caption: \"RedButton_1\",\r\n                    type: \"RedButton\",\r\n                    id: \"RedButton_1\",\r\n                    posX: 10,\r\n                    posY: 10,\r\n                },\r\n                {\r\n                    caption: \"GreenButton_1\",\r\n                    type: \"GreenButton\",\r\n                    id: \"GreenButton_1\",\r\n                    posX: 10,\r\n                    posY: 150,\r\n                },\r\n                {\r\n                    caption: \"AND_1\",\r\n                    type: \"AND\",\r\n                    id: \"AND_1\",\r\n                    posX: 250,\r\n                    posY: 10,\r\n                },\r\n                {\r\n                    caption: \"RedLed_1\",\r\n                    type: \"RedLed\",\r\n                    id: \"RedLed_1\",\r\n                    posX: 500,\r\n                    posY: 10,\r\n                },\r\n               \r\n            ],\r\n            links: [\r\n                {\r\n                    color: \"black\",\r\n                    fromId: \"RedButton_1\",\r\n                    fromOutput: 0,\r\n                    toId: \"AND_1\",\r\n                    toInput: 0\r\n                },\r\n                {\r\n                    color: \"black\",\r\n                    fromId: \"GreenButton_1\",\r\n                    fromOutput: 0,\r\n                    toId: \"AND_1\",\r\n                    toInput: 1\r\n                },\r\n                {\r\n                    color: \"black\",\r\n                    fromId: \"AND_1\",\r\n                    fromOutput: 0,\r\n                    toId: \"RedLed_1\",\r\n                    toInput: 0\r\n                },\r\n            ]\r\n        };\r\n        let options = new FlowchartOptions();\r\n        options.data = data;\r\n        this.fc = new Flowchart(this.div, options);\r\n    }\r\n    \r\n\r\n}\r\n\r\nclass DashboardController extends ScreenController {\r\n    public onFirstStart(): void {}\r\n    public onRestart(): void {}\r\n    public onStop(): void {}\r\n    public onCreate() {}\r\n    constructor(public div: HTMLDivElement) {\r\n        super(div);\r\n    }\r\n\r\n}\r\n\r\ninterface ChartistData\r\n{\r\n    labels:string[];\r\n    series:number[][];\r\n    low:number;\r\n    high:number;\r\n}\r\n\r\nclass ReportsController extends ScreenController {\r\n    public onFirstStart(): void {}\r\n    public onRestart(): void {}\r\n    public onStop(): void {}\r\n    constructor(public div: HTMLDivElement) {\r\n        super(div);\r\n    }\r\n    public onCreate() {\r\n        return;\r\n        let data:ChartistData = {\r\n            // A labels array that can contain any sort of values\r\n            labels: [],\r\n            // Our series array that contains series objects or in this case series data arrays\r\n            series: [[]],\r\n            low: 0,\r\n            high: 40\r\n        };\r\n        let options = {\r\n            width: 600,\r\n            height: 400\r\n        };\r\n        let currVal = 20;\r\n\r\n        for (let i = 0; i < 10; i++) {\r\n            data.labels.push(\"\"+ (10 - i));\r\n            data.series[0][i] = currVal;\r\n        }\r\n        // Create a new line chart object where as first parameter we pass in a selector\r\n        // that is resolving to our chart container element. The Second parameter\r\n        // is the actual data object.\r\n        let chart = new Chartist.Line('.ct-chart', data, options);\r\n        let timer = window.setInterval(() => {\r\n            let foo = data.series[0].slice(1);\r\n            foo.push(20 + 3 * Math.random())\r\n            data.series[0] = foo;\r\n            chart.update(data, options, false);\r\n\r\n        }, 500);\r\n        window.setTimeout(() => { window.clearInterval(timer) }, 10000);\r\n    }\r\n}\r\n\r\nenum ControllerState{\r\n    CREATED,\r\n    STARTED,\r\n    STOPPED,\r\n}\r\n\r\nclass AppController {\r\n\r\n    private stateDiv: HTMLDivElement;\r\n    private activeControllerIndex:number;\r\n    private screenControllers:ScreenController[];\r\n\r\n    \r\n\r\n    constructor() {\r\n        this.stateDiv = <HTMLDivElement>document.getElementById(\"spnConnectionState\")!;\r\n        this.screenControllers=[];\r\n        this.activeControllerIndex=0;\r\n    }\r\n\r\n    private SetApplicationState(state: string) {\r\n        this.stateDiv.innerHTML = state;\r\n\r\n    }\r\n\r\n    private setActiveScreen(newIndex:number)\r\n    {\r\n        this.screenControllers.forEach((controller,i)=>{\r\n            if(i==newIndex)\r\n            {\r\n                controller.showDIV();\r\n                if(controller.State==ControllerState.CREATED){\r\n                    controller.onFirstStart();\r\n                    controller.State=ControllerState.STARTED;\r\n                }\r\n                else{\r\n                    controller.onRestart();\r\n                    controller.State=ControllerState.STARTED;\r\n                }\r\n            }else{\r\n                controller.hideDIV();\r\n                if(controller.State==ControllerState.STARTED)\r\n                {\r\n                    controller.onStop();\r\n                    controller.State=ControllerState.STOPPED;\r\n                }\r\n            }\r\n        });\r\n        this.activeControllerIndex=newIndex;\r\n    }\r\n\r\n    public startup() {\r\n        this.screenControllers.push(new DashboardController(<HTMLDivElement>document.getElementById(\"screen_dashboard\")));\r\n        this.screenControllers.push(new DevelopCFCController(<HTMLDivElement>document.getElementById(\"screen_develop\")));\r\n        this.screenControllers.push(new ReportsController(<HTMLDivElement>document.getElementById(\"screen_reports\")));\r\n        this.screenControllers.forEach((sc)=>sc.onCreate());\r\n        \r\n        this.setActiveScreen(0);\r\n        let id2index = new Map<string, number>();\r\n        this.screenControllers.forEach((value, index)=>{id2index.set(\"show_\"+value.ElementId, index)})\r\n        document.querySelectorAll<HTMLAnchorElement>(\"nav a\").forEach((a: HTMLAnchorElement) => {\r\n            let id = a.id;\r\n            let index=id2index.get(a.id)||0;\r\n            a.onclick = (e) => this.setActiveScreen(index);\r\n        });\r\n\r\n\r\n        this.SetApplicationState(\"WebSocket is not connected\");\r\n        let websocket = new WebSocket('ws://' + location.hostname + '/w');\r\n        \r\n\r\n\r\n        websocket.onopen = e => {\r\n            this.SetApplicationState('WebSocket connection opened');\r\n            document.getElementById(\"test\")!.innerHTML = \"WebSocket is connected!\";\r\n        }\r\n\r\n        websocket.onmessage = (evt) => {\r\n            var msg = evt.data;\r\n            let value: string;\r\n            switch (msg.charAt(0)) {\r\n                case 'L':\r\n                    console.log(msg);\r\n                    value = msg.replace(/[^0-9\\.]/g, '');\r\n                    switch (value) {\r\n                        case \"0\": document.getElementById(\"led1\")!.style.backgroundColor = \"black\"; break;\r\n                        case \"1\": document.getElementById(\"led1\")!.style.backgroundColor = \"green\"; break;\r\n                        case \"2\": document.getElementById(\"led2\")!.style.backgroundColor = \"black\"; break;\r\n                        case \"3\": document.getElementById(\"led2\")!.style.backgroundColor = \"green\"; break;\r\n                    }\r\n                    console.log(\"Led = \" + value);\r\n                    break;\r\n                default:\r\n                    let p = JSON.parse(evt.data);\r\n                    document.getElementById(\"td_myName\")!.innerText = p.d.myName;\r\n                    document.getElementById(\"td_temperature\")!.innerText = p.d.temperature;\r\n                    document.getElementById(\"td_humidity\")!.innerText = p.d.humidity;\r\n                    document.getElementById(\"td_heap\")!.innerText = p.info.heap;\r\n                    document.getElementById(\"td_time\")!.innerText = p.info.time;\r\n                    break;\r\n            }\r\n        }\r\n\r\n        websocket.onclose = (e) => {\r\n            console.log('Websocket connection closed due to '+e.reason);\r\n            this.SetApplicationState('Websocket connection closed due to '+e.reason);\r\n        }\r\n\r\n        websocket.onerror = (evt) => {\r\n            console.log('Websocket error: ' + evt.returnValue);\r\n            this.SetApplicationState(\"WebSocket error!\" + evt.returnValue);\r\n        }\r\n\r\n        document.querySelectorAll<HTMLButtonElement>(\"#pButtons button\").forEach((b: HTMLButtonElement) => {\r\n            b.onclick = (e: MouseEvent) => {\r\n                websocket.send(\"L\" + b.dataset.rel);\r\n            };\r\n        });\r\n\r\n    }\r\n}\r\n\r\nlet app: AppController;\r\ndocument.addEventListener(\"DOMContentLoaded\", (e) => {\r\n    app = new AppController();\r\n    app.startup();\r\n});\r\n\r\n\r\n","import { ConnectorType, FlowchartInputConnector, FlowchartOutputConnector } from \"./FlowchartConnector\";\r\nimport { FlowchartExporter } from \"./FlowchartExporter\";\r\nimport { FlowchartLink } from \"./FlowchartLink\";\r\nimport { FlowchartOperator, PositionType, TypeInfo } from \"./FlowchartOperator\";\r\nimport * as operatorimpl from \"./FlowchartOperatorImpl\";\r\nimport { NodeWrapper, TopologicalSortDFS } from \"./TopologicalSorfDFS\";\r\nimport { Utils } from \"./Utils\";\r\n/*\r\nIn einem Ressources-Toolbar befinden sich alle Ressourcen (Input und Output), die ein Board anbietet. Diese können genau einmal auf das Board gezogen werden\r\nProblem: OneWire-Ressourcen!: \r\nOperator-Klassen haben ein Positionstyp: Default, Input, Output\r\nOperator-Klassen haben einen Singleton-Typ, nämlich Default, Singleton. Bei Singletons darf nur eine Instanz der KLasse erzeugt werden\r\nOperator-Instanzen können per Propery-Grid konfiguriert werden. Sie stellen eine Methode PopulateProperyGrid(HMTLDivElement) zur Verfügung, das ein editerbares HTML-Grid ins DIV hineinzeichnen. Außerhalb wurde dieses div zuvor geleert und im Anschluss wird von außerhalb ein Save-Button gerendert.\r\n  Ein null-Rückgabewert bedeutet, dass kein PropertyGrid benötigt wird.\r\n  Sie stellen weiterhin eine Methode SaveProperyGrid(HMTLDivElement) zur Verfügung, in der sie die Inhalte wieder einlesen und intern wie auch immer speichern\r\n  Sie stellen weiterhin eine Methode GetPropertyGridDataAsJSONString() zur Verfügung. Diese gibt die Daten als JSON-String zurück\r\n\r\n*/\r\n\r\nexport class FlowchartOptions {\r\n    canUserEditLinks: boolean = true;\r\n    canUserMoveOperators: boolean = true;\r\n    data?: FlowchartData = undefined;\r\n    distanceFromArrow: number = 3;\r\n    defaultOperatorClass: string = 'flowchart-default-operator';\r\n    defaultLinkColor: string = '#3366ff';\r\n    defaultSelectedLinkColor: string = 'black';\r\n    linkWidth: number = 10;\r\n    grid: number = 10;\r\n    multipleLinksOnOutput: boolean = true;\r\n    multipleLinksOnInput: boolean = false;\r\n    linkVerticalDecal: number = 0;\r\n    onOperatorSelect?: (operatorId: string)=>boolean ;\r\n    onOperatorUnselect?: () => boolean;\r\n    onOperatorMouseOver?: (operatorId: string) => boolean;\r\n    onOperatorMouseOut?: (operatorId: string) => boolean;\r\n    onLinkSelect?: (link: FlowchartLink) => boolean;\r\n    onLinkUnselect?: (link: FlowchartLink) => boolean;\r\n    onOperatorCreate?: (operatorId: string, operatorData: any, fullElement: boolean) => boolean;\r\n    onLinkCreate?: (linkId: string, linkData: any) => boolean;\r\n    onOperatorDelete?: (operatorId: string) => boolean;\r\n    onLinkDelete?: (linkId: string, forced: boolean) => boolean;\r\n    onOperatorMoved?: (operatorId: string, position: number) => void;\r\n    onAfterChange?: (changeType: any) => void;\r\n}\r\n\r\n    export interface FlowchartData {\r\n        operators: OperatorData[];\r\n        links: LinkData[];\r\n    }\r\n\r\n    export interface OperatorData {\r\n        type: string;\r\n        caption: string;\r\n        id: string;\r\n        posX: number;\r\n        posY: number;\r\n    }\r\n\r\n    export interface LinkData {\r\n        color: string;\r\n        fromId: string;\r\n        fromOutput: number;\r\n        toId: string;\r\n        toInput: number;\r\n    }\r\n\r\n    //Connector besteht aus \"wrapper\", dem Label, dem großen dreieck und einem kleinen Dreieck\r\n\r\n    export class Flowchart {\r\n        private operators = new Map<number, FlowchartOperator>();\r\n        private links = new Map<number, FlowchartLink>();\r\n        public static readonly SVGNS = \"http://www.w3.org/2000/svg\";\r\n        public static readonly XLINKNS = \"http://www.w3.org/1999/xlink\";\r\n        public static readonly HTMLNS = \"http://www.w3.org/1999/xhtml\";\r\n        public static readonly DATATYPE2COLOR = new Map([[ConnectorType.BOOLEAN, \"RED\"], [ConnectorType.COLOR, \"GREEN\"], [ConnectorType.FLOAT, \"BLUE\"], [ConnectorType.INTEGER, \"YELLOW\"], [ConnectorType.COLOR, \"PURPLE\"]]);\r\n\r\n  \r\n        private lastOutputConnectorClicked: FlowchartOutputConnector|null=null;\r\n        private selectedOperator: FlowchartOperator|null=null;\r\n        private selectedLink: FlowchartLink|null=null;\r\n        get SelectedLink() { return this.selectedLink };\r\n        \r\n        private positionRatio: number = 1;\r\n        get PositionRatio() { return this.positionRatio; }\r\n        \r\n        private flowchartContainerSvgSvg:SVGSVGElement\r\n        private linksLayer: SVGGElement;\r\n        get LinkLayer() { return this.linksLayer; }\r\n        private operatorsLayer: SVGGElement;\r\n        get OperatorsLayer() { return this.operatorsLayer; }\r\n        private toolsLayer:SVGGElement;\r\n        get ToolsLayer() { return this.toolsLayer; }\r\n        private tempLayer:SVGGElement;\r\n        private temporaryLink: SVGLineElement;\r\n        private temporaryLinkSnapped=false;\r\n        private propertyGridHtmlDiv:HTMLDivElement;\r\n\r\n        private markerArrow:SVGPathElement;\r\n        private markerCircle:SVGCircleElement;\r\n\r\n        private upcounter=0;\r\n\r\n        public _notifyGlobalMousemoveWithLink(e:MouseEvent)\r\n        {\r\n            if (this.lastOutputConnectorClicked != null && !this.temporaryLinkSnapped) {\r\n                let end = Utils.EventCoordinatesInSVG(e, this.flowchartContainerSvgSvg, this.positionRatio);\r\n                this.temporaryLink.setAttribute('x2', \"\"+end.x);\r\n                this.temporaryLink.setAttribute('y2', \"\"+end.y);\r\n            }\r\n        }\r\n\r\n        public _notifyGlobalMouseupWithLink(e:MouseEvent)\r\n        {\r\n            this.unsetTemporaryLink();\r\n        }\r\n\r\n        \r\n\r\n        public _notifyOutputConnectorMousedown(c: FlowchartOutputConnector, e: MouseEvent) {\r\n            this.temporaryLinkSnapped=false;\r\n            let start = c.GetLinkpoint();\r\n            let end = Utils.EventCoordinatesInSVG(e, this.flowchartContainerSvgSvg, this.positionRatio);\r\n            this.temporaryLink.setAttribute('x1', \"\"+start.x);\r\n            this.temporaryLink.setAttribute('y1', \"\"+start.y);\r\n            this.temporaryLink.setAttribute('x2', \"\"+end.x);\r\n            this.temporaryLink.setAttribute('y2', \"\"+end.y);\r\n            this.setTemporaryLink(c);\r\n            document.onmouseup = (e) => {\r\n                document.onmouseup = null;\r\n                document.onmousemove = null;\r\n                this._notifyGlobalMouseupWithLink(e);\r\n            };\r\n            document.onmousemove = (e) => {\r\n                this._notifyGlobalMousemoveWithLink(e);\r\n            };\r\n        }\r\n\r\n        public _notifyInputConnectorMouseup(c: FlowchartInputConnector, e:MouseEvent) {\r\n            if (this.lastOutputConnectorClicked == null) return;\r\n            if(!this.options.multipleLinksOnInput && c.LinksLength>0) return;\r\n            if(this.lastOutputConnectorClicked.Type==c.Type)\r\n            {\r\n                this.createLink(null, this.lastOutputConnectorClicked, c);\r\n            }\r\n            this.unsetTemporaryLink();\r\n\r\n        }\r\n\r\n        public _notifyOperatorClicked(o: FlowchartOperator, e: MouseEvent) {\r\n            this.SelectOperator(o);\r\n        }\r\n\r\n        public _notifyLinkClicked(link: FlowchartLink, e: MouseEvent) {\r\n            this.selectLink(link);\r\n        }\r\n\r\n        public _notifyInputConnectorMouseenter(c:FlowchartInputConnector, e:MouseEvent){\r\n            if (this.lastOutputConnectorClicked == null || this.lastOutputConnectorClicked.Type!=c.Type) return;\r\n            if(!this.options.multipleLinksOnInput && c.LinksLength>0) return;\r\n\r\n            this.temporaryLinkSnapped=true;\r\n            let end= c.GetLinkpoint();\r\n            this.temporaryLink.setAttribute(\"marker-end\", \"url(#marker-circle)\");\r\n            this.temporaryLink.setAttribute('x2', \"\"+end.x);\r\n            this.temporaryLink.setAttribute('y2', \"\"+end.y);\r\n        }\r\n\r\n        public _notifyInputConnectorMouseleave(c:FlowchartInputConnector, e:MouseEvent){\r\n            this.temporaryLinkSnapped=false;\r\n            this.temporaryLink.setAttribute(\"marker-end\", \"url(#marker-arrow)\");\r\n        }\r\n\r\n        public unselectLink() {\r\n            if (this.selectedLink != null) {\r\n                if (this.options.onLinkUnselect && !this.options.onLinkUnselect(this.selectedLink)) {\r\n                    return;\r\n                }\r\n                this.selectedLink.UncolorizeLink();\r\n                this.selectedLink = null;\r\n            }\r\n        }\r\n\r\n        public selectLink(link: FlowchartLink) {\r\n            this.unselectLink();\r\n            if (this.options.onLinkSelect && !this.options.onLinkSelect(link)) {\r\n                return;\r\n            }\r\n            this.unselectOperator();\r\n            this.selectedLink = link;\r\n            link.ColorizeLink(this.options.defaultSelectedLinkColor);\r\n        }\r\n\r\n        private compile():void{\r\n            let index2wrappedOperator = new Map<number,NodeWrapper<FlowchartOperator>>();\r\n            this.operators.forEach((v,k,m)=>{\r\n                index2wrappedOperator.set(v.GlobalOperatorIndex, new NodeWrapper<FlowchartOperator>(v));\r\n            });\r\n            \r\n              \r\n            let wrappedOutputOperators:NodeWrapper<FlowchartOperator>[] =[];\r\n            for(let i of index2wrappedOperator.values()){\r\n                //Stelle für jede \"gewrapte Node\" fest, welche Operatoren von Ihr abhängig sind\r\n                let dependents = new Set<NodeWrapper<FlowchartOperator>>();\r\n                for (const inputkv of i.Payload.InputsKVIt) {\r\n                    for(const linkkv of inputkv[1].LinksKVIt)\r\n                    {\r\n                        let dependentOperator = linkkv[1].From.Parent;\r\n                        let dependentWrappedNode = index2wrappedOperator.get(dependentOperator.GlobalOperatorIndex);\r\n                        if(!dependentWrappedNode) \r\n                            throw new Error(\"Implementation Error: dependentWrappedNode is undefined\");\r\n                        dependents.add(dependentWrappedNode);\r\n                    }\r\n                }\r\n                dependents.forEach(e=>i.DependendNodes.push(e));\r\n                //füge alle mit Typ \"Output\" einer Liste hinzu\r\n                if(i.Payload.TypeInfo.Position==PositionType.Output) wrappedOutputOperators.push(i);\r\n            }\r\n            \r\n            let algorithm = new TopologicalSortDFS<FlowchartOperator>();\r\n            let sortedList = algorithm.sort(wrappedOutputOperators);\r\n            for (const key in sortedList) {\r\n                let value = sortedList[key];\r\n                value.Payload.SetDebugInfoText(\"Sequenznummer \"+key);\r\n            }\r\n            FlowchartExporter.Export(sortedList.map((e)=>e.Payload));\r\n        }\r\n\r\n        private deleteSelectedOperator():void{\r\n            if(!this.selectedOperator) return;\r\n            this.selectedOperator.RemoveFromDOM();\r\n            this.operators.delete(this.selectedOperator.GlobalOperatorIndex);\r\n            for (const outputKV of this.selectedOperator.OutputsKVIt) {\r\n                for (const linkKV of outputKV[1].LinksKVIt) {\r\n                    this.DeleteLink(linkKV[1].GlobalLinkIndex);\r\n                }\r\n            }\r\n            this.unselectOperator();\r\n        }\r\n\r\n        constructor(private container: HTMLDivElement, private options: FlowchartOptions) {\r\n            if(!this.container)\r\n            {\r\n                throw new Error(\"container is null\");\r\n            }\r\n            let subcontainer = <HTMLDivElement>Flowchart.Html(this.container, \"div\", [], [\"develop-ui\"]);\r\n            \r\n            subcontainer.onclick=(e)=>\r\n            {\r\n                if((<HTMLElement>e.target).classList.contains(\"dropbtn\")) return;\r\n                Array.prototype.forEach.call(document.getElementsByClassName(\"dropdown-content\"), (elem:HTMLDivElement)=>{elem.classList.remove(\"show\");});\r\n            }\r\n\r\n            let toolbar = Flowchart.Html(subcontainer, \"div\", [], [\"develop-toolbar\"]);\r\n            let filebutton = Flowchart.Html(toolbar, \"a\", [\"href\", \"#\"], [\"develop-toolbar\"], \"File\");\r\n            let runbutton = Flowchart.Html(toolbar, \"a\", [\"href\", \"#\"], [\"develop-toolbar\"], \"Run\");\r\n            let menuDebug= Flowchart.Html(toolbar, \"div\", [], [\"dropdown\"]);\r\n            let menuDebugDropBtn = <HTMLButtonElement>Flowchart.Html(menuDebug, \"button\", [], [\"dropbtn\"], \"Debug ▼\");\r\n            \r\n            let menuDebugDropContent = Flowchart.Html(menuDebug, \"div\", [], [\"dropdown-content\"]);\r\n            menuDebugDropBtn.onclick=(e)=>{\r\n                menuDebugDropContent.classList.toggle(\"show\");\r\n            };\r\n            Flowchart.Html(menuDebugDropContent, \"a\", [\"href\", \"#\"], [], \"☭ Compile\").onclick=(e)=>\r\n            {\r\n                Array.prototype.forEach.call(document.getElementsByClassName(\"dropdown-content\"), (elem:HTMLDivElement)=>{elem.classList.remove(\"show\");});\r\n                this.compile();\r\n            }\r\n            Flowchart.Html(menuDebugDropContent, \"a\", [\"href\", \"#\"], [], \"👣 Run on device\").onclick=(e)=>\r\n            {\r\n\r\n            }\r\n            let menuDebugLink2 = Flowchart.Html(menuDebugDropContent, \"a\", [\"href\", \"#\"], [], \"◉ Stop\");\r\n            let menuDebugLink3 = Flowchart.Html(menuDebugDropContent, \"a\", [\"href\", \"#\"], [], \"◯ Erase\");\r\n            \r\n            \r\n            let workspace = <HTMLDivElement>Flowchart.Html(subcontainer, \"div\", [\"tabindex\", \"0\"], [\"develop-workspace\"]);//tabindex, damit keypress-Events abgefangen werden können\r\n            this.propertyGridHtmlDiv = <HTMLDivElement>Flowchart.Html(subcontainer, \"div\", [], [\"develop-properties\"]);\r\n\r\n            \r\n\r\n            this.flowchartContainerSvgSvg = <SVGSVGElement>Flowchart.Svg(workspace, \"svg\", [\"width\", \"100%\", \"height\", \"100%\"], [\"flowchart-container\"]);\r\n            \r\n            \r\n            this.linksLayer = <SVGGElement>Flowchart.Svg(this.flowchartContainerSvgSvg, \"g\", [], [\"flowchart-links-layer\"]);\r\n            this.operatorsLayer=<SVGGElement>Flowchart.Svg(this.flowchartContainerSvgSvg, \"g\", [], [\"flowchart-operators-layer\", \"unselectable\"]);\r\n            this.tempLayer = <SVGSVGElement>Flowchart.Svg(this.flowchartContainerSvgSvg, \"g\", [], [\"flowchart-temporary-link-layer\"]);\r\n            this.tempLayer.style.visibility=\"hidden\";//visible\r\n            let defs = Flowchart.Svg(this.tempLayer, \"defs\", []);\r\n            let markerArrow = Flowchart.Svg(defs, \"marker\", [\"id\", \"marker-arrow\",\"markerWidth\",\"4\", \"markerHeight\", \"4\", \"refX\", \"1\", \"refY\", \"2\", \"orient\", \"0\"]);\r\n            this.markerArrow=<SVGPathElement>Flowchart.Svg(markerArrow, \"path\", [\"d\", \"M0,0 L0,4 L2,2 z\", \"fill\", \"red\", \"stroke\", \"black\", \"stroke-width\", \"0.5\"]);\r\n            let markerCircle = Flowchart.Svg(defs, \"marker\", [\"id\", \"marker-circle\",\"markerWidth\",\"4\", \"markerHeight\", \"4\", \"refX\", \"2\", \"refY\", \"2\", \"orient\", \"0\"]);\r\n            this.markerCircle=<SVGCircleElement>Flowchart.Svg(markerCircle, \"circle\", [\"cx\", \"2\", \"cy\", \"2\", \"r\", \"2\", \"fill\", \"red\", \"stroke-width\", \"1px\",\"stroke\", \"black\"]);\r\n            this.temporaryLink = <SVGLineElement>Flowchart.Svg(this.tempLayer, \"line\", [\"x1\", \"0\",\"y1\", \"0\",\"x2\", \"0\",\"y2\", \"0\",\"stroke-dasharray\", \"6,6\",\"stroke-width\", \"4\",\"stroke\", \"black\",\"fill\", \"none\", \"marker-end\", \"url(#marker-arrow)\"]);\r\n            \r\n            let toolsActivator = <SVGRectElement>Flowchart.Svg(this.flowchartContainerSvgSvg, \"rect\", [\"width\",\"40\", \"height\", \"100%\", \"fill\", \"white\", \"fill-opacity\", \"0\"]);\r\n\r\n            this.toolsLayer  = <SVGSVGElement>Flowchart.Svg(this.flowchartContainerSvgSvg, \"g\", [], [\"flowchart-tools-layer\", \"unselectable\"]);\r\n            this.toolsLayer.style.display=\"none\";//visible\r\n            \r\n            let toolsRect= <SVGRectElement>Flowchart.Svg(this.toolsLayer, \"rect\", [\"width\",\"140\", \"height\", \"100%\", \"rx\", \"10\", \"ry\", \"10\"], [\"tools-container\"]);\r\n            \r\n            //The onmousemove event occurs every time the mouse pointer is moved over the div element.\r\n            //The mouseenter event only occurs when the mouse pointer enters the div element.\r\n            //The onmouseover event occurs when the mouse pointer enters the div element, and its child elements (p and span).\r\n\r\n            //The mouseout event triggers when the mouse pointer leaves any child elements as well the selected element.\r\n            //The mouseleave event is only triggered when the mouse pointer leaves the selected element.\r\n            toolsActivator.onmouseenter= (e)=>\r\n            {\r\n                this.toolsLayer.style.display=\"initial\";\r\n            }\r\n            this.toolsLayer.onmouseleave = (e)=>\r\n            {\r\n                this.toolsLayer.style.display=\"none\";\r\n            }\r\n\r\n            this.flowchartContainerSvgSvg.onclick = (e) => {\r\n                if (e.target == this.Element)//if the click is in a \"free\" area, then the target is the uppermost layer; the linkLayer!\r\n                {\r\n                    this.unselectOperator();\r\n                    this.unselectLink();\r\n                }\r\n            }\r\n            this.flowchartContainerSvgSvg.onmouseup=(e)=>\r\n            {\r\n                console.log(\"Flowchart this.element.onmouseup with e.target=\"+e.target);\r\n            }\r\n\r\n            workspace.onkeyup=(e)=>\r\n            {\r\n                if(e.key==\"Delete\")\r\n                {\r\n                    console.log(\"Flowchart workspace.onkeyup with e.target=\"+e.target+\" und Delete-Key\");\r\n                    this.deleteSelectedOperator();\r\n                }\r\n                else{\r\n                    console.log(\"Flowchart workspace.onkeyup with e.target=\"+e.target+\" und key \"+e.key);\r\n                }\r\n            }\r\n\r\n            this.populateToolsLayer();\r\n\r\n        }\r\n        get Options() { return this.options; }\r\n        get Element(){return this.flowchartContainerSvgSvg;}\r\n\r\n        public onFirstStart()\r\n        {\r\n            if (typeof this.options.data !== undefined && this.options.data!=null) {\r\n                this.setData(this.options.data);\r\n            }\r\n        }\r\n\r\n        private populateToolsLayer()\r\n        {\r\n            let y=10;\r\n            for(let clazz in operatorimpl)\r\n            {\r\n                if((<any>operatorimpl)[clazz].GetTypeInfo){\r\n                    let info:TypeInfo = (<any>operatorimpl)[clazz].GetTypeInfo();\r\n                    //if(info.Position!=PositionType.Default || info.Singleton!=SingletonType.Default) continue;\r\n                }\r\n                let toolGroup = <SVGGElement>Flowchart.Svg(this.toolsLayer, \"g\", [\"transform\", `translate(5 ${y})`]);\r\n                let box = <SVGRectElement>Flowchart.Svg(toolGroup, \"rect\", [\"width\",\"130\", \"height\", \"30\", \"rx\", \"10\", \"ry\", \"10\"], [\"tool-box\"]);\r\n                let title = Flowchart.Svg(toolGroup,\"text\", [\"x\", \"5\", \"y\", \"25\"],[\"tool-caption\"]);\r\n            \r\n                toolGroup.onmousedown=(e)=>\r\n                {\r\n                    \r\n                    let cnt = this.upcounter;\r\n                    let name = clazz.substring(0, clazz.length-\"Operator\".length)+\"_\"+this.upcounter\r\n                    if (this.options.onOperatorCreate && !this.options.onOperatorCreate(name, null, false)) {\r\n                        return null;\r\n                    }\r\n                    console.log(\"Creating \"+name);\r\n                    this.upcounter++;\r\n                    let o: FlowchartOperator = new (<any>operatorimpl)[clazz](this, name);\r\n                    let coords = Utils.EventCoordinatesInSVG(e, this.Element);\r\n                    o.MoveTo(coords.x-10, coords.y-10);\r\n                    o.RegisterDragging(e);\r\n                    this.operators.set(o.GlobalOperatorIndex, o);\r\n                }\r\n                title.textContent = clazz;\r\n                y+=40;\r\n            }\r\n        }\r\n\r\n        public setData(data: FlowchartData) {\r\n\r\n            this.links.forEach((e)=>e.RemoveFromDOM());\r\n            this.links.clear();\r\n            this.operators.forEach((e)=>e.RemoveFromDOM());\r\n            this.operators.clear();\r\n            let opId2op: { [id: string]: FlowchartOperator } = {};\r\n\r\n            for (const d of data.operators) {\r\n                let o = this.createOperator(d);\r\n                opId2op[d.id] = o;\r\n            }\r\n            for (const d of data.links) {\r\n                let fromOp = opId2op[d.fromId];\r\n                let toOp = opId2op[d.toId];\r\n                if(fromOp==null || toOp==null) continue;\r\n                let fromConn = fromOp.GetOutputConnectorByIndex(d.fromOutput);\r\n                let toConn = toOp.GetInputConnectorByIndex(d.toInput);\r\n                if(fromConn==null || toConn==null) continue;\r\n                this.createLink(d, fromConn, toConn);\r\n            }\r\n        }\r\n        public DeleteLink(globalLinkIndex: number) {\r\n            let l = this.links.get(globalLinkIndex);\r\n            if(l==null)\r\n            {\r\n                throw Error(\"Link to delete is null\")\r\n            }\r\n            l.RemoveFromDOM();\r\n            this.links.delete(globalLinkIndex);\r\n            l.To.RemoveLink(l);\r\n            l.From.RemoveLink(l);\r\n        }\r\n\r\n        public createLink(data: LinkData|null, from: FlowchartOutputConnector, to: FlowchartInputConnector): FlowchartLink|null {\r\n            if (this.options.onLinkCreate && !this.options.onLinkCreate(from.Caption, data)) return null;\r\n            if (!this.options.multipleLinksOnOutput && from.LinksLength > 0) return null;\r\n            if (!this.options.multipleLinksOnInput && to.LinksLength > 0)  return null;\r\n\r\n            let l: FlowchartLink = new FlowchartLink(this, \"\", this.Options.defaultLinkColor, from, to);\r\n            from.AddLink(l);\r\n            to.AddLink(l);\r\n            this.links.set(l.GlobalLinkIndex, l);\r\n            return l;\r\n        }\r\n       \r\n        public createOperator(data: OperatorData): FlowchartOperator {\r\n\r\n            let name = data.type+\"Operator\";\r\n            if (!(<any>operatorimpl)[name]) {\r\n                throw new Error(`Unknown type ${data.type}`);\r\n            }\r\n            if (this.options.onOperatorCreate && !this.options.onOperatorCreate(data.caption, null, false)) {\r\n                throw new Error(`Creation of operator ${data.type} prevented by onOperatorCreate plugin`);\r\n            }\r\n            let o: FlowchartOperator = new (<any>operatorimpl)[name](this, data.caption);\r\n            o.MoveTo(data.posX, data.posY);\r\n            this.operators.set(o.GlobalOperatorIndex,o);\r\n            return o;\r\n        }\r\n\r\n        private unsetTemporaryLink() {\r\n            this.lastOutputConnectorClicked = null;\r\n            this.tempLayer.style.visibility = \"hidden\";\r\n        }\r\n\r\n        private setTemporaryLink(c:FlowchartOutputConnector) {\r\n            this.lastOutputConnectorClicked = c;\r\n            let color = Flowchart.DATATYPE2COLOR.get(c.Type)\r\n            if(!color) color=\"BLACK\";\r\n            this.markerArrow.style.fill=color;\r\n            this.markerCircle.style.fill=color;\r\n            this.tempLayer.style.visibility = \"visible\";\r\n        }\r\n\r\n        private unselectOperator() {\r\n            if (this.options.onOperatorUnselect && !this.options.onOperatorUnselect()) return;\r\n            this.propertyGridHtmlDiv.innerText=\"\"; //clear\r\n            if (this.selectedOperator == null) return;\r\n            this.selectedOperator.ShowAsSelected(false);\r\n            this.selectedOperator = null;\r\n        }\r\n\r\n\r\n        public SelectOperator(operator: FlowchartOperator):void {\r\n            if (this.options.onOperatorSelect && !this.options.onOperatorSelect(operator.Caption)) return;\r\n            this.unselectLink();\r\n            if(this.selectedOperator!=null) this.selectedOperator.ShowAsSelected(false);\r\n            operator.ShowAsSelected(true);\r\n            this.selectedOperator = operator;\r\n            this.propertyGridHtmlDiv.innerText=\"\"; //clear\r\n            Flowchart.Html(this.propertyGridHtmlDiv, \"p\", [],[\"develop-propertygrid-head\"], `Properties for ${this.selectedOperator.Caption}`);\r\n            let table=<HTMLTableElement>Flowchart.Html(this.propertyGridHtmlDiv, \"table\", [],[\"develop-propertygrid-table\"]);\r\n            let tr=Flowchart.Html(table, \"tr\", [],[\"develop-propertygrid-tr\"]);\r\n            Flowchart.Html(tr, \"th\", [],[\"develop-propertygrid-th\"], \"Key\");\r\n            Flowchart.Html(tr, \"th\", [],[\"develop-propertygrid-th\"], \"Value\");\r\n            if(this.selectedOperator!.PopulateProperyGrid(table))\r\n            {\r\n                Flowchart.Html(this.propertyGridHtmlDiv, \"button\", [],[\"develop-propertygrid-button\"], `Save`);\r\n            }\r\n            else{\r\n                this.propertyGridHtmlDiv.innerText=\"\"; //clear\r\n                Flowchart.Html(this.propertyGridHtmlDiv, \"p\", [],[\"develop-propertygrid-head\"], `No Properties for ${this.selectedOperator.Caption}`);\r\n            } \r\n        }\r\n\r\n        // Found here : http://stackoverflow.com/questions/5560248/programmatically-lighten-or-darken-a-hex-color-or-rgb-and-blend-colors\r\n        public static _shadeColor(color: string, percent: number) {\r\n            var f = parseInt(color.slice(1), 16), t = percent < 0 ? 0 : 255, p = percent < 0 ? percent * -1 : percent, R = f >> 16, G = f >> 8 & 0x00FF, B = f & 0x0000FF;\r\n            return \"#\" + (0x1000000 + (Math.round((t - R) * p) + R) * 0x10000 + (Math.round((t - G) * p) + G) * 0x100 + (Math.round((t - B) * p) + B)).toString(16).slice(1);\r\n        }\r\n\r\n        public static Svg(parent: Element, type:string,  attributes:string[], classes?: string[]):SVGElement {\r\n            return <SVGElement>Flowchart.Elem(Flowchart.SVGNS, parent, type, attributes, classes);\r\n        }\r\n\r\n        public static Html(parent: Element, type:string,  attributes:string[], classes?: string[], textContent?:string):HTMLElement {\r\n            return <HTMLElement>Flowchart.Elem(Flowchart.HTMLNS, parent, type, attributes, classes, textContent);\r\n        }\r\n\r\n        private static Elem(ns:string, parent:Element, type:string, attributes:string[], classes?: string[], textContent?:string)\r\n        {\r\n            let element = document.createElementNS(ns, type);\r\n            if(classes)\r\n            {\r\n                for (const clazz of classes) {\r\n                    element.classList.add(clazz);\r\n                }\r\n            }\r\n            let i:number;\r\n            for(i=0;i<attributes.length;i+=2)\r\n            {\r\n                element.setAttribute(attributes[i], attributes[i+1]);\r\n            }\r\n            if(textContent)\r\n            {\r\n                element.textContent=textContent;\r\n            }\r\n            parent.appendChild(element);\r\n            return element;\r\n        }\r\n    }\r\n","import { FlowchartOperator } from \"./FlowchartOperator\";\r\nimport { Flowchart } from \"./Flowchart\";\r\nimport { FlowchartLink } from \"./FlowchartLink\";\r\nimport {Location2D} from \"./Utils\"\r\n\r\nconst TRANSLATEY = 20;\r\n\r\nexport enum ConnectorType{\r\n    UNDEFINED =0,\r\n    BOOLEAN=1,\r\n    INTEGER=2,\r\n    FLOAT=3,\r\n    COLOR=4,\r\n}\r\n\r\nexport abstract class FlowchartConnector {\r\n    private static INDEX: number = 0;\r\n    private index: number;\r\n    get GlobalConnectorIndex() { return this.index; }\r\n\r\n    protected element: SVGGElement;\r\n    get Element() { return this.element; }\r\n\r\n    protected snapper:SVGCircleElement;\r\n    protected connector:SVGElement;\r\n    protected connectorGroup:SVGGElement;\r\n\r\n    private links = new Map<number, FlowchartLink>();\r\n    public HasLink = (globalLinkIndex: number) => this.links.has(globalLinkIndex);\r\n    public AddLink = (link: FlowchartLink) => this.links.set(link.GlobalLinkIndex, link);\r\n    public RemoveLink = (link: FlowchartLink) => this.links.delete(link.GlobalLinkIndex);\r\n    get LinksLength() { return this.links.size};\r\n    public GetLinksCopy(): FlowchartLink[] {\r\n        return Array.from(this.links.values());\r\n    }\r\n\r\n    get LinksKVIt(){return this.links.entries()}\r\n    protected abstract GetLinkpointXOffset(width:number): number;\r\n    protected abstract getIOSpecifics():{inputOrOutput:string, parent:SVGGElement, translateY:number, dx:number};\r\n\r\n    public RefreshLinkPositions() {\r\n        this.links.forEach(l=>{\r\n            l.RefreshPosition();\r\n        });\r\n        \r\n    }\r\n\r\n    constructor(private parent: FlowchartOperator, private caption: string, private type:ConnectorType) {\r\n\r\n        this.index = FlowchartConnector.INDEX++;\r\n        let spec = this.getIOSpecifics();\r\n        let translateY = TRANSLATEY*spec.parent.childElementCount;\r\n        this.element = <SVGGElement>Flowchart.Svg(spec.parent, \"g\", [\"transform\", `translate(0 ${translateY})`], [`operator-${spec.inputOrOutput}`]);\r\n        this.element.setAttribute(\"data-connector-datatype\", ConnectorType[type]);\r\n\r\n        let text =  <SVGTextElement>Flowchart.Svg(this.element, \"text\", [\"dx\",\"\"+spec.dx, \"dy\", \"4\"], [`operator-${spec.inputOrOutput}-caption`]);\r\n        text.textContent=caption;\r\n        this.connectorGroup = <SVGGElement>Flowchart.Svg(this.element, \"g\", []);\r\n        this.connector = <SVGCircleElement>Flowchart.Svg(this.connectorGroup, \"circle\", [\"r\",\"4\"], [`operator-${spec.inputOrOutput}-connector`, ConnectorType[type]]);\r\n        this.snapper= <SVGCircleElement>Flowchart.Svg(this.connectorGroup, \"circle\", [\"r\",\"10\"], [`operator-${spec.inputOrOutput}-snapper`]);\r\n        \r\n        this.element.onmouseover = (e) => {\r\n            for (const link of this.links.values()) {\r\n                if (link && link != this.parent.Parent.SelectedLink) {\r\n                    link.ColorizeLink(Flowchart._shadeColor(this.parent.Parent.Options.defaultLinkColor, -0.4));\r\n                }\r\n            }\r\n        }\r\n\r\n        this.element.onmouseout = (e) => {\r\n            for (const link of this.links.values()) {\r\n                if (link && link != this.parent.Parent.SelectedLink) {\r\n                    link.UncolorizeLink();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    get Parent() { return this.parent; }\r\n    get Caption() { return this.caption; }\r\n    get Type() { return this.type; }\r\n\r\n\r\n    public GetLinkpoint(): Location2D {\r\n        let flowchart = this.Parent.Parent;\r\n        let posrat = flowchart.PositionRatio;\r\n        let flowchartRect = flowchart.Element.getBoundingClientRect();\r\n        let connectorRect = this.connector.getBoundingClientRect();\r\n        var x = (connectorRect.left - flowchartRect.left) / posrat + connectorRect.width/2;\r\n        var y = (connectorRect.top - flowchartRect.top) / posrat + connectorRect.height/2;\r\n        return { x: x, y: y };\r\n    }\r\n}\r\n\r\nexport class FlowchartInputConnector extends FlowchartConnector {\r\n    constructor (parent: FlowchartOperator, caption: string, type:ConnectorType) {\r\n        super(parent, caption, type);\r\n        \r\n        this.connectorGroup.onmouseup = (e) => {\r\n           parent.Parent._notifyInputConnectorMouseup(this, e);\r\n        }\r\n        this.connectorGroup.onmouseenter=(e)=>\r\n        {\r\n            parent.Parent._notifyInputConnectorMouseenter(this, e);\r\n        }\r\n        this.connectorGroup.onmouseleave=(e)=>\r\n        {\r\n            parent.Parent._notifyInputConnectorMouseleave(this, e);\r\n        }\r\n    }\r\n    protected GetLinkpointXOffset(width:number): number{return 0;}  \r\n    protected  getIOSpecifics(){return {inputOrOutput:\"input\", parent:this.Parent.InputSvgG, translateY:0, dx:8};}\r\n}\r\nexport class FlowchartOutputConnector extends FlowchartConnector {\r\n    constructor (parent: FlowchartOperator, caption: string, type:ConnectorType) {\r\n        super(parent, caption, type)\r\n        this.element.onmousedown = (e) => {\r\n            parent.Parent._notifyOutputConnectorMousedown(this, e);\r\n        }\r\n    }\r\n    protected GetLinkpointXOffset(width:number): number{return width;}\r\n    protected  getIOSpecifics(){return {inputOrOutput:\"output\", parent:this.Parent.OutputSvgG, translateY:140, dx:-8};}\r\n}\r\n","import { FlowchartOperator } from \"./FlowchartOperator\";\r\nimport { FlowchartLink } from \"./FlowchartLink\";\r\nimport { FlowchartInputConnector, FlowchartOutputConnector, ConnectorType } from \"./FlowchartConnector\";\r\nimport * as operatorimpl from \"./FlowchartOperatorImpl\";\r\nimport { Location2D, Utils } from \"./Utils\"\r\n\r\nexport interface SerializeContext {\r\n    typeIndex2globalConnectorIndex2adressOffset: Map<number, Map<number, number>>;\r\n    buffer: DataView;\r\n    bufferOffset: number;\r\n\r\n}\r\n\r\ndeclare const msCrypto: Crypto;\r\n\r\n\r\n\r\nexport class FlowchartExporter {\r\n\r\n    private static getRandomValuesWithMathRandom(bytes: Uint8Array): void {\r\n        const max = Math.pow(2, 8 * bytes.byteLength / bytes.length);\r\n        for (let i = 0, r; i < bytes.length; i++) {\r\n            bytes[i] = Math.random() * max;\r\n        }\r\n    }\r\n\r\n\r\n    private static getRandomBytes(length: number): Uint8Array {\r\n        const bytes = new Uint8Array(length);\r\n        if (typeof crypto !== 'undefined') {\r\n            crypto.getRandomValues(bytes);\r\n        } else if (typeof msCrypto !== 'undefined') {\r\n            msCrypto.getRandomValues(bytes);\r\n        } else {\r\n            FlowchartExporter.getRandomValuesWithMathRandom(bytes);\r\n        }\r\n        return bytes;\r\n    };\r\n\r\n    public static Export(operators: FlowchartOperator[]) {\r\n        let typeIndex2globalConnectorIndex2adressOffset = new Map<number, Map<number, number>>(); //globalConnectorIndex_Outputs 2 variableAdress\r\n        let typeIndex2maxOffset = new Map<number, number>()\r\n        for (let type in ConnectorType) {\r\n            if (!isNaN(Number(type))) {\r\n                typeIndex2globalConnectorIndex2adressOffset.set(Number(type), new Map<number, number>());\r\n                typeIndex2maxOffset.set(Number(type), 2);\r\n            }\r\n        }\r\n\r\n\r\n        //Iteriere über alle Output-Connectoren aller Operatoren\r\n        //Ein Output, der beschaltet ist, entspricht einer Speicheradresse.\r\n        //Unbeschaltete Outputs schreiben in die Speicheradresse 0. \r\n        //Unbeschaltete Inputs lesen von der Speicheradresse 1\r\n        //Echte Speicheradressen gibt es dann ab Index 2\r\n        //In den Maps stehen die Zuordnung Globaler Connector Index --> Index der Speicheraddresse\r\n        //Außerdem bekannt: Wie viele Speicheradressen von jedem Typ benötigen wir\r\n        for (const operator of operators) {\r\n            for (const outputKV of operator.OutputsKVIt) {\r\n                if (outputKV[1].LinksLength == 0) {\r\n                    //unconnected output -->writes to memory adress zero of the respective data type\r\n                    typeIndex2globalConnectorIndex2adressOffset.get(outputKV[1].Type)!.set(outputKV[1].GlobalConnectorIndex, 0);\r\n                }\r\n                else {\r\n                    //connected output --> create new memory address and set it\r\n                    let index = typeIndex2maxOffset.get(outputKV[1].Type)!;\r\n                    typeIndex2globalConnectorIndex2adressOffset.get(outputKV[1].Type)!.set(outputKV[1].GlobalConnectorIndex, index);\r\n                    index++;\r\n                    typeIndex2maxOffset.set(outputKV[1].Type, index);\r\n                }\r\n            }\r\n        }\r\n\r\n        /*\r\n        Lege nun die Operatoren in der durch das Array vorgegebenen Struktur in ein Array ab\r\n        */\r\n        let buffer = new ArrayBuffer(Math.pow(2, 16));\r\n        let ctx: SerializeContext = { typeIndex2globalConnectorIndex2adressOffset: typeIndex2globalConnectorIndex2adressOffset, buffer: new DataView(buffer), bufferOffset: 0 };\r\n        //Version of Data Structure\r\n        ctx.buffer.setUint32(ctx.bufferOffset, 0xAFFECAFE, true); //Version 0xAFFECAFE means: Development\r\n        ctx.bufferOffset += 4;\r\n        //GUID\r\n        let guid=FlowchartExporter.getRandomBytes(16)\r\n        guid.forEach((v,i)=>{ctx.buffer.setUint8(ctx.bufferOffset+i, v)}); //guid of the model\r\n        ctx.bufferOffset += 16;\r\n\r\n        for (const operator of operators) {\r\n            operator.SerializeToBinary(ctx);\r\n        }\r\n        let code: String = \"const uint8_t code[] = {\"\r\n        for (let i = 0; i < ctx.bufferOffset; i++) {\r\n            code += \"0x\" + ctx.buffer.getUint8(i).toString(16) + \", \";\r\n        }\r\n        code += \"};\";\r\n        window.alert(code);\r\n        //var file = new Blob([buffer.slice(0,ctx.bufferOffset)], {type: \"application/octet-stream\"});\r\n        //URL.createObjectURL(file)\r\n        return guid;\r\n    }\r\n\r\n}","import { FlowchartInputConnector, FlowchartOutputConnector } from \"./FlowchartConnector\";\r\nimport { Flowchart } from \"./Flowchart\";\r\nexport class FlowchartLink {\r\n    private static MAX_INDEX: number = 0;\r\n    private index: number;\r\n    private element: SVGPathElement;\r\n    private captionElement: SVGTextElement;\r\n    constructor(private parent: Flowchart, private caption: string, private color: string, private from: FlowchartOutputConnector, private to: FlowchartInputConnector) {\r\n        this.index = FlowchartLink.MAX_INDEX++;\r\n        this.element = <SVGPathElement>Flowchart.Svg(parent.LinkLayer, \"path\", [\"stroke-width\", \"\" + this.parent.Options.linkWidth, \"fill\", \"none\", \"id\", \"LINK\" + this.index]);\r\n        this.RefreshPosition();\r\n        this.UncolorizeLink();\r\n        this.parent.LinkLayer.appendChild(this.element);\r\n        this.captionElement =<SVGTextElement>Flowchart.Svg(parent.LinkLayer, \"text\",[]);\r\n        let captionPath = <SVGTextPathElement>Flowchart.Svg(this.captionElement, \"textPath\",[\"startOffset\", \"50%\",\"text-anchor\", \"middle\"]);\r\n        captionPath.setAttributeNS(Flowchart.XLINKNS, \"href\", '#' + \"LINK\" + this.index);\r\n        captionPath.innerHTML = caption;\r\n        this.element.onclick = (e) => {\r\n            this.parent._notifyLinkClicked(this, e);\r\n        }\r\n    }\r\n    get GlobalLinkIndex() { return this.index; }\r\n    get From() { return this.from; }\r\n    get To() { return this.to; }\r\n    set Color(color: string) { this.color = color; }\r\n\r\n    public RemoveFromDOM() {\r\n        this.element.remove();\r\n        this.captionElement.remove();\r\n    }\r\n\r\n\r\n    public ColorizeLink(color: string) {\r\n        this.element.setAttribute('stroke', color);\r\n        //this.element.setAttribute('fill', color);\r\n        //TODO: colorize the small triangle in the connector\r\n        //linkData.internal.els.fromSmallConnector.css('border-left-color', color);\r\n        //linkData.internal.els.toSmallConnector.css('border-left-color', color);\r\n    }\r\n\r\n    public UncolorizeLink() {\r\n        this.ColorizeLink(this.parent.Options.defaultLinkColor);\r\n    }\r\n\r\n    public RefreshPosition() {\r\n        let fromPosition = this.from.GetLinkpoint();\r\n        let toPosition = this.to.GetLinkpoint();\r\n        let fromX = fromPosition.x;\r\n        let fromY = fromPosition.y + this.parent.Options.linkVerticalDecal;\r\n        let toX = toPosition.x;\r\n        let toY = toPosition.y + this.parent.Options.linkVerticalDecal;\r\n        let distanceFromArrow = this.parent.Options.distanceFromArrow;\r\n        let bezierFromX = (fromX + distanceFromArrow);\r\n        let bezierToX = toX + 1;\r\n        let bezierIntensity = Math.min(100, Math.max(Math.abs(bezierFromX - bezierToX) / 2, Math.abs(fromY - toY)));\r\n        this.element.setAttribute(\"d\", 'M' + bezierFromX + ',' + (fromY) + ' C' + (fromX + distanceFromArrow + bezierIntensity) + ',' + fromY + ' ' + (toX - bezierIntensity) + ',' + toY + ' ' + bezierToX + ',' + toY);\r\n    }\r\n}\r\n","import {ConnectorType, FlowchartInputConnector, FlowchartOutputConnector } from \"./FlowchartConnector\";\r\nimport {Flowchart} from \"./Flowchart\";\r\nimport {Utils} from \"./Utils\"\r\nimport { SerializeContext } from \"./FlowchartExporter\";\r\n\r\nexport enum PositionType{\r\n    Default,\r\n    Input,\r\n    Output,\r\n};\r\nexport enum SingletonType{\r\n    Default,\r\n    Singleton,\r\n};\r\nexport class TypeInfo\r\n{\r\n    constructor(public GlobalTypeIndex:number, public Position:PositionType, public Singleton:SingletonType){}\r\n}\r\n\r\nexport abstract class FlowchartOperator {\r\n\r\n    //der Index der Inputs ist rein lokal und beginnt bei 0 fortlaufend\r\n    private Inputs: FlowchartInputConnector[]=[];\r\n    //der Index der Outputs ist rein lokal und beginnt bei 0 fortlaufend\r\n    private Outputs: FlowchartOutputConnector[]= [];\r\n\r\n\r\n    private static MAX_INDEX: number = 0;\r\n    private index: number;\r\n    get GlobalOperatorIndex(){return this.index;}\r\n\r\n    private elementSvgG: SVGGElement;\r\n    get ElementSvgG() { return this.elementSvgG; }\r\n    private inputSvgG:SVGGElement;\r\n    get InputSvgG(): SVGGElement { return this.inputSvgG; }\r\n    private outputSvgG:SVGGElement;\r\n    get OutputSvgG(): SVGGElement { return this.outputSvgG;}\r\n    private debugInfoSvgText:SVGTextElement;\r\n\r\n    get TypeInfo(){return this.typeInfo;}\r\n\r\n    private x=0;\r\n    private y=0;\r\n\r\n    private box:SVGRectElement;\r\n\r\n    public ShowAsSelected(state:boolean)\r\n    {\r\n        if(state)\r\n        {\r\n            this.box.classList.add('selected');\r\n        }\r\n        else{\r\n            this.box.classList.remove('selected');\r\n        }\r\n    }\r\n\r\n    public SetDebugInfoText(text:string):void{\r\n        this.debugInfoSvgText.textContent=text;\r\n    }\r\n\r\n    constructor(private parent: Flowchart, private caption: string, private typeInfo: TypeInfo) {\r\n        this.index = FlowchartOperator.MAX_INDEX++;\r\n        this.elementSvgG = <SVGGElement>Flowchart.Svg(parent.OperatorsLayer, \"g\", [], [\"operator\"]);\r\n\r\n        this.elementSvgG.setAttribute('data-operator-index', \"\" + this.index);\r\n        this.box = <SVGRectElement>Flowchart.Svg(this.elementSvgG, \"rect\", [\"width\",\"140\", \"height\", \"100\", \"rx\", \"10\", \"ry\", \"10\"], [\"operator-box\"]);\r\n        let title = <SVGTextElement>Flowchart.Svg(this.elementSvgG,\"text\", [\"x\", \"5\", \"y\", \"21\"],[\"operator-title\"]);\r\n        title.textContent = caption;\r\n        this.inputSvgG= <SVGGElement>Flowchart.Svg(this.elementSvgG,\"g\", [\"transform\", \"translate(0 50)\"], [\"operator-inputs\"]);\r\n        this.outputSvgG= <SVGGElement>Flowchart.Svg(this.elementSvgG,\"g\", [\"transform\", \"translate(140 50)\"], [\"operator-outputs\"]);\r\n        this.debugInfoSvgText = <SVGTextElement>Flowchart.Svg(this.elementSvgG, \"text\", [\"x\", \"0\", \"y\", \"100\"],[\"operator-debuginfo\"]);\r\n        this.debugInfoSvgText.textContent=\"No debug info\";\r\n\r\n        this.box.onclick = (e) => {\r\n            console.log(\"FlowchartOperator this.box.onclick\");\r\n            parent._notifyOperatorClicked(this, e);\r\n        };\r\n        \r\n        if (this.parent.Options.canUserMoveOperators) {\r\n            title.onmousedown = (e) => {\r\n                this.RegisterDragging(e);\r\n            }\r\n        }\r\n    }\r\n    public RegisterDragging(e:MouseEvent)\r\n    {\r\n        let offsetInOperator = Utils.EventCoordinatesInSVG(e, this.ElementSvgG); //offset innerhalb des Operators\r\n        //Wir benötigen den Offset zwischen der aktuellen Position des Objektes und \r\n        let offsetX= e.clientX-this.x;\r\n        let offsetY = e.clientY-this.y;\r\n\r\n\r\n        document.onmouseup = (e) => {\r\n            document.onmouseup = null;\r\n            document.onmousemove = null;\r\n        };\r\n        document.onmousemove = e => {\r\n            //TODO: neue Position nur setzen, wenn this.element.clientRect innerhalb von parent.clientRectangle ist\r\n            this.MoveTo(e.clientX - offsetX, e.clientY - offsetY);\r\n        };\r\n    }\r\n    get Parent() { return this.parent };\r\n    get Caption() { return this.caption; }\r\n\r\n    get InputsKVIt(){return this.Inputs.entries()}\r\n    get OutputsKVIt(){return this.Outputs.entries()}\r\n    public GetOutputConnectorByIndex=(i:number)=>this.Outputs[i];\r\n    public GetInputConnectorByIndex=(i:number)=>this.Inputs[i];\r\n\r\n    public RemoveFromDOM(): void {\r\n        this.elementSvgG.remove();\r\n    }\r\n\r\n    protected AppendConnectors(inputs: FlowchartInputConnector[], outputs: FlowchartOutputConnector[]) {\r\n        if(this.Inputs.length!=0 || this.Outputs.length !=0) throw new Error(\"AppendConnectors may only be called once!\");\r\n        for (const i of inputs) {\r\n            if (i.Parent != this) continue;\r\n            this.Inputs.push(i);\r\n        }\r\n        for (const o of outputs) {\r\n            if (o.Parent != this) continue;\r\n            this.Outputs.push(o);\r\n        }\r\n        let num = Math.max(this.Inputs.length, this.Outputs.length);\r\n        let height = 50+num*20+10;\r\n        this.box.setAttribute(\"height\", \"\"+height);\r\n        this.debugInfoSvgText.setAttribute(\"y\", \"\"+height);\r\n        //TODO RedrawConnectors; Connectors zeichnen sich nicht im Construktur, sondern erst nach dem Appenden, um die Reihenfolgen in derser Liste und im DOM gleich zu haben\r\n    }\r\n\r\n    public MoveTo(x: number, y: number) {\r\n        let g = this.parent.Options.grid;\r\n        this.x = Math.round(x / g) * g;\r\n        this.y = Math.round(y / g) * g;\r\n        this.elementSvgG.setAttribute(\"transform\", `translate(${this.x} ${this.y})`);\r\n        for (const c of this.Inputs) {\r\n            c.RefreshLinkPositions();\r\n        }\r\n        for (const c of this.Outputs) {\r\n            c.RefreshLinkPositions();\r\n        }\r\n    }\r\n\r\n    public PopulateProperyGrid(parent:HTMLTableElement):boolean\r\n    {\r\n        //let tr=Flowchart.Html(parent, \"tr\", [],[\"develop-propertygrid-tr\"]);\r\n        //Flowchart.Html(tr, \"td\", [],[\"develop-propertygrid-td\"], \"AKey\");\r\n        //Flowchart.Html(tr, \"td\", [],[\"develop-propertygrid-td\"], \"AValue\");\r\n        return false;\r\n    }\r\n    \r\n    protected SerializeInputsAndOutputs(ctx:SerializeContext)\r\n    {\r\n        for (const input of this.Inputs) {\r\n            let variableAdress = 0;\r\n            let links = input.GetLinksCopy();\r\n            if(links.length==0){\r\n                variableAdress=1; //because unconnected inputs read from adress 1 (which is \"false\", 0, 0.0, black...)\r\n            }\r\n            else{\r\n                let out = links[0].From;\r\n                variableAdress=ctx.typeIndex2globalConnectorIndex2adressOffset.get(out.Type)!.get(out.GlobalConnectorIndex)||1;\r\n            }\r\n            ctx.buffer.setUint32(ctx.bufferOffset, variableAdress, true);\r\n            ctx.bufferOffset+=4;\r\n        }\r\n        for(const output of this.Outputs)\r\n        {\r\n            let variableAdress = 0;\r\n            if(output.LinksLength==0){\r\n                variableAdress=0; //because unconnected outputs write to adress 0 (which is never read!)\r\n            }\r\n            else{\r\n                variableAdress=ctx.typeIndex2globalConnectorIndex2adressOffset.get(output.Type)!.get(output.GlobalConnectorIndex)||1;\r\n            }\r\n            ctx.buffer.setUint32(ctx.bufferOffset, variableAdress, true);\r\n            ctx.bufferOffset+=4;\r\n        }\r\n    }\r\n\r\n    public SerializeToBinary(ctx:SerializeContext)\r\n    {\r\n        //serialize Type\r\n        ctx.buffer.setUint32(ctx.bufferOffset, this.TypeInfo.GlobalTypeIndex, true);\r\n        ctx.bufferOffset+=4;\r\n        //Index of instance\r\n        ctx.buffer.setUint32(ctx.bufferOffset, this.GlobalOperatorIndex, true);\r\n        ctx.bufferOffset+=4;\r\n        this.SerializeInputsAndOutputs(ctx);\r\n        this.SerializeFurtherProperties(ctx);\r\n        //ctx.buffer.setUint32(ctx.bufferOffset, 0xAFFECAFE, true);\r\n        //ctx.bufferOffset+=4;\r\n    }\r\n    \r\n    protected SerializeFurtherProperties(mapper:SerializeContext):void{\r\n        return;\r\n    }\r\n}\r\n","import {FlowchartOperator, TypeInfo, PositionType, SingletonType} from \"./FlowchartOperator\";\r\nimport {Flowchart} from \"./Flowchart\";\r\nimport {FlowchartInputConnector, FlowchartOutputConnector, ConnectorType} from \"./FlowchartConnector\";\r\nimport { SerializeContext } from \"./FlowchartExporter\";\r\n\r\nconst ANDOperator_TypeIndex = 1;\r\n\r\n\r\nexport class ANDOperator extends FlowchartOperator {\r\n  \r\n    constructor(parent: Flowchart, caption: string) {\r\n        super(parent, caption, new TypeInfo(1, PositionType.Default, SingletonType.Default));\r\n        let A = new FlowchartInputConnector(this, \"A\", ConnectorType.BOOLEAN);\r\n        let B = new FlowchartInputConnector(this, \"B\", ConnectorType.BOOLEAN);\r\n        let C = new FlowchartOutputConnector(this, \"C\", ConnectorType.BOOLEAN);\r\n        this.AppendConnectors([A, B], [C]);\r\n    }\r\n}\r\n\r\nexport class OROperator extends FlowchartOperator {\r\n    constructor(parent: Flowchart, caption: string) {\r\n        super(parent, caption, new TypeInfo(2, PositionType.Default, SingletonType.Default));\r\n        let A = new FlowchartInputConnector(this, \"A\", ConnectorType.BOOLEAN);\r\n        let B = new FlowchartInputConnector(this, \"B\", ConnectorType.BOOLEAN);\r\n        let C = new FlowchartOutputConnector(this, \"C\", ConnectorType.BOOLEAN);\r\n        this.AppendConnectors([A, B], [C]);\r\n    }\r\n}\r\n\r\nexport class ADDOperator extends FlowchartOperator {\r\n    constructor(parent: Flowchart, caption: string) {\r\n        super(parent, caption, new TypeInfo(3, PositionType.Default, SingletonType.Default));\r\n        let A = new FlowchartInputConnector(this, \"A\", ConnectorType.INTEGER);\r\n        let B = new FlowchartInputConnector(this, \"B\", ConnectorType.INTEGER);\r\n        let C = new FlowchartOutputConnector(this, \"C\", ConnectorType.INTEGER);\r\n        this.AppendConnectors([A, B], [C]);\r\n    }\r\n}\r\n\r\nexport class MULTOperator extends FlowchartOperator {\r\n    constructor(parent: Flowchart, caption: string) {\r\n        super(parent, caption, new TypeInfo(4, PositionType.Default, SingletonType.Default));\r\n        let A = new FlowchartInputConnector(this, \"A\", ConnectorType.INTEGER);\r\n        let B = new FlowchartInputConnector(this, \"B\", ConnectorType.INTEGER);\r\n        let C = new FlowchartOutputConnector(this, \"C\", ConnectorType.INTEGER);\r\n        this.AppendConnectors([A, B], [C]);\r\n    }\r\n}\r\n\r\nexport class MAXOperator extends FlowchartOperator {\r\n    constructor(parent: Flowchart, caption: string) {\r\n        super(parent, caption, new TypeInfo(5, PositionType.Default, SingletonType.Default));\r\n        let A = new FlowchartInputConnector(this, \"A\", ConnectorType.INTEGER);\r\n        let B = new FlowchartInputConnector(this, \"B\", ConnectorType.INTEGER);\r\n        let C = new FlowchartOutputConnector(this, \"C\", ConnectorType.INTEGER);\r\n        this.AppendConnectors([A, B], [C]);\r\n    }\r\n}\r\n\r\nexport class MINOperator extends FlowchartOperator {\r\n    constructor(parent: Flowchart, caption: string) {\r\n        super(parent, caption, new TypeInfo(6, PositionType.Default, SingletonType.Default));\r\n        let A = new FlowchartInputConnector(this, \"A\", ConnectorType.INTEGER);\r\n        let B = new FlowchartInputConnector(this, \"B\", ConnectorType.INTEGER);\r\n        let C = new FlowchartOutputConnector(this, \"C\", ConnectorType.INTEGER);\r\n        this.AppendConnectors([A, B], [C]);\r\n    }\r\n}\r\n\r\nexport class RSOperator extends FlowchartOperator {\r\n    constructor(parent: Flowchart, caption: string) {\r\n        super(parent, caption, new TypeInfo(7, PositionType.Default, SingletonType.Default));\r\n        let R = new FlowchartInputConnector(this, \"R\", ConnectorType.BOOLEAN);\r\n        let S = new FlowchartInputConnector(this, \"S\", ConnectorType.BOOLEAN);\r\n        let C = new FlowchartOutputConnector(this, \"C\", ConnectorType.BOOLEAN);\r\n        this.AppendConnectors([R, S], [C]);\r\n    }\r\n}\r\n\r\nexport class NotOperator extends FlowchartOperator {\r\n    constructor(parent: Flowchart, caption: string) {\r\n        super(parent, caption, new TypeInfo(8, PositionType.Default, SingletonType.Default));\r\n        let A = new FlowchartInputConnector(this, \"A\", ConnectorType.BOOLEAN);\r\n        let C = new FlowchartOutputConnector(this, \"C\", ConnectorType.BOOLEAN);\r\n        this.AppendConnectors([A], [C]);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class GreenButtonOperator extends FlowchartOperator {\r\n    public StorageId:string;\r\n    constructor(parent: Flowchart, caption: string) {\r\n        super(parent, caption, new TypeInfo(9, PositionType.Input, SingletonType.Singleton));\r\n        let O = new FlowchartOutputConnector(this, \"IsPressed\", ConnectorType.BOOLEAN);\r\n        this.AppendConnectors([], [O]);\r\n        this.StorageId=\"4711\";\r\n    }\r\n}\r\n\r\nexport class EncoderButtonOperator extends FlowchartOperator {\r\n    public StorageId:string;\r\n    constructor(parent: Flowchart, caption: string) {\r\n        super(parent, caption, new TypeInfo(10, PositionType.Input, SingletonType.Singleton));\r\n        let O = new FlowchartOutputConnector(this, \"IsPressed\", ConnectorType.BOOLEAN);\r\n        this.AppendConnectors([], [O]);\r\n        this.StorageId=\"4711\";\r\n    }\r\n}\r\n\r\nexport class RedButtonOperator extends FlowchartOperator {\r\n    public StorageId:string;\r\n    constructor(parent: Flowchart, caption: string) {\r\n        super(parent, caption, new TypeInfo(11, PositionType.Input, SingletonType.Singleton));\r\n        let O = new FlowchartOutputConnector(this, \"IsPressed\", ConnectorType.BOOLEAN);\r\n        this.AppendConnectors([], [O]);\r\n        this.StorageId=\"4711\";\r\n    }\r\n}\r\n\r\nexport class MoveSensorOperator extends FlowchartOperator {\r\n    public StorageId:string;\r\n    constructor(parent: Flowchart, caption: string) {\r\n        super(parent, caption, new TypeInfo(12, PositionType.Input, SingletonType.Singleton));\r\n        let O = new FlowchartOutputConnector(this, \"Movement\", ConnectorType.BOOLEAN);\r\n        this.AppendConnectors([], [O]);\r\n        this.StorageId=\"4711\";\r\n    }\r\n}\r\n\r\nexport class TempSensorOperator extends FlowchartOperator {\r\n    public StorageId:string;\r\n    constructor(parent: Flowchart, caption: string) {\r\n        super(parent, caption, new TypeInfo(13, PositionType.Input, SingletonType.Singleton));\r\n        let O = new FlowchartOutputConnector(this, \"Temperatur\", ConnectorType.FLOAT);\r\n        this.AppendConnectors([], [O]);\r\n        this.StorageId=\"4711\";\r\n    }\r\n}\r\n\r\nexport class RelayOperator extends FlowchartOperator {\r\n    public StorageId:string;\r\n    constructor(parent: Flowchart, caption: string) {\r\n        super(parent, caption, new TypeInfo(14, PositionType.Output, SingletonType.Singleton));\r\n        let conn = new FlowchartInputConnector(this, \"Relay\", ConnectorType.BOOLEAN);\r\n        this.AppendConnectors([conn], []);\r\n        this.StorageId=\"4711\";\r\n    }\r\n}\r\n\r\nexport class RedLedOperator extends FlowchartOperator {\r\n    public StorageId:string;\r\n    constructor(parent: Flowchart, caption: string) {\r\n        super(parent, caption, new TypeInfo(15, PositionType.Output, SingletonType.Singleton));\r\n        let conn = new FlowchartInputConnector(this, \"LED\", ConnectorType.BOOLEAN);\r\n        this.AppendConnectors([conn], []);\r\n        this.StorageId=\"4711\";\r\n    }\r\n}\r\n\r\nexport class YellowLedOperator extends FlowchartOperator {\r\n    public StorageId:string;\r\n    constructor(parent: Flowchart, caption: string) {\r\n        super(parent, caption, new TypeInfo(16, PositionType.Output, SingletonType.Singleton));\r\n        let conn = new FlowchartInputConnector(this, \"LED\", ConnectorType.BOOLEAN);\r\n        this.AppendConnectors([conn], []);\r\n        this.StorageId=\"4711\";\r\n    }\r\n}\r\n\r\nexport class GreenLedOperator extends FlowchartOperator {\r\n    public StorageId:string;\r\n    constructor(parent: Flowchart, caption: string) {\r\n        super(parent, caption, new TypeInfo(17, PositionType.Output, SingletonType.Singleton));\r\n        let conn = new FlowchartInputConnector(this, \"LED\", ConnectorType.BOOLEAN);\r\n        this.AppendConnectors([conn], []);\r\n        this.StorageId=\"4711\";\r\n    }\r\n}\r\n\r\nexport class ConstTRUEOperator extends FlowchartOperator {\r\n    public StorageId:string;\r\n    constructor(parent: Flowchart, caption: string) {\r\n        super(parent, caption, new TypeInfo(18, PositionType.Input, SingletonType.Default));\r\n        let O = new FlowchartOutputConnector(this, \"TRUE\", ConnectorType.BOOLEAN);\r\n        this.AppendConnectors([], [O]);\r\n        this.StorageId=\"4711\";\r\n    }\r\n}\r\n\r\nexport class ConstINTOperator extends FlowchartOperator {\r\n    public StorageId:string;\r\n    constructor(parent: Flowchart, caption: string) {\r\n        super(parent, caption, new TypeInfo(19, PositionType.Input, SingletonType.Default));\r\n        let O = new FlowchartOutputConnector(this, \"Out\", ConnectorType.BOOLEAN);\r\n        this.AppendConnectors([], [O]);\r\n        this.StorageId=\"4711\";\r\n    }\r\n\r\n    public PopulateProperyGrid(parent:HTMLTableElement):boolean\r\n    {\r\n        PropertyGridHelpers.Number(parent, \"Constant\", -32768, 32767);\r\n        return true;\r\n    }\r\n}\r\n\r\nclass PropertyGridHelpers\r\n{\r\n    public static Number(table:HTMLTableElement, key:string, min:number, max:number)\r\n    {\r\n        let tr=Flowchart.Html(table, \"tr\", [],[\"develop-propertygrid-tr\"]);\r\n        Flowchart.Html(tr, \"td\", [],[\"develop-propertygrid-td\"], key);\r\n        let inputContainer = Flowchart.Html(tr, \"td\", [],[\"develop-propertygrid-td\"]);\r\n        Flowchart.Html(inputContainer, \"input\", [\"type\", \"number\", \"min\", \"\"+Math.round(min), \"max\", \"\"+Math.round(max)])\r\n    }\r\n}\r\n","//https://en.wikipedia.org/wiki/Topological_sorting\r\n\r\n\r\nenum MarkerState\r\n{\r\n    NONE,\r\n    TEMPORARY,\r\n    PERMANENT,\r\n}\r\n\r\nexport class  NodeWrapper<N> {\r\n    constructor(private payload:N) {\r\n        this.Mark=MarkerState.NONE;\r\n        this.DependendNodes=[];\r\n    }\r\n    public Mark:MarkerState\r\n    public DependendNodes:NodeWrapper<N>[];\r\n    get Payload() {return this.payload;}\r\n};\r\n\r\nexport class TopologicalSortDFS<N>{\r\n    private L:Array<NodeWrapper<N>>;\r\n    constructor()\r\n    {\r\n        this.L=new Array<NodeWrapper<N>>();\r\n    }\r\n\r\n    public sort(headNode:Array<NodeWrapper<N>>)\r\n    {\r\n        this.L=new Array<NodeWrapper<N>>();\r\n        headNode.forEach((n)=>this.visit(n));\r\n        return this.L;\r\n    }\r\n\r\n    private visit(n:NodeWrapper<N>){\r\n        if(n.Mark==MarkerState.PERMANENT) return;\r\n        if(n.Mark==MarkerState.TEMPORARY) throw new Error(\"not a DAG\");\r\n        n.Mark=MarkerState.TEMPORARY;\r\n        for (const d of n.DependendNodes) {\r\n            this.visit(d);\r\n        }\r\n        n.Mark=MarkerState.PERMANENT;\r\n        this.L.push(n);\r\n    }\r\n}","export class Utils\r\n{\r\n    public static EventCoordinatesInSVG(evt:MouseEvent, element:Element, positionRatio:number=1):Location2D {\r\n        let rect = element.getBoundingClientRect();\r\n        return {x: (evt.clientX - rect.left)/positionRatio, y:(evt.clientY - rect.top)/positionRatio}\r\n    }\r\n}\r\n\r\nexport interface Location2D {\r\n    x: number;\r\n    y: number;\r\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvQXBwLnRzIiwic3JjL0Zsb3djaGFydC50cyIsInNyYy9GbG93Y2hhcnRDb25uZWN0b3IudHMiLCJzcmMvRmxvd2NoYXJ0RXhwb3J0ZXIudHMiLCJzcmMvRmxvd2NoYXJ0TGluay50cyIsInNyYy9GbG93Y2hhcnRPcGVyYXRvci50cyIsInNyYy9GbG93Y2hhcnRPcGVyYXRvckltcGwudHMiLCJzcmMvVG9wb2xvZ2ljYWxTb3JmREZTLnRzIiwic3JjL1V0aWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0FDQ0EsMkNBQXVFO0FBR3ZFLE1BQXNCLGdCQUFnQjtJQUVsQyxZQUFzQixHQUFtQjtRQUFuQixRQUFHLEdBQUgsR0FBRyxDQUFnQjtRQUNyQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDZixJQUFJLENBQUMsS0FBSyxHQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUM7SUFDdkMsQ0FBQztJQUNELElBQUksU0FBUyxLQUFLLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3ZDLElBQUksS0FBSyxLQUFHLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFBLENBQUM7SUFDL0IsSUFBSSxLQUFLLENBQUMsS0FBcUIsSUFBRSxJQUFJLENBQUMsS0FBSyxHQUFDLEtBQUssQ0FBQyxDQUFBLENBQUM7SUFLNUMsT0FBTztRQUNWLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7SUFDckMsQ0FBQztJQUNNLE9BQU87UUFDVixJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO0lBQ3BDLENBQUM7Q0FDSjtBQW5CRCw0Q0FtQkM7QUFFRCxNQUFhLG9CQUFxQixTQUFRLGdCQUFnQjtJQVF0RCxZQUFtQixHQUFtQjtRQUNsQyxLQUFLLENBQUMsR0FB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Q3pDLElBQUcsQ0FBQyxDQUFDLElBQUksSUFBRSxXQUFXLENBQUMsU0FBUztZQUFFLE1BQU0sSUFBSSxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDL0QsQ0FBQyxDQUFDLElBQUksR0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDO1FBQzdCLEtBQUssTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLGNBQWMsRUFBRTtZQUM5QixJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ2pCO1FBQ0QsQ0FBQyxDQUFDLElBQUksR0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDO1FBQzdCLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ25CLENBQUM7Q0FDSjtBQXhCRCxnREF3QkM7Ozs7O0FDNUNELE1BQWEsS0FBSztJQUVQLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxHQUFjLEVBQUUsT0FBZSxFQUFFLGdCQUFxQixDQUFDO1FBQ3ZGLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO1FBQzNDLE9BQU8sRUFBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBQyxhQUFhLEVBQUUsQ0FBQyxFQUFDLENBQUMsR0FBRyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUMsYUFBYSxFQUFDLENBQUE7SUFDakcsQ0FBQztDQUNKO0FBTkQsc0JBTUMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJcclxuaW1wb3J0IHtGbG93Y2hhcnQsIEZsb3djaGFydERhdGEsIEZsb3djaGFydE9wdGlvbnN9IGZyb20gXCIuL0Zsb3djaGFydFwiO1xyXG5kZWNsYXJlIGxldCBDaGFydGlzdDogYW55O1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFNjcmVlbkNvbnRyb2xsZXIge1xyXG4gICAgcHJpdmF0ZSBzdGF0ZTpDb250cm9sbGVyU3RhdGU7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgZGl2OiBIVE1MRGl2RWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuaGlkZURJVigpO1xyXG4gICAgICAgIHRoaXMuc3RhdGU9Q29udHJvbGxlclN0YXRlLkNSRUFURUQ7XHJcbiAgICB9XHJcbiAgICBnZXQgRWxlbWVudElkKCkgeyByZXR1cm4gdGhpcy5kaXYuaWQ7IH1cclxuICAgIGdldCBTdGF0ZSgpe3JldHVybiB0aGlzLnN0YXRlO31cclxuICAgIHNldCBTdGF0ZSh2YWx1ZTpDb250cm9sbGVyU3RhdGUpe3RoaXMuc3RhdGU9dmFsdWU7fVxyXG4gICAgYWJzdHJhY3Qgb25DcmVhdGUoKTp2b2lkO1xyXG4gICAgYWJzdHJhY3Qgb25GaXJzdFN0YXJ0KCk6dm9pZDtcclxuICAgIGFic3RyYWN0IG9uUmVzdGFydCgpOnZvaWQ7XHJcbiAgICBhYnN0cmFjdCBvblN0b3AoKTp2b2lkO1xyXG4gICAgcHVibGljIHNob3dESVYoKSB7XHJcbiAgICAgICAgdGhpcy5kaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgIH1cclxuICAgIHB1YmxpYyBoaWRlRElWKCkge1xyXG4gICAgICAgIHRoaXMuZGl2LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIERldmVsb3BDRkNDb250cm9sbGVyIGV4dGVuZHMgU2NyZWVuQ29udHJvbGxlciB7XHJcbiAgICBwcml2YXRlIGZjOkZsb3djaGFydDtcclxuICAgIG9uRmlyc3RTdGFydCgpOiB2b2lkIHtcclxuICAgICAgIHRoaXMuZmMub25GaXJzdFN0YXJ0KCk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgb25SZXN0YXJ0KCk6IHZvaWQge31cclxuICAgIHB1YmxpYyBvblN0b3AoKTogdm9pZCB7fVxyXG4gICAgcHVibGljIG9uQ3JlYXRlKCkge31cclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBkaXY6IEhUTUxEaXZFbGVtZW50KSB7XHJcbiAgICAgICAgc3VwZXIoZGl2KTtcclxuICAgICAgICBsZXQgZGF0YTogRmxvd2NoYXJ0RGF0YSA9IHtcclxuICAgICAgICAgICAgb3BlcmF0b3JzOiBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FwdGlvbjogXCJSZWRCdXR0b25fMVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiUmVkQnV0dG9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IFwiUmVkQnV0dG9uXzFcIixcclxuICAgICAgICAgICAgICAgICAgICBwb3NYOiAxMCxcclxuICAgICAgICAgICAgICAgICAgICBwb3NZOiAxMCxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FwdGlvbjogXCJHcmVlbkJ1dHRvbl8xXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJHcmVlbkJ1dHRvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGlkOiBcIkdyZWVuQnV0dG9uXzFcIixcclxuICAgICAgICAgICAgICAgICAgICBwb3NYOiAxMCxcclxuICAgICAgICAgICAgICAgICAgICBwb3NZOiAxNTAsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhcHRpb246IFwiQU5EXzFcIixcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIkFORFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGlkOiBcIkFORF8xXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgcG9zWDogMjUwLFxyXG4gICAgICAgICAgICAgICAgICAgIHBvc1k6IDEwLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXB0aW9uOiBcIlJlZExlZF8xXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJSZWRMZWRcIixcclxuICAgICAgICAgICAgICAgICAgICBpZDogXCJSZWRMZWRfMVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHBvc1g6IDUwMCxcclxuICAgICAgICAgICAgICAgICAgICBwb3NZOiAxMCxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBsaW5rczogW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcImJsYWNrXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZnJvbUlkOiBcIlJlZEJ1dHRvbl8xXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZnJvbU91dHB1dDogMCxcclxuICAgICAgICAgICAgICAgICAgICB0b0lkOiBcIkFORF8xXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdG9JbnB1dDogMFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCJibGFja1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIGZyb21JZDogXCJHcmVlbkJ1dHRvbl8xXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZnJvbU91dHB1dDogMCxcclxuICAgICAgICAgICAgICAgICAgICB0b0lkOiBcIkFORF8xXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdG9JbnB1dDogMVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCJibGFja1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIGZyb21JZDogXCJBTkRfMVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGZyb21PdXRwdXQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgdG9JZDogXCJSZWRMZWRfMVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvSW5wdXQ6IDBcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGxldCBvcHRpb25zID0gbmV3IEZsb3djaGFydE9wdGlvbnMoKTtcclxuICAgICAgICBvcHRpb25zLmRhdGEgPSBkYXRhO1xyXG4gICAgICAgIHRoaXMuZmMgPSBuZXcgRmxvd2NoYXJ0KHRoaXMuZGl2LCBvcHRpb25zKTtcclxuICAgIH1cclxuICAgIFxyXG5cclxufVxyXG5cclxuY2xhc3MgRGFzaGJvYXJkQ29udHJvbGxlciBleHRlbmRzIFNjcmVlbkNvbnRyb2xsZXIge1xyXG4gICAgcHVibGljIG9uRmlyc3RTdGFydCgpOiB2b2lkIHt9XHJcbiAgICBwdWJsaWMgb25SZXN0YXJ0KCk6IHZvaWQge31cclxuICAgIHB1YmxpYyBvblN0b3AoKTogdm9pZCB7fVxyXG4gICAgcHVibGljIG9uQ3JlYXRlKCkge31cclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBkaXY6IEhUTUxEaXZFbGVtZW50KSB7XHJcbiAgICAgICAgc3VwZXIoZGl2KTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmludGVyZmFjZSBDaGFydGlzdERhdGFcclxue1xyXG4gICAgbGFiZWxzOnN0cmluZ1tdO1xyXG4gICAgc2VyaWVzOm51bWJlcltdW107XHJcbiAgICBsb3c6bnVtYmVyO1xyXG4gICAgaGlnaDpudW1iZXI7XHJcbn1cclxuXHJcbmNsYXNzIFJlcG9ydHNDb250cm9sbGVyIGV4dGVuZHMgU2NyZWVuQ29udHJvbGxlciB7XHJcbiAgICBwdWJsaWMgb25GaXJzdFN0YXJ0KCk6IHZvaWQge31cclxuICAgIHB1YmxpYyBvblJlc3RhcnQoKTogdm9pZCB7fVxyXG4gICAgcHVibGljIG9uU3RvcCgpOiB2b2lkIHt9XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgZGl2OiBIVE1MRGl2RWxlbWVudCkge1xyXG4gICAgICAgIHN1cGVyKGRpdik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgb25DcmVhdGUoKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGxldCBkYXRhOkNoYXJ0aXN0RGF0YSA9IHtcclxuICAgICAgICAgICAgLy8gQSBsYWJlbHMgYXJyYXkgdGhhdCBjYW4gY29udGFpbiBhbnkgc29ydCBvZiB2YWx1ZXNcclxuICAgICAgICAgICAgbGFiZWxzOiBbXSxcclxuICAgICAgICAgICAgLy8gT3VyIHNlcmllcyBhcnJheSB0aGF0IGNvbnRhaW5zIHNlcmllcyBvYmplY3RzIG9yIGluIHRoaXMgY2FzZSBzZXJpZXMgZGF0YSBhcnJheXNcclxuICAgICAgICAgICAgc2VyaWVzOiBbW11dLFxyXG4gICAgICAgICAgICBsb3c6IDAsXHJcbiAgICAgICAgICAgIGhpZ2g6IDQwXHJcbiAgICAgICAgfTtcclxuICAgICAgICBsZXQgb3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgd2lkdGg6IDYwMCxcclxuICAgICAgICAgICAgaGVpZ2h0OiA0MDBcclxuICAgICAgICB9O1xyXG4gICAgICAgIGxldCBjdXJyVmFsID0gMjA7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xyXG4gICAgICAgICAgICBkYXRhLmxhYmVscy5wdXNoKFwiXCIrICgxMCAtIGkpKTtcclxuICAgICAgICAgICAgZGF0YS5zZXJpZXNbMF1baV0gPSBjdXJyVmFsO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDcmVhdGUgYSBuZXcgbGluZSBjaGFydCBvYmplY3Qgd2hlcmUgYXMgZmlyc3QgcGFyYW1ldGVyIHdlIHBhc3MgaW4gYSBzZWxlY3RvclxyXG4gICAgICAgIC8vIHRoYXQgaXMgcmVzb2x2aW5nIHRvIG91ciBjaGFydCBjb250YWluZXIgZWxlbWVudC4gVGhlIFNlY29uZCBwYXJhbWV0ZXJcclxuICAgICAgICAvLyBpcyB0aGUgYWN0dWFsIGRhdGEgb2JqZWN0LlxyXG4gICAgICAgIGxldCBjaGFydCA9IG5ldyBDaGFydGlzdC5MaW5lKCcuY3QtY2hhcnQnLCBkYXRhLCBvcHRpb25zKTtcclxuICAgICAgICBsZXQgdGltZXIgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgZm9vID0gZGF0YS5zZXJpZXNbMF0uc2xpY2UoMSk7XHJcbiAgICAgICAgICAgIGZvby5wdXNoKDIwICsgMyAqIE1hdGgucmFuZG9tKCkpXHJcbiAgICAgICAgICAgIGRhdGEuc2VyaWVzWzBdID0gZm9vO1xyXG4gICAgICAgICAgICBjaGFydC51cGRhdGUoZGF0YSwgb3B0aW9ucywgZmFsc2UpO1xyXG5cclxuICAgICAgICB9LCA1MDApO1xyXG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHsgd2luZG93LmNsZWFySW50ZXJ2YWwodGltZXIpIH0sIDEwMDAwKTtcclxuICAgIH1cclxufVxyXG5cclxuZW51bSBDb250cm9sbGVyU3RhdGV7XHJcbiAgICBDUkVBVEVELFxyXG4gICAgU1RBUlRFRCxcclxuICAgIFNUT1BQRUQsXHJcbn1cclxuXHJcbmNsYXNzIEFwcENvbnRyb2xsZXIge1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGVEaXY6IEhUTUxEaXZFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBhY3RpdmVDb250cm9sbGVySW5kZXg6bnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBzY3JlZW5Db250cm9sbGVyczpTY3JlZW5Db250cm9sbGVyW107XHJcblxyXG4gICAgXHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5zdGF0ZURpdiA9IDxIVE1MRGl2RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwbkNvbm5lY3Rpb25TdGF0ZVwiKSE7XHJcbiAgICAgICAgdGhpcy5zY3JlZW5Db250cm9sbGVycz1bXTtcclxuICAgICAgICB0aGlzLmFjdGl2ZUNvbnRyb2xsZXJJbmRleD0wO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgU2V0QXBwbGljYXRpb25TdGF0ZShzdGF0ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5zdGF0ZURpdi5pbm5lckhUTUwgPSBzdGF0ZTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRBY3RpdmVTY3JlZW4obmV3SW5kZXg6bnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuc2NyZWVuQ29udHJvbGxlcnMuZm9yRWFjaCgoY29udHJvbGxlcixpKT0+e1xyXG4gICAgICAgICAgICBpZihpPT1uZXdJbmRleClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5zaG93RElWKCk7XHJcbiAgICAgICAgICAgICAgICBpZihjb250cm9sbGVyLlN0YXRlPT1Db250cm9sbGVyU3RhdGUuQ1JFQVRFRCl7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5vbkZpcnN0U3RhcnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLlN0YXRlPUNvbnRyb2xsZXJTdGF0ZS5TVEFSVEVEO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLm9uUmVzdGFydCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuU3RhdGU9Q29udHJvbGxlclN0YXRlLlNUQVJURUQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5oaWRlRElWKCk7XHJcbiAgICAgICAgICAgICAgICBpZihjb250cm9sbGVyLlN0YXRlPT1Db250cm9sbGVyU3RhdGUuU1RBUlRFRClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLm9uU3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuU3RhdGU9Q29udHJvbGxlclN0YXRlLlNUT1BQRUQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFjdGl2ZUNvbnRyb2xsZXJJbmRleD1uZXdJbmRleDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhcnR1cCgpIHtcclxuICAgICAgICB0aGlzLnNjcmVlbkNvbnRyb2xsZXJzLnB1c2gobmV3IERhc2hib2FyZENvbnRyb2xsZXIoPEhUTUxEaXZFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2NyZWVuX2Rhc2hib2FyZFwiKSkpO1xyXG4gICAgICAgIHRoaXMuc2NyZWVuQ29udHJvbGxlcnMucHVzaChuZXcgRGV2ZWxvcENGQ0NvbnRyb2xsZXIoPEhUTUxEaXZFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2NyZWVuX2RldmVsb3BcIikpKTtcclxuICAgICAgICB0aGlzLnNjcmVlbkNvbnRyb2xsZXJzLnB1c2gobmV3IFJlcG9ydHNDb250cm9sbGVyKDxIVE1MRGl2RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNjcmVlbl9yZXBvcnRzXCIpKSk7XHJcbiAgICAgICAgdGhpcy5zY3JlZW5Db250cm9sbGVycy5mb3JFYWNoKChzYyk9PnNjLm9uQ3JlYXRlKCkpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuc2V0QWN0aXZlU2NyZWVuKDApO1xyXG4gICAgICAgIGxldCBpZDJpbmRleCA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXI+KCk7XHJcbiAgICAgICAgdGhpcy5zY3JlZW5Db250cm9sbGVycy5mb3JFYWNoKCh2YWx1ZSwgaW5kZXgpPT57aWQyaW5kZXguc2V0KFwic2hvd19cIit2YWx1ZS5FbGVtZW50SWQsIGluZGV4KX0pXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbDxIVE1MQW5jaG9yRWxlbWVudD4oXCJuYXYgYVwiKS5mb3JFYWNoKChhOiBIVE1MQW5jaG9yRWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgaWQgPSBhLmlkO1xyXG4gICAgICAgICAgICBsZXQgaW5kZXg9aWQyaW5kZXguZ2V0KGEuaWQpfHwwO1xyXG4gICAgICAgICAgICBhLm9uY2xpY2sgPSAoZSkgPT4gdGhpcy5zZXRBY3RpdmVTY3JlZW4oaW5kZXgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5TZXRBcHBsaWNhdGlvblN0YXRlKFwiV2ViU29ja2V0IGlzIG5vdCBjb25uZWN0ZWRcIik7XHJcbiAgICAgICAgbGV0IHdlYnNvY2tldCA9IG5ldyBXZWJTb2NrZXQoJ3dzOi8vJyArIGxvY2F0aW9uLmhvc3RuYW1lICsgJy93Jyk7XHJcbiAgICAgICAgXHJcblxyXG5cclxuICAgICAgICB3ZWJzb2NrZXQub25vcGVuID0gZSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuU2V0QXBwbGljYXRpb25TdGF0ZSgnV2ViU29ja2V0IGNvbm5lY3Rpb24gb3BlbmVkJyk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGVzdFwiKSEuaW5uZXJIVE1MID0gXCJXZWJTb2NrZXQgaXMgY29ubmVjdGVkIVwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgd2Vic29ja2V0Lm9ubWVzc2FnZSA9IChldnQpID0+IHtcclxuICAgICAgICAgICAgdmFyIG1zZyA9IGV2dC5kYXRhO1xyXG4gICAgICAgICAgICBsZXQgdmFsdWU6IHN0cmluZztcclxuICAgICAgICAgICAgc3dpdGNoIChtc2cuY2hhckF0KDApKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdMJzpcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhtc2cpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbXNnLnJlcGxhY2UoL1teMC05XFwuXS9nLCAnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiMFwiOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxlZDFcIikhLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiYmxhY2tcIjsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIxXCI6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGVkMVwiKSEuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJncmVlblwiOyBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIjJcIjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsZWQyXCIpIS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImJsYWNrXCI7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiM1wiOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxlZDJcIikhLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiZ3JlZW5cIjsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTGVkID0gXCIgKyB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwID0gSlNPTi5wYXJzZShldnQuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0ZF9teU5hbWVcIikhLmlubmVyVGV4dCA9IHAuZC5teU5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0ZF90ZW1wZXJhdHVyZVwiKSEuaW5uZXJUZXh0ID0gcC5kLnRlbXBlcmF0dXJlO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGRfaHVtaWRpdHlcIikhLmlubmVyVGV4dCA9IHAuZC5odW1pZGl0eTtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRkX2hlYXBcIikhLmlubmVyVGV4dCA9IHAuaW5mby5oZWFwO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGRfdGltZVwiKSEuaW5uZXJUZXh0ID0gcC5pbmZvLnRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdlYnNvY2tldC5vbmNsb3NlID0gKGUpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1dlYnNvY2tldCBjb25uZWN0aW9uIGNsb3NlZCBkdWUgdG8gJytlLnJlYXNvbik7XHJcbiAgICAgICAgICAgIHRoaXMuU2V0QXBwbGljYXRpb25TdGF0ZSgnV2Vic29ja2V0IGNvbm5lY3Rpb24gY2xvc2VkIGR1ZSB0byAnK2UucmVhc29uKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdlYnNvY2tldC5vbmVycm9yID0gKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnV2Vic29ja2V0IGVycm9yOiAnICsgZXZ0LnJldHVyblZhbHVlKTtcclxuICAgICAgICAgICAgdGhpcy5TZXRBcHBsaWNhdGlvblN0YXRlKFwiV2ViU29ja2V0IGVycm9yIVwiICsgZXZ0LnJldHVyblZhbHVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGw8SFRNTEJ1dHRvbkVsZW1lbnQ+KFwiI3BCdXR0b25zIGJ1dHRvblwiKS5mb3JFYWNoKChiOiBIVE1MQnV0dG9uRWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICBiLm9uY2xpY2sgPSAoZTogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgd2Vic29ja2V0LnNlbmQoXCJMXCIgKyBiLmRhdGFzZXQucmVsKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcbn1cclxuXHJcbmxldCBhcHA6IEFwcENvbnRyb2xsZXI7XHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIChlKSA9PiB7XHJcbiAgICBhcHAgPSBuZXcgQXBwQ29udHJvbGxlcigpO1xyXG4gICAgYXBwLnN0YXJ0dXAoKTtcclxufSk7XHJcblxyXG5cclxuIiwiaW1wb3J0IHsgQ29ubmVjdG9yVHlwZSwgRmxvd2NoYXJ0SW5wdXRDb25uZWN0b3IsIEZsb3djaGFydE91dHB1dENvbm5lY3RvciB9IGZyb20gXCIuL0Zsb3djaGFydENvbm5lY3RvclwiO1xyXG5pbXBvcnQgeyBGbG93Y2hhcnRFeHBvcnRlciB9IGZyb20gXCIuL0Zsb3djaGFydEV4cG9ydGVyXCI7XHJcbmltcG9ydCB7IEZsb3djaGFydExpbmsgfSBmcm9tIFwiLi9GbG93Y2hhcnRMaW5rXCI7XHJcbmltcG9ydCB7IEZsb3djaGFydE9wZXJhdG9yLCBQb3NpdGlvblR5cGUsIFR5cGVJbmZvIH0gZnJvbSBcIi4vRmxvd2NoYXJ0T3BlcmF0b3JcIjtcclxuaW1wb3J0ICogYXMgb3BlcmF0b3JpbXBsIGZyb20gXCIuL0Zsb3djaGFydE9wZXJhdG9ySW1wbFwiO1xyXG5pbXBvcnQgeyBOb2RlV3JhcHBlciwgVG9wb2xvZ2ljYWxTb3J0REZTIH0gZnJvbSBcIi4vVG9wb2xvZ2ljYWxTb3JmREZTXCI7XHJcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIi4vVXRpbHNcIjtcclxuLypcclxuSW4gZWluZW0gUmVzc291cmNlcy1Ub29sYmFyIGJlZmluZGVuIHNpY2ggYWxsZSBSZXNzb3VyY2VuIChJbnB1dCB1bmQgT3V0cHV0KSwgZGllIGVpbiBCb2FyZCBhbmJpZXRldC4gRGllc2Uga8O2bm5lbiBnZW5hdSBlaW5tYWwgYXVmIGRhcyBCb2FyZCBnZXpvZ2VuIHdlcmRlblxyXG5Qcm9ibGVtOiBPbmVXaXJlLVJlc3NvdXJjZW4hOiBcclxuT3BlcmF0b3ItS2xhc3NlbiBoYWJlbiBlaW4gUG9zaXRpb25zdHlwOiBEZWZhdWx0LCBJbnB1dCwgT3V0cHV0XHJcbk9wZXJhdG9yLUtsYXNzZW4gaGFiZW4gZWluZW4gU2luZ2xldG9uLVR5cCwgbsOkbWxpY2ggRGVmYXVsdCwgU2luZ2xldG9uLiBCZWkgU2luZ2xldG9ucyBkYXJmIG51ciBlaW5lIEluc3RhbnogZGVyIEtMYXNzZSBlcnpldWd0IHdlcmRlblxyXG5PcGVyYXRvci1JbnN0YW56ZW4ga8O2bm5lbiBwZXIgUHJvcGVyeS1HcmlkIGtvbmZpZ3VyaWVydCB3ZXJkZW4uIFNpZSBzdGVsbGVuIGVpbmUgTWV0aG9kZSBQb3B1bGF0ZVByb3BlcnlHcmlkKEhNVExEaXZFbGVtZW50KSB6dXIgVmVyZsO8Z3VuZywgZGFzIGVpbiBlZGl0ZXJiYXJlcyBIVE1MLUdyaWQgaW5zIERJViBoaW5laW56ZWljaG5lbi4gQXXDn2VyaGFsYiB3dXJkZSBkaWVzZXMgZGl2IHp1dm9yIGdlbGVlcnQgdW5kIGltIEFuc2NobHVzcyB3aXJkIHZvbiBhdcOfZXJoYWxiIGVpbiBTYXZlLUJ1dHRvbiBnZXJlbmRlcnQuXHJcbiAgRWluIG51bGwtUsO8Y2tnYWJld2VydCBiZWRldXRldCwgZGFzcyBrZWluIFByb3BlcnR5R3JpZCBiZW7DtnRpZ3Qgd2lyZC5cclxuICBTaWUgc3RlbGxlbiB3ZWl0ZXJoaW4gZWluZSBNZXRob2RlIFNhdmVQcm9wZXJ5R3JpZChITVRMRGl2RWxlbWVudCkgenVyIFZlcmbDvGd1bmcsIGluIGRlciBzaWUgZGllIEluaGFsdGUgd2llZGVyIGVpbmxlc2VuIHVuZCBpbnRlcm4gd2llIGF1Y2ggaW1tZXIgc3BlaWNoZXJuXHJcbiAgU2llIHN0ZWxsZW4gd2VpdGVyaGluIGVpbmUgTWV0aG9kZSBHZXRQcm9wZXJ0eUdyaWREYXRhQXNKU09OU3RyaW5nKCkgenVyIFZlcmbDvGd1bmcuIERpZXNlIGdpYnQgZGllIERhdGVuIGFscyBKU09OLVN0cmluZyB6dXLDvGNrXHJcblxyXG4qL1xyXG5cclxuZXhwb3J0IGNsYXNzIEZsb3djaGFydE9wdGlvbnMge1xyXG4gICAgY2FuVXNlckVkaXRMaW5rczogYm9vbGVhbiA9IHRydWU7XHJcbiAgICBjYW5Vc2VyTW92ZU9wZXJhdG9yczogYm9vbGVhbiA9IHRydWU7XHJcbiAgICBkYXRhPzogRmxvd2NoYXJ0RGF0YSA9IHVuZGVmaW5lZDtcclxuICAgIGRpc3RhbmNlRnJvbUFycm93OiBudW1iZXIgPSAzO1xyXG4gICAgZGVmYXVsdE9wZXJhdG9yQ2xhc3M6IHN0cmluZyA9ICdmbG93Y2hhcnQtZGVmYXVsdC1vcGVyYXRvcic7XHJcbiAgICBkZWZhdWx0TGlua0NvbG9yOiBzdHJpbmcgPSAnIzMzNjZmZic7XHJcbiAgICBkZWZhdWx0U2VsZWN0ZWRMaW5rQ29sb3I6IHN0cmluZyA9ICdibGFjayc7XHJcbiAgICBsaW5rV2lkdGg6IG51bWJlciA9IDEwO1xyXG4gICAgZ3JpZDogbnVtYmVyID0gMTA7XHJcbiAgICBtdWx0aXBsZUxpbmtzT25PdXRwdXQ6IGJvb2xlYW4gPSB0cnVlO1xyXG4gICAgbXVsdGlwbGVMaW5rc09uSW5wdXQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIGxpbmtWZXJ0aWNhbERlY2FsOiBudW1iZXIgPSAwO1xyXG4gICAgb25PcGVyYXRvclNlbGVjdD86IChvcGVyYXRvcklkOiBzdHJpbmcpPT5ib29sZWFuIDtcclxuICAgIG9uT3BlcmF0b3JVbnNlbGVjdD86ICgpID0+IGJvb2xlYW47XHJcbiAgICBvbk9wZXJhdG9yTW91c2VPdmVyPzogKG9wZXJhdG9ySWQ6IHN0cmluZykgPT4gYm9vbGVhbjtcclxuICAgIG9uT3BlcmF0b3JNb3VzZU91dD86IChvcGVyYXRvcklkOiBzdHJpbmcpID0+IGJvb2xlYW47XHJcbiAgICBvbkxpbmtTZWxlY3Q/OiAobGluazogRmxvd2NoYXJ0TGluaykgPT4gYm9vbGVhbjtcclxuICAgIG9uTGlua1Vuc2VsZWN0PzogKGxpbms6IEZsb3djaGFydExpbmspID0+IGJvb2xlYW47XHJcbiAgICBvbk9wZXJhdG9yQ3JlYXRlPzogKG9wZXJhdG9ySWQ6IHN0cmluZywgb3BlcmF0b3JEYXRhOiBhbnksIGZ1bGxFbGVtZW50OiBib29sZWFuKSA9PiBib29sZWFuO1xyXG4gICAgb25MaW5rQ3JlYXRlPzogKGxpbmtJZDogc3RyaW5nLCBsaW5rRGF0YTogYW55KSA9PiBib29sZWFuO1xyXG4gICAgb25PcGVyYXRvckRlbGV0ZT86IChvcGVyYXRvcklkOiBzdHJpbmcpID0+IGJvb2xlYW47XHJcbiAgICBvbkxpbmtEZWxldGU/OiAobGlua0lkOiBzdHJpbmcsIGZvcmNlZDogYm9vbGVhbikgPT4gYm9vbGVhbjtcclxuICAgIG9uT3BlcmF0b3JNb3ZlZD86IChvcGVyYXRvcklkOiBzdHJpbmcsIHBvc2l0aW9uOiBudW1iZXIpID0+IHZvaWQ7XHJcbiAgICBvbkFmdGVyQ2hhbmdlPzogKGNoYW5nZVR5cGU6IGFueSkgPT4gdm9pZDtcclxufVxyXG5cclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgRmxvd2NoYXJ0RGF0YSB7XHJcbiAgICAgICAgb3BlcmF0b3JzOiBPcGVyYXRvckRhdGFbXTtcclxuICAgICAgICBsaW5rczogTGlua0RhdGFbXTtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIE9wZXJhdG9yRGF0YSB7XHJcbiAgICAgICAgdHlwZTogc3RyaW5nO1xyXG4gICAgICAgIGNhcHRpb246IHN0cmluZztcclxuICAgICAgICBpZDogc3RyaW5nO1xyXG4gICAgICAgIHBvc1g6IG51bWJlcjtcclxuICAgICAgICBwb3NZOiBudW1iZXI7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGludGVyZmFjZSBMaW5rRGF0YSB7XHJcbiAgICAgICAgY29sb3I6IHN0cmluZztcclxuICAgICAgICBmcm9tSWQ6IHN0cmluZztcclxuICAgICAgICBmcm9tT3V0cHV0OiBudW1iZXI7XHJcbiAgICAgICAgdG9JZDogc3RyaW5nO1xyXG4gICAgICAgIHRvSW5wdXQ6IG51bWJlcjtcclxuICAgIH1cclxuXHJcbiAgICAvL0Nvbm5lY3RvciBiZXN0ZWh0IGF1cyBcIndyYXBwZXJcIiwgZGVtIExhYmVsLCBkZW0gZ3Jvw59lbiBkcmVpZWNrIHVuZCBlaW5lbSBrbGVpbmVuIERyZWllY2tcclxuXHJcbiAgICBleHBvcnQgY2xhc3MgRmxvd2NoYXJ0IHtcclxuICAgICAgICBwcml2YXRlIG9wZXJhdG9ycyA9IG5ldyBNYXA8bnVtYmVyLCBGbG93Y2hhcnRPcGVyYXRvcj4oKTtcclxuICAgICAgICBwcml2YXRlIGxpbmtzID0gbmV3IE1hcDxudW1iZXIsIEZsb3djaGFydExpbms+KCk7XHJcbiAgICAgICAgcHVibGljIHN0YXRpYyByZWFkb25seSBTVkdOUyA9IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIjtcclxuICAgICAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFhMSU5LTlMgPSBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIjtcclxuICAgICAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEhUTUxOUyA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiO1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgREFUQVRZUEUyQ09MT1IgPSBuZXcgTWFwKFtbQ29ubmVjdG9yVHlwZS5CT09MRUFOLCBcIlJFRFwiXSwgW0Nvbm5lY3RvclR5cGUuQ09MT1IsIFwiR1JFRU5cIl0sIFtDb25uZWN0b3JUeXBlLkZMT0FULCBcIkJMVUVcIl0sIFtDb25uZWN0b3JUeXBlLklOVEVHRVIsIFwiWUVMTE9XXCJdLCBbQ29ubmVjdG9yVHlwZS5DT0xPUiwgXCJQVVJQTEVcIl1dKTtcclxuXHJcbiAgXHJcbiAgICAgICAgcHJpdmF0ZSBsYXN0T3V0cHV0Q29ubmVjdG9yQ2xpY2tlZDogRmxvd2NoYXJ0T3V0cHV0Q29ubmVjdG9yfG51bGw9bnVsbDtcclxuICAgICAgICBwcml2YXRlIHNlbGVjdGVkT3BlcmF0b3I6IEZsb3djaGFydE9wZXJhdG9yfG51bGw9bnVsbDtcclxuICAgICAgICBwcml2YXRlIHNlbGVjdGVkTGluazogRmxvd2NoYXJ0TGlua3xudWxsPW51bGw7XHJcbiAgICAgICAgZ2V0IFNlbGVjdGVkTGluaygpIHsgcmV0dXJuIHRoaXMuc2VsZWN0ZWRMaW5rIH07XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBwb3NpdGlvblJhdGlvOiBudW1iZXIgPSAxO1xyXG4gICAgICAgIGdldCBQb3NpdGlvblJhdGlvKCkgeyByZXR1cm4gdGhpcy5wb3NpdGlvblJhdGlvOyB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcHJpdmF0ZSBmbG93Y2hhcnRDb250YWluZXJTdmdTdmc6U1ZHU1ZHRWxlbWVudFxyXG4gICAgICAgIHByaXZhdGUgbGlua3NMYXllcjogU1ZHR0VsZW1lbnQ7XHJcbiAgICAgICAgZ2V0IExpbmtMYXllcigpIHsgcmV0dXJuIHRoaXMubGlua3NMYXllcjsgfVxyXG4gICAgICAgIHByaXZhdGUgb3BlcmF0b3JzTGF5ZXI6IFNWR0dFbGVtZW50O1xyXG4gICAgICAgIGdldCBPcGVyYXRvcnNMYXllcigpIHsgcmV0dXJuIHRoaXMub3BlcmF0b3JzTGF5ZXI7IH1cclxuICAgICAgICBwcml2YXRlIHRvb2xzTGF5ZXI6U1ZHR0VsZW1lbnQ7XHJcbiAgICAgICAgZ2V0IFRvb2xzTGF5ZXIoKSB7IHJldHVybiB0aGlzLnRvb2xzTGF5ZXI7IH1cclxuICAgICAgICBwcml2YXRlIHRlbXBMYXllcjpTVkdHRWxlbWVudDtcclxuICAgICAgICBwcml2YXRlIHRlbXBvcmFyeUxpbms6IFNWR0xpbmVFbGVtZW50O1xyXG4gICAgICAgIHByaXZhdGUgdGVtcG9yYXJ5TGlua1NuYXBwZWQ9ZmFsc2U7XHJcbiAgICAgICAgcHJpdmF0ZSBwcm9wZXJ0eUdyaWRIdG1sRGl2OkhUTUxEaXZFbGVtZW50O1xyXG5cclxuICAgICAgICBwcml2YXRlIG1hcmtlckFycm93OlNWR1BhdGhFbGVtZW50O1xyXG4gICAgICAgIHByaXZhdGUgbWFya2VyQ2lyY2xlOlNWR0NpcmNsZUVsZW1lbnQ7XHJcblxyXG4gICAgICAgIHByaXZhdGUgdXBjb3VudGVyPTA7XHJcblxyXG4gICAgICAgIHB1YmxpYyBfbm90aWZ5R2xvYmFsTW91c2Vtb3ZlV2l0aExpbmsoZTpNb3VzZUV2ZW50KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMubGFzdE91dHB1dENvbm5lY3RvckNsaWNrZWQgIT0gbnVsbCAmJiAhdGhpcy50ZW1wb3JhcnlMaW5rU25hcHBlZCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGVuZCA9IFV0aWxzLkV2ZW50Q29vcmRpbmF0ZXNJblNWRyhlLCB0aGlzLmZsb3djaGFydENvbnRhaW5lclN2Z1N2ZywgdGhpcy5wb3NpdGlvblJhdGlvKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGVtcG9yYXJ5TGluay5zZXRBdHRyaWJ1dGUoJ3gyJywgXCJcIitlbmQueCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRlbXBvcmFyeUxpbmsuc2V0QXR0cmlidXRlKCd5MicsIFwiXCIrZW5kLnkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgX25vdGlmeUdsb2JhbE1vdXNldXBXaXRoTGluayhlOk1vdXNlRXZlbnQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnVuc2V0VGVtcG9yYXJ5TGluaygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIHB1YmxpYyBfbm90aWZ5T3V0cHV0Q29ubmVjdG9yTW91c2Vkb3duKGM6IEZsb3djaGFydE91dHB1dENvbm5lY3RvciwgZTogTW91c2VFdmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLnRlbXBvcmFyeUxpbmtTbmFwcGVkPWZhbHNlO1xyXG4gICAgICAgICAgICBsZXQgc3RhcnQgPSBjLkdldExpbmtwb2ludCgpO1xyXG4gICAgICAgICAgICBsZXQgZW5kID0gVXRpbHMuRXZlbnRDb29yZGluYXRlc0luU1ZHKGUsIHRoaXMuZmxvd2NoYXJ0Q29udGFpbmVyU3ZnU3ZnLCB0aGlzLnBvc2l0aW9uUmF0aW8pO1xyXG4gICAgICAgICAgICB0aGlzLnRlbXBvcmFyeUxpbmsuc2V0QXR0cmlidXRlKCd4MScsIFwiXCIrc3RhcnQueCk7XHJcbiAgICAgICAgICAgIHRoaXMudGVtcG9yYXJ5TGluay5zZXRBdHRyaWJ1dGUoJ3kxJywgXCJcIitzdGFydC55KTtcclxuICAgICAgICAgICAgdGhpcy50ZW1wb3JhcnlMaW5rLnNldEF0dHJpYnV0ZSgneDInLCBcIlwiK2VuZC54KTtcclxuICAgICAgICAgICAgdGhpcy50ZW1wb3JhcnlMaW5rLnNldEF0dHJpYnV0ZSgneTInLCBcIlwiK2VuZC55KTtcclxuICAgICAgICAgICAgdGhpcy5zZXRUZW1wb3JhcnlMaW5rKGMpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5vbm1vdXNldXAgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQub25tb3VzZXVwID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50Lm9ubW91c2Vtb3ZlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHRoaXMuX25vdGlmeUdsb2JhbE1vdXNldXBXaXRoTGluayhlKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgZG9jdW1lbnQub25tb3VzZW1vdmUgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbm90aWZ5R2xvYmFsTW91c2Vtb3ZlV2l0aExpbmsoZSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgX25vdGlmeUlucHV0Q29ubmVjdG9yTW91c2V1cChjOiBGbG93Y2hhcnRJbnB1dENvbm5lY3RvciwgZTpNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmxhc3RPdXRwdXRDb25uZWN0b3JDbGlja2VkID09IG51bGwpIHJldHVybjtcclxuICAgICAgICAgICAgaWYoIXRoaXMub3B0aW9ucy5tdWx0aXBsZUxpbmtzT25JbnB1dCAmJiBjLkxpbmtzTGVuZ3RoPjApIHJldHVybjtcclxuICAgICAgICAgICAgaWYodGhpcy5sYXN0T3V0cHV0Q29ubmVjdG9yQ2xpY2tlZC5UeXBlPT1jLlR5cGUpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlTGluayhudWxsLCB0aGlzLmxhc3RPdXRwdXRDb25uZWN0b3JDbGlja2VkLCBjKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnVuc2V0VGVtcG9yYXJ5TGluaygpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBfbm90aWZ5T3BlcmF0b3JDbGlja2VkKG86IEZsb3djaGFydE9wZXJhdG9yLCBlOiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuU2VsZWN0T3BlcmF0b3Iobyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgX25vdGlmeUxpbmtDbGlja2VkKGxpbms6IEZsb3djaGFydExpbmssIGU6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RMaW5rKGxpbmspO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIF9ub3RpZnlJbnB1dENvbm5lY3Rvck1vdXNlZW50ZXIoYzpGbG93Y2hhcnRJbnB1dENvbm5lY3RvciwgZTpNb3VzZUV2ZW50KXtcclxuICAgICAgICAgICAgaWYgKHRoaXMubGFzdE91dHB1dENvbm5lY3RvckNsaWNrZWQgPT0gbnVsbCB8fCB0aGlzLmxhc3RPdXRwdXRDb25uZWN0b3JDbGlja2VkLlR5cGUhPWMuVHlwZSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBpZighdGhpcy5vcHRpb25zLm11bHRpcGxlTGlua3NPbklucHV0ICYmIGMuTGlua3NMZW5ndGg+MCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgdGhpcy50ZW1wb3JhcnlMaW5rU25hcHBlZD10cnVlO1xyXG4gICAgICAgICAgICBsZXQgZW5kPSBjLkdldExpbmtwb2ludCgpO1xyXG4gICAgICAgICAgICB0aGlzLnRlbXBvcmFyeUxpbmsuc2V0QXR0cmlidXRlKFwibWFya2VyLWVuZFwiLCBcInVybCgjbWFya2VyLWNpcmNsZSlcIik7XHJcbiAgICAgICAgICAgIHRoaXMudGVtcG9yYXJ5TGluay5zZXRBdHRyaWJ1dGUoJ3gyJywgXCJcIitlbmQueCk7XHJcbiAgICAgICAgICAgIHRoaXMudGVtcG9yYXJ5TGluay5zZXRBdHRyaWJ1dGUoJ3kyJywgXCJcIitlbmQueSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgX25vdGlmeUlucHV0Q29ubmVjdG9yTW91c2VsZWF2ZShjOkZsb3djaGFydElucHV0Q29ubmVjdG9yLCBlOk1vdXNlRXZlbnQpe1xyXG4gICAgICAgICAgICB0aGlzLnRlbXBvcmFyeUxpbmtTbmFwcGVkPWZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnRlbXBvcmFyeUxpbmsuc2V0QXR0cmlidXRlKFwibWFya2VyLWVuZFwiLCBcInVybCgjbWFya2VyLWFycm93KVwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB1bnNlbGVjdExpbmsoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkTGluayAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLm9uTGlua1Vuc2VsZWN0ICYmICF0aGlzLm9wdGlvbnMub25MaW5rVW5zZWxlY3QodGhpcy5zZWxlY3RlZExpbmspKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZExpbmsuVW5jb2xvcml6ZUxpbmsoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRMaW5rID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHNlbGVjdExpbmsobGluazogRmxvd2NoYXJ0TGluaykge1xyXG4gICAgICAgICAgICB0aGlzLnVuc2VsZWN0TGluaygpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLm9uTGlua1NlbGVjdCAmJiAhdGhpcy5vcHRpb25zLm9uTGlua1NlbGVjdChsaW5rKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudW5zZWxlY3RPcGVyYXRvcigpO1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkTGluayA9IGxpbms7XHJcbiAgICAgICAgICAgIGxpbmsuQ29sb3JpemVMaW5rKHRoaXMub3B0aW9ucy5kZWZhdWx0U2VsZWN0ZWRMaW5rQ29sb3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBjb21waWxlKCk6dm9pZHtcclxuICAgICAgICAgICAgbGV0IGluZGV4MndyYXBwZWRPcGVyYXRvciA9IG5ldyBNYXA8bnVtYmVyLE5vZGVXcmFwcGVyPEZsb3djaGFydE9wZXJhdG9yPj4oKTtcclxuICAgICAgICAgICAgdGhpcy5vcGVyYXRvcnMuZm9yRWFjaCgodixrLG0pPT57XHJcbiAgICAgICAgICAgICAgICBpbmRleDJ3cmFwcGVkT3BlcmF0b3Iuc2V0KHYuR2xvYmFsT3BlcmF0b3JJbmRleCwgbmV3IE5vZGVXcmFwcGVyPEZsb3djaGFydE9wZXJhdG9yPih2KSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgbGV0IHdyYXBwZWRPdXRwdXRPcGVyYXRvcnM6Tm9kZVdyYXBwZXI8Rmxvd2NoYXJ0T3BlcmF0b3I+W10gPVtdO1xyXG4gICAgICAgICAgICBmb3IobGV0IGkgb2YgaW5kZXgyd3JhcHBlZE9wZXJhdG9yLnZhbHVlcygpKXtcclxuICAgICAgICAgICAgICAgIC8vU3RlbGxlIGbDvHIgamVkZSBcImdld3JhcHRlIE5vZGVcIiBmZXN0LCB3ZWxjaGUgT3BlcmF0b3JlbiB2b24gSWhyIGFiaMOkbmdpZyBzaW5kXHJcbiAgICAgICAgICAgICAgICBsZXQgZGVwZW5kZW50cyA9IG5ldyBTZXQ8Tm9kZVdyYXBwZXI8Rmxvd2NoYXJ0T3BlcmF0b3I+PigpO1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpbnB1dGt2IG9mIGkuUGF5bG9hZC5JbnB1dHNLVkl0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yKGNvbnN0IGxpbmtrdiBvZiBpbnB1dGt2WzFdLkxpbmtzS1ZJdClcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkZXBlbmRlbnRPcGVyYXRvciA9IGxpbmtrdlsxXS5Gcm9tLlBhcmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRlcGVuZGVudFdyYXBwZWROb2RlID0gaW5kZXgyd3JhcHBlZE9wZXJhdG9yLmdldChkZXBlbmRlbnRPcGVyYXRvci5HbG9iYWxPcGVyYXRvckluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIWRlcGVuZGVudFdyYXBwZWROb2RlKSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkltcGxlbWVudGF0aW9uIEVycm9yOiBkZXBlbmRlbnRXcmFwcGVkTm9kZSBpcyB1bmRlZmluZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlcGVuZGVudHMuYWRkKGRlcGVuZGVudFdyYXBwZWROb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBkZXBlbmRlbnRzLmZvckVhY2goZT0+aS5EZXBlbmRlbmROb2Rlcy5wdXNoKGUpKTtcclxuICAgICAgICAgICAgICAgIC8vZsO8Z2UgYWxsZSBtaXQgVHlwIFwiT3V0cHV0XCIgZWluZXIgTGlzdGUgaGluenVcclxuICAgICAgICAgICAgICAgIGlmKGkuUGF5bG9hZC5UeXBlSW5mby5Qb3NpdGlvbj09UG9zaXRpb25UeXBlLk91dHB1dCkgd3JhcHBlZE91dHB1dE9wZXJhdG9ycy5wdXNoKGkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgYWxnb3JpdGhtID0gbmV3IFRvcG9sb2dpY2FsU29ydERGUzxGbG93Y2hhcnRPcGVyYXRvcj4oKTtcclxuICAgICAgICAgICAgbGV0IHNvcnRlZExpc3QgPSBhbGdvcml0aG0uc29ydCh3cmFwcGVkT3V0cHV0T3BlcmF0b3JzKTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc29ydGVkTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gc29ydGVkTGlzdFtrZXldO1xyXG4gICAgICAgICAgICAgICAgdmFsdWUuUGF5bG9hZC5TZXREZWJ1Z0luZm9UZXh0KFwiU2VxdWVuem51bW1lciBcIitrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIEZsb3djaGFydEV4cG9ydGVyLkV4cG9ydChzb3J0ZWRMaXN0Lm1hcCgoZSk9PmUuUGF5bG9hZCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBkZWxldGVTZWxlY3RlZE9wZXJhdG9yKCk6dm9pZHtcclxuICAgICAgICAgICAgaWYoIXRoaXMuc2VsZWN0ZWRPcGVyYXRvcikgcmV0dXJuO1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkT3BlcmF0b3IuUmVtb3ZlRnJvbURPTSgpO1xyXG4gICAgICAgICAgICB0aGlzLm9wZXJhdG9ycy5kZWxldGUodGhpcy5zZWxlY3RlZE9wZXJhdG9yLkdsb2JhbE9wZXJhdG9ySW5kZXgpO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IG91dHB1dEtWIG9mIHRoaXMuc2VsZWN0ZWRPcGVyYXRvci5PdXRwdXRzS1ZJdCkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBsaW5rS1Ygb2Ygb3V0cHV0S1ZbMV0uTGlua3NLVkl0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5EZWxldGVMaW5rKGxpbmtLVlsxXS5HbG9iYWxMaW5rSW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudW5zZWxlY3RPcGVyYXRvcigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IocHJpdmF0ZSBjb250YWluZXI6IEhUTUxEaXZFbGVtZW50LCBwcml2YXRlIG9wdGlvbnM6IEZsb3djaGFydE9wdGlvbnMpIHtcclxuICAgICAgICAgICAgaWYoIXRoaXMuY29udGFpbmVyKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjb250YWluZXIgaXMgbnVsbFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgc3ViY29udGFpbmVyID0gPEhUTUxEaXZFbGVtZW50PkZsb3djaGFydC5IdG1sKHRoaXMuY29udGFpbmVyLCBcImRpdlwiLCBbXSwgW1wiZGV2ZWxvcC11aVwiXSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBzdWJjb250YWluZXIub25jbGljaz0oZSk9PlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZigoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5jbGFzc0xpc3QuY29udGFpbnMoXCJkcm9wYnRuXCIpKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJkcm9wZG93bi1jb250ZW50XCIpLCAoZWxlbTpIVE1MRGl2RWxlbWVudCk9PntlbGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93XCIpO30pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgdG9vbGJhciA9IEZsb3djaGFydC5IdG1sKHN1YmNvbnRhaW5lciwgXCJkaXZcIiwgW10sIFtcImRldmVsb3AtdG9vbGJhclwiXSk7XHJcbiAgICAgICAgICAgIGxldCBmaWxlYnV0dG9uID0gRmxvd2NoYXJ0Lkh0bWwodG9vbGJhciwgXCJhXCIsIFtcImhyZWZcIiwgXCIjXCJdLCBbXCJkZXZlbG9wLXRvb2xiYXJcIl0sIFwiRmlsZVwiKTtcclxuICAgICAgICAgICAgbGV0IHJ1bmJ1dHRvbiA9IEZsb3djaGFydC5IdG1sKHRvb2xiYXIsIFwiYVwiLCBbXCJocmVmXCIsIFwiI1wiXSwgW1wiZGV2ZWxvcC10b29sYmFyXCJdLCBcIlJ1blwiKTtcclxuICAgICAgICAgICAgbGV0IG1lbnVEZWJ1Zz0gRmxvd2NoYXJ0Lkh0bWwodG9vbGJhciwgXCJkaXZcIiwgW10sIFtcImRyb3Bkb3duXCJdKTtcclxuICAgICAgICAgICAgbGV0IG1lbnVEZWJ1Z0Ryb3BCdG4gPSA8SFRNTEJ1dHRvbkVsZW1lbnQ+Rmxvd2NoYXJ0Lkh0bWwobWVudURlYnVnLCBcImJ1dHRvblwiLCBbXSwgW1wiZHJvcGJ0blwiXSwgXCJEZWJ1ZyDilrxcIik7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgbWVudURlYnVnRHJvcENvbnRlbnQgPSBGbG93Y2hhcnQuSHRtbChtZW51RGVidWcsIFwiZGl2XCIsIFtdLCBbXCJkcm9wZG93bi1jb250ZW50XCJdKTtcclxuICAgICAgICAgICAgbWVudURlYnVnRHJvcEJ0bi5vbmNsaWNrPShlKT0+e1xyXG4gICAgICAgICAgICAgICAgbWVudURlYnVnRHJvcENvbnRlbnQuY2xhc3NMaXN0LnRvZ2dsZShcInNob3dcIik7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIEZsb3djaGFydC5IdG1sKG1lbnVEZWJ1Z0Ryb3BDb250ZW50LCBcImFcIiwgW1wiaHJlZlwiLCBcIiNcIl0sIFtdLCBcIuKYrSBDb21waWxlXCIpLm9uY2xpY2s9KGUpPT5cclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiZHJvcGRvd24tY29udGVudFwiKSwgKGVsZW06SFRNTERpdkVsZW1lbnQpPT57ZWxlbS5jbGFzc0xpc3QucmVtb3ZlKFwic2hvd1wiKTt9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29tcGlsZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIEZsb3djaGFydC5IdG1sKG1lbnVEZWJ1Z0Ryb3BDb250ZW50LCBcImFcIiwgW1wiaHJlZlwiLCBcIiNcIl0sIFtdLCBcIvCfkaMgUnVuIG9uIGRldmljZVwiKS5vbmNsaWNrPShlKT0+XHJcbiAgICAgICAgICAgIHtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IG1lbnVEZWJ1Z0xpbmsyID0gRmxvd2NoYXJ0Lkh0bWwobWVudURlYnVnRHJvcENvbnRlbnQsIFwiYVwiLCBbXCJocmVmXCIsIFwiI1wiXSwgW10sIFwi4peJIFN0b3BcIik7XHJcbiAgICAgICAgICAgIGxldCBtZW51RGVidWdMaW5rMyA9IEZsb3djaGFydC5IdG1sKG1lbnVEZWJ1Z0Ryb3BDb250ZW50LCBcImFcIiwgW1wiaHJlZlwiLCBcIiNcIl0sIFtdLCBcIuKXryBFcmFzZVwiKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgd29ya3NwYWNlID0gPEhUTUxEaXZFbGVtZW50PkZsb3djaGFydC5IdG1sKHN1YmNvbnRhaW5lciwgXCJkaXZcIiwgW1widGFiaW5kZXhcIiwgXCIwXCJdLCBbXCJkZXZlbG9wLXdvcmtzcGFjZVwiXSk7Ly90YWJpbmRleCwgZGFtaXQga2V5cHJlc3MtRXZlbnRzIGFiZ2VmYW5nZW4gd2VyZGVuIGvDtm5uZW5cclxuICAgICAgICAgICAgdGhpcy5wcm9wZXJ0eUdyaWRIdG1sRGl2ID0gPEhUTUxEaXZFbGVtZW50PkZsb3djaGFydC5IdG1sKHN1YmNvbnRhaW5lciwgXCJkaXZcIiwgW10sIFtcImRldmVsb3AtcHJvcGVydGllc1wiXSk7XHJcblxyXG4gICAgICAgICAgICBcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZmxvd2NoYXJ0Q29udGFpbmVyU3ZnU3ZnID0gPFNWR1NWR0VsZW1lbnQ+Rmxvd2NoYXJ0LlN2Zyh3b3Jrc3BhY2UsIFwic3ZnXCIsIFtcIndpZHRoXCIsIFwiMTAwJVwiLCBcImhlaWdodFwiLCBcIjEwMCVcIl0sIFtcImZsb3djaGFydC1jb250YWluZXJcIl0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMubGlua3NMYXllciA9IDxTVkdHRWxlbWVudD5GbG93Y2hhcnQuU3ZnKHRoaXMuZmxvd2NoYXJ0Q29udGFpbmVyU3ZnU3ZnLCBcImdcIiwgW10sIFtcImZsb3djaGFydC1saW5rcy1sYXllclwiXSk7XHJcbiAgICAgICAgICAgIHRoaXMub3BlcmF0b3JzTGF5ZXI9PFNWR0dFbGVtZW50PkZsb3djaGFydC5TdmcodGhpcy5mbG93Y2hhcnRDb250YWluZXJTdmdTdmcsIFwiZ1wiLCBbXSwgW1wiZmxvd2NoYXJ0LW9wZXJhdG9ycy1sYXllclwiLCBcInVuc2VsZWN0YWJsZVwiXSk7XHJcbiAgICAgICAgICAgIHRoaXMudGVtcExheWVyID0gPFNWR1NWR0VsZW1lbnQ+Rmxvd2NoYXJ0LlN2Zyh0aGlzLmZsb3djaGFydENvbnRhaW5lclN2Z1N2ZywgXCJnXCIsIFtdLCBbXCJmbG93Y2hhcnQtdGVtcG9yYXJ5LWxpbmstbGF5ZXJcIl0pO1xyXG4gICAgICAgICAgICB0aGlzLnRlbXBMYXllci5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCI7Ly92aXNpYmxlXHJcbiAgICAgICAgICAgIGxldCBkZWZzID0gRmxvd2NoYXJ0LlN2Zyh0aGlzLnRlbXBMYXllciwgXCJkZWZzXCIsIFtdKTtcclxuICAgICAgICAgICAgbGV0IG1hcmtlckFycm93ID0gRmxvd2NoYXJ0LlN2ZyhkZWZzLCBcIm1hcmtlclwiLCBbXCJpZFwiLCBcIm1hcmtlci1hcnJvd1wiLFwibWFya2VyV2lkdGhcIixcIjRcIiwgXCJtYXJrZXJIZWlnaHRcIiwgXCI0XCIsIFwicmVmWFwiLCBcIjFcIiwgXCJyZWZZXCIsIFwiMlwiLCBcIm9yaWVudFwiLCBcIjBcIl0pO1xyXG4gICAgICAgICAgICB0aGlzLm1hcmtlckFycm93PTxTVkdQYXRoRWxlbWVudD5GbG93Y2hhcnQuU3ZnKG1hcmtlckFycm93LCBcInBhdGhcIiwgW1wiZFwiLCBcIk0wLDAgTDAsNCBMMiwyIHpcIiwgXCJmaWxsXCIsIFwicmVkXCIsIFwic3Ryb2tlXCIsIFwiYmxhY2tcIiwgXCJzdHJva2Utd2lkdGhcIiwgXCIwLjVcIl0pO1xyXG4gICAgICAgICAgICBsZXQgbWFya2VyQ2lyY2xlID0gRmxvd2NoYXJ0LlN2ZyhkZWZzLCBcIm1hcmtlclwiLCBbXCJpZFwiLCBcIm1hcmtlci1jaXJjbGVcIixcIm1hcmtlcldpZHRoXCIsXCI0XCIsIFwibWFya2VySGVpZ2h0XCIsIFwiNFwiLCBcInJlZlhcIiwgXCIyXCIsIFwicmVmWVwiLCBcIjJcIiwgXCJvcmllbnRcIiwgXCIwXCJdKTtcclxuICAgICAgICAgICAgdGhpcy5tYXJrZXJDaXJjbGU9PFNWR0NpcmNsZUVsZW1lbnQ+Rmxvd2NoYXJ0LlN2ZyhtYXJrZXJDaXJjbGUsIFwiY2lyY2xlXCIsIFtcImN4XCIsIFwiMlwiLCBcImN5XCIsIFwiMlwiLCBcInJcIiwgXCIyXCIsIFwiZmlsbFwiLCBcInJlZFwiLCBcInN0cm9rZS13aWR0aFwiLCBcIjFweFwiLFwic3Ryb2tlXCIsIFwiYmxhY2tcIl0pO1xyXG4gICAgICAgICAgICB0aGlzLnRlbXBvcmFyeUxpbmsgPSA8U1ZHTGluZUVsZW1lbnQ+Rmxvd2NoYXJ0LlN2Zyh0aGlzLnRlbXBMYXllciwgXCJsaW5lXCIsIFtcIngxXCIsIFwiMFwiLFwieTFcIiwgXCIwXCIsXCJ4MlwiLCBcIjBcIixcInkyXCIsIFwiMFwiLFwic3Ryb2tlLWRhc2hhcnJheVwiLCBcIjYsNlwiLFwic3Ryb2tlLXdpZHRoXCIsIFwiNFwiLFwic3Ryb2tlXCIsIFwiYmxhY2tcIixcImZpbGxcIiwgXCJub25lXCIsIFwibWFya2VyLWVuZFwiLCBcInVybCgjbWFya2VyLWFycm93KVwiXSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgdG9vbHNBY3RpdmF0b3IgPSA8U1ZHUmVjdEVsZW1lbnQ+Rmxvd2NoYXJ0LlN2Zyh0aGlzLmZsb3djaGFydENvbnRhaW5lclN2Z1N2ZywgXCJyZWN0XCIsIFtcIndpZHRoXCIsXCI0MFwiLCBcImhlaWdodFwiLCBcIjEwMCVcIiwgXCJmaWxsXCIsIFwid2hpdGVcIiwgXCJmaWxsLW9wYWNpdHlcIiwgXCIwXCJdKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudG9vbHNMYXllciAgPSA8U1ZHU1ZHRWxlbWVudD5GbG93Y2hhcnQuU3ZnKHRoaXMuZmxvd2NoYXJ0Q29udGFpbmVyU3ZnU3ZnLCBcImdcIiwgW10sIFtcImZsb3djaGFydC10b29scy1sYXllclwiLCBcInVuc2VsZWN0YWJsZVwiXSk7XHJcbiAgICAgICAgICAgIHRoaXMudG9vbHNMYXllci5zdHlsZS5kaXNwbGF5PVwibm9uZVwiOy8vdmlzaWJsZVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbGV0IHRvb2xzUmVjdD0gPFNWR1JlY3RFbGVtZW50PkZsb3djaGFydC5TdmcodGhpcy50b29sc0xheWVyLCBcInJlY3RcIiwgW1wid2lkdGhcIixcIjE0MFwiLCBcImhlaWdodFwiLCBcIjEwMCVcIiwgXCJyeFwiLCBcIjEwXCIsIFwicnlcIiwgXCIxMFwiXSwgW1widG9vbHMtY29udGFpbmVyXCJdKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vVGhlIG9ubW91c2Vtb3ZlIGV2ZW50IG9jY3VycyBldmVyeSB0aW1lIHRoZSBtb3VzZSBwb2ludGVyIGlzIG1vdmVkIG92ZXIgdGhlIGRpdiBlbGVtZW50LlxyXG4gICAgICAgICAgICAvL1RoZSBtb3VzZWVudGVyIGV2ZW50IG9ubHkgb2NjdXJzIHdoZW4gdGhlIG1vdXNlIHBvaW50ZXIgZW50ZXJzIHRoZSBkaXYgZWxlbWVudC5cclxuICAgICAgICAgICAgLy9UaGUgb25tb3VzZW92ZXIgZXZlbnQgb2NjdXJzIHdoZW4gdGhlIG1vdXNlIHBvaW50ZXIgZW50ZXJzIHRoZSBkaXYgZWxlbWVudCwgYW5kIGl0cyBjaGlsZCBlbGVtZW50cyAocCBhbmQgc3BhbikuXHJcblxyXG4gICAgICAgICAgICAvL1RoZSBtb3VzZW91dCBldmVudCB0cmlnZ2VycyB3aGVuIHRoZSBtb3VzZSBwb2ludGVyIGxlYXZlcyBhbnkgY2hpbGQgZWxlbWVudHMgYXMgd2VsbCB0aGUgc2VsZWN0ZWQgZWxlbWVudC5cclxuICAgICAgICAgICAgLy9UaGUgbW91c2VsZWF2ZSBldmVudCBpcyBvbmx5IHRyaWdnZXJlZCB3aGVuIHRoZSBtb3VzZSBwb2ludGVyIGxlYXZlcyB0aGUgc2VsZWN0ZWQgZWxlbWVudC5cclxuICAgICAgICAgICAgdG9vbHNBY3RpdmF0b3Iub25tb3VzZWVudGVyPSAoZSk9PlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvb2xzTGF5ZXIuc3R5bGUuZGlzcGxheT1cImluaXRpYWxcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnRvb2xzTGF5ZXIub25tb3VzZWxlYXZlID0gKGUpPT5cclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50b29sc0xheWVyLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuZmxvd2NoYXJ0Q29udGFpbmVyU3ZnU3ZnLm9uY2xpY2sgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0ID09IHRoaXMuRWxlbWVudCkvL2lmIHRoZSBjbGljayBpcyBpbiBhIFwiZnJlZVwiIGFyZWEsIHRoZW4gdGhlIHRhcmdldCBpcyB0aGUgdXBwZXJtb3N0IGxheWVyOyB0aGUgbGlua0xheWVyIVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zZWxlY3RPcGVyYXRvcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zZWxlY3RMaW5rKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5mbG93Y2hhcnRDb250YWluZXJTdmdTdmcub25tb3VzZXVwPShlKT0+XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmxvd2NoYXJ0IHRoaXMuZWxlbWVudC5vbm1vdXNldXAgd2l0aCBlLnRhcmdldD1cIitlLnRhcmdldCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHdvcmtzcGFjZS5vbmtleXVwPShlKT0+XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmKGUua2V5PT1cIkRlbGV0ZVwiKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmxvd2NoYXJ0IHdvcmtzcGFjZS5vbmtleXVwIHdpdGggZS50YXJnZXQ9XCIrZS50YXJnZXQrXCIgdW5kIERlbGV0ZS1LZXlcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVTZWxlY3RlZE9wZXJhdG9yKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmxvd2NoYXJ0IHdvcmtzcGFjZS5vbmtleXVwIHdpdGggZS50YXJnZXQ9XCIrZS50YXJnZXQrXCIgdW5kIGtleSBcIitlLmtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMucG9wdWxhdGVUb29sc0xheWVyKCk7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBnZXQgT3B0aW9ucygpIHsgcmV0dXJuIHRoaXMub3B0aW9uczsgfVxyXG4gICAgICAgIGdldCBFbGVtZW50KCl7cmV0dXJuIHRoaXMuZmxvd2NoYXJ0Q29udGFpbmVyU3ZnU3ZnO31cclxuXHJcbiAgICAgICAgcHVibGljIG9uRmlyc3RTdGFydCgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5kYXRhICE9PSB1bmRlZmluZWQgJiYgdGhpcy5vcHRpb25zLmRhdGEhPW51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0RGF0YSh0aGlzLm9wdGlvbnMuZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgcG9wdWxhdGVUb29sc0xheWVyKClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCB5PTEwO1xyXG4gICAgICAgICAgICBmb3IobGV0IGNsYXp6IGluIG9wZXJhdG9yaW1wbClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYoKDxhbnk+b3BlcmF0b3JpbXBsKVtjbGF6el0uR2V0VHlwZUluZm8pe1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpbmZvOlR5cGVJbmZvID0gKDxhbnk+b3BlcmF0b3JpbXBsKVtjbGF6el0uR2V0VHlwZUluZm8oKTtcclxuICAgICAgICAgICAgICAgICAgICAvL2lmKGluZm8uUG9zaXRpb24hPVBvc2l0aW9uVHlwZS5EZWZhdWx0IHx8IGluZm8uU2luZ2xldG9uIT1TaW5nbGV0b25UeXBlLkRlZmF1bHQpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IHRvb2xHcm91cCA9IDxTVkdHRWxlbWVudD5GbG93Y2hhcnQuU3ZnKHRoaXMudG9vbHNMYXllciwgXCJnXCIsIFtcInRyYW5zZm9ybVwiLCBgdHJhbnNsYXRlKDUgJHt5fSlgXSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgYm94ID0gPFNWR1JlY3RFbGVtZW50PkZsb3djaGFydC5TdmcodG9vbEdyb3VwLCBcInJlY3RcIiwgW1wid2lkdGhcIixcIjEzMFwiLCBcImhlaWdodFwiLCBcIjMwXCIsIFwicnhcIiwgXCIxMFwiLCBcInJ5XCIsIFwiMTBcIl0sIFtcInRvb2wtYm94XCJdKTtcclxuICAgICAgICAgICAgICAgIGxldCB0aXRsZSA9IEZsb3djaGFydC5TdmcodG9vbEdyb3VwLFwidGV4dFwiLCBbXCJ4XCIsIFwiNVwiLCBcInlcIiwgXCIyNVwiXSxbXCJ0b29sLWNhcHRpb25cIl0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHRvb2xHcm91cC5vbm1vdXNlZG93bj0oZSk9PlxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjbnQgPSB0aGlzLnVwY291bnRlcjtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbmFtZSA9IGNsYXp6LnN1YnN0cmluZygwLCBjbGF6ei5sZW5ndGgtXCJPcGVyYXRvclwiLmxlbmd0aCkrXCJfXCIrdGhpcy51cGNvdW50ZXJcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLm9uT3BlcmF0b3JDcmVhdGUgJiYgIXRoaXMub3B0aW9ucy5vbk9wZXJhdG9yQ3JlYXRlKG5hbWUsIG51bGwsIGZhbHNlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDcmVhdGluZyBcIituYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwY291bnRlcisrO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBvOiBGbG93Y2hhcnRPcGVyYXRvciA9IG5ldyAoPGFueT5vcGVyYXRvcmltcGwpW2NsYXp6XSh0aGlzLCBuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY29vcmRzID0gVXRpbHMuRXZlbnRDb29yZGluYXRlc0luU1ZHKGUsIHRoaXMuRWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgby5Nb3ZlVG8oY29vcmRzLngtMTAsIGNvb3Jkcy55LTEwKTtcclxuICAgICAgICAgICAgICAgICAgICBvLlJlZ2lzdGVyRHJhZ2dpbmcoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVyYXRvcnMuc2V0KG8uR2xvYmFsT3BlcmF0b3JJbmRleCwgbyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aXRsZS50ZXh0Q29udGVudCA9IGNsYXp6O1xyXG4gICAgICAgICAgICAgICAgeSs9NDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzZXREYXRhKGRhdGE6IEZsb3djaGFydERhdGEpIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGlua3MuZm9yRWFjaCgoZSk9PmUuUmVtb3ZlRnJvbURPTSgpKTtcclxuICAgICAgICAgICAgdGhpcy5saW5rcy5jbGVhcigpO1xyXG4gICAgICAgICAgICB0aGlzLm9wZXJhdG9ycy5mb3JFYWNoKChlKT0+ZS5SZW1vdmVGcm9tRE9NKCkpO1xyXG4gICAgICAgICAgICB0aGlzLm9wZXJhdG9ycy5jbGVhcigpO1xyXG4gICAgICAgICAgICBsZXQgb3BJZDJvcDogeyBbaWQ6IHN0cmluZ106IEZsb3djaGFydE9wZXJhdG9yIH0gPSB7fTtcclxuXHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgZCBvZiBkYXRhLm9wZXJhdG9ycykge1xyXG4gICAgICAgICAgICAgICAgbGV0IG8gPSB0aGlzLmNyZWF0ZU9wZXJhdG9yKGQpO1xyXG4gICAgICAgICAgICAgICAgb3BJZDJvcFtkLmlkXSA9IG87XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yIChjb25zdCBkIG9mIGRhdGEubGlua3MpIHtcclxuICAgICAgICAgICAgICAgIGxldCBmcm9tT3AgPSBvcElkMm9wW2QuZnJvbUlkXTtcclxuICAgICAgICAgICAgICAgIGxldCB0b09wID0gb3BJZDJvcFtkLnRvSWRdO1xyXG4gICAgICAgICAgICAgICAgaWYoZnJvbU9wPT1udWxsIHx8IHRvT3A9PW51bGwpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgbGV0IGZyb21Db25uID0gZnJvbU9wLkdldE91dHB1dENvbm5lY3RvckJ5SW5kZXgoZC5mcm9tT3V0cHV0KTtcclxuICAgICAgICAgICAgICAgIGxldCB0b0Nvbm4gPSB0b09wLkdldElucHV0Q29ubmVjdG9yQnlJbmRleChkLnRvSW5wdXQpO1xyXG4gICAgICAgICAgICAgICAgaWYoZnJvbUNvbm49PW51bGwgfHwgdG9Db25uPT1udWxsKSBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlTGluayhkLCBmcm9tQ29ubiwgdG9Db25uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBwdWJsaWMgRGVsZXRlTGluayhnbG9iYWxMaW5rSW5kZXg6IG51bWJlcikge1xyXG4gICAgICAgICAgICBsZXQgbCA9IHRoaXMubGlua3MuZ2V0KGdsb2JhbExpbmtJbmRleCk7XHJcbiAgICAgICAgICAgIGlmKGw9PW51bGwpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiTGluayB0byBkZWxldGUgaXMgbnVsbFwiKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGwuUmVtb3ZlRnJvbURPTSgpO1xyXG4gICAgICAgICAgICB0aGlzLmxpbmtzLmRlbGV0ZShnbG9iYWxMaW5rSW5kZXgpO1xyXG4gICAgICAgICAgICBsLlRvLlJlbW92ZUxpbmsobCk7XHJcbiAgICAgICAgICAgIGwuRnJvbS5SZW1vdmVMaW5rKGwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGNyZWF0ZUxpbmsoZGF0YTogTGlua0RhdGF8bnVsbCwgZnJvbTogRmxvd2NoYXJ0T3V0cHV0Q29ubmVjdG9yLCB0bzogRmxvd2NoYXJ0SW5wdXRDb25uZWN0b3IpOiBGbG93Y2hhcnRMaW5rfG51bGwge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLm9uTGlua0NyZWF0ZSAmJiAhdGhpcy5vcHRpb25zLm9uTGlua0NyZWF0ZShmcm9tLkNhcHRpb24sIGRhdGEpKSByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMubXVsdGlwbGVMaW5rc09uT3V0cHV0ICYmIGZyb20uTGlua3NMZW5ndGggPiAwKSByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMubXVsdGlwbGVMaW5rc09uSW5wdXQgJiYgdG8uTGlua3NMZW5ndGggPiAwKSAgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgICAgICBsZXQgbDogRmxvd2NoYXJ0TGluayA9IG5ldyBGbG93Y2hhcnRMaW5rKHRoaXMsIFwiXCIsIHRoaXMuT3B0aW9ucy5kZWZhdWx0TGlua0NvbG9yLCBmcm9tLCB0byk7XHJcbiAgICAgICAgICAgIGZyb20uQWRkTGluayhsKTtcclxuICAgICAgICAgICAgdG8uQWRkTGluayhsKTtcclxuICAgICAgICAgICAgdGhpcy5saW5rcy5zZXQobC5HbG9iYWxMaW5rSW5kZXgsIGwpO1xyXG4gICAgICAgICAgICByZXR1cm4gbDtcclxuICAgICAgICB9XHJcbiAgICAgICBcclxuICAgICAgICBwdWJsaWMgY3JlYXRlT3BlcmF0b3IoZGF0YTogT3BlcmF0b3JEYXRhKTogRmxvd2NoYXJ0T3BlcmF0b3Ige1xyXG5cclxuICAgICAgICAgICAgbGV0IG5hbWUgPSBkYXRhLnR5cGUrXCJPcGVyYXRvclwiO1xyXG4gICAgICAgICAgICBpZiAoISg8YW55Pm9wZXJhdG9yaW1wbClbbmFtZV0pIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biB0eXBlICR7ZGF0YS50eXBlfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMub25PcGVyYXRvckNyZWF0ZSAmJiAhdGhpcy5vcHRpb25zLm9uT3BlcmF0b3JDcmVhdGUoZGF0YS5jYXB0aW9uLCBudWxsLCBmYWxzZSkpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ3JlYXRpb24gb2Ygb3BlcmF0b3IgJHtkYXRhLnR5cGV9IHByZXZlbnRlZCBieSBvbk9wZXJhdG9yQ3JlYXRlIHBsdWdpbmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBvOiBGbG93Y2hhcnRPcGVyYXRvciA9IG5ldyAoPGFueT5vcGVyYXRvcmltcGwpW25hbWVdKHRoaXMsIGRhdGEuY2FwdGlvbik7XHJcbiAgICAgICAgICAgIG8uTW92ZVRvKGRhdGEucG9zWCwgZGF0YS5wb3NZKTtcclxuICAgICAgICAgICAgdGhpcy5vcGVyYXRvcnMuc2V0KG8uR2xvYmFsT3BlcmF0b3JJbmRleCxvKTtcclxuICAgICAgICAgICAgcmV0dXJuIG87XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHVuc2V0VGVtcG9yYXJ5TGluaygpIHtcclxuICAgICAgICAgICAgdGhpcy5sYXN0T3V0cHV0Q29ubmVjdG9yQ2xpY2tlZCA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMudGVtcExheWVyLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzZXRUZW1wb3JhcnlMaW5rKGM6Rmxvd2NoYXJ0T3V0cHV0Q29ubmVjdG9yKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdE91dHB1dENvbm5lY3RvckNsaWNrZWQgPSBjO1xyXG4gICAgICAgICAgICBsZXQgY29sb3IgPSBGbG93Y2hhcnQuREFUQVRZUEUyQ09MT1IuZ2V0KGMuVHlwZSlcclxuICAgICAgICAgICAgaWYoIWNvbG9yKSBjb2xvcj1cIkJMQUNLXCI7XHJcbiAgICAgICAgICAgIHRoaXMubWFya2VyQXJyb3cuc3R5bGUuZmlsbD1jb2xvcjtcclxuICAgICAgICAgICAgdGhpcy5tYXJrZXJDaXJjbGUuc3R5bGUuZmlsbD1jb2xvcjtcclxuICAgICAgICAgICAgdGhpcy50ZW1wTGF5ZXIuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSB1bnNlbGVjdE9wZXJhdG9yKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLm9uT3BlcmF0b3JVbnNlbGVjdCAmJiAhdGhpcy5vcHRpb25zLm9uT3BlcmF0b3JVbnNlbGVjdCgpKSByZXR1cm47XHJcbiAgICAgICAgICAgIHRoaXMucHJvcGVydHlHcmlkSHRtbERpdi5pbm5lclRleHQ9XCJcIjsgLy9jbGVhclxyXG4gICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZE9wZXJhdG9yID09IG51bGwpIHJldHVybjtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE9wZXJhdG9yLlNob3dBc1NlbGVjdGVkKGZhbHNlKTtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE9wZXJhdG9yID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBwdWJsaWMgU2VsZWN0T3BlcmF0b3Iob3BlcmF0b3I6IEZsb3djaGFydE9wZXJhdG9yKTp2b2lkIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5vbk9wZXJhdG9yU2VsZWN0ICYmICF0aGlzLm9wdGlvbnMub25PcGVyYXRvclNlbGVjdChvcGVyYXRvci5DYXB0aW9uKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICB0aGlzLnVuc2VsZWN0TGluaygpO1xyXG4gICAgICAgICAgICBpZih0aGlzLnNlbGVjdGVkT3BlcmF0b3IhPW51bGwpIHRoaXMuc2VsZWN0ZWRPcGVyYXRvci5TaG93QXNTZWxlY3RlZChmYWxzZSk7XHJcbiAgICAgICAgICAgIG9wZXJhdG9yLlNob3dBc1NlbGVjdGVkKHRydWUpO1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkT3BlcmF0b3IgPSBvcGVyYXRvcjtcclxuICAgICAgICAgICAgdGhpcy5wcm9wZXJ0eUdyaWRIdG1sRGl2LmlubmVyVGV4dD1cIlwiOyAvL2NsZWFyXHJcbiAgICAgICAgICAgIEZsb3djaGFydC5IdG1sKHRoaXMucHJvcGVydHlHcmlkSHRtbERpdiwgXCJwXCIsIFtdLFtcImRldmVsb3AtcHJvcGVydHlncmlkLWhlYWRcIl0sIGBQcm9wZXJ0aWVzIGZvciAke3RoaXMuc2VsZWN0ZWRPcGVyYXRvci5DYXB0aW9ufWApO1xyXG4gICAgICAgICAgICBsZXQgdGFibGU9PEhUTUxUYWJsZUVsZW1lbnQ+Rmxvd2NoYXJ0Lkh0bWwodGhpcy5wcm9wZXJ0eUdyaWRIdG1sRGl2LCBcInRhYmxlXCIsIFtdLFtcImRldmVsb3AtcHJvcGVydHlncmlkLXRhYmxlXCJdKTtcclxuICAgICAgICAgICAgbGV0IHRyPUZsb3djaGFydC5IdG1sKHRhYmxlLCBcInRyXCIsIFtdLFtcImRldmVsb3AtcHJvcGVydHlncmlkLXRyXCJdKTtcclxuICAgICAgICAgICAgRmxvd2NoYXJ0Lkh0bWwodHIsIFwidGhcIiwgW10sW1wiZGV2ZWxvcC1wcm9wZXJ0eWdyaWQtdGhcIl0sIFwiS2V5XCIpO1xyXG4gICAgICAgICAgICBGbG93Y2hhcnQuSHRtbCh0ciwgXCJ0aFwiLCBbXSxbXCJkZXZlbG9wLXByb3BlcnR5Z3JpZC10aFwiXSwgXCJWYWx1ZVwiKTtcclxuICAgICAgICAgICAgaWYodGhpcy5zZWxlY3RlZE9wZXJhdG9yIS5Qb3B1bGF0ZVByb3BlcnlHcmlkKHRhYmxlKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgRmxvd2NoYXJ0Lkh0bWwodGhpcy5wcm9wZXJ0eUdyaWRIdG1sRGl2LCBcImJ1dHRvblwiLCBbXSxbXCJkZXZlbG9wLXByb3BlcnR5Z3JpZC1idXR0b25cIl0sIGBTYXZlYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcGVydHlHcmlkSHRtbERpdi5pbm5lclRleHQ9XCJcIjsgLy9jbGVhclxyXG4gICAgICAgICAgICAgICAgRmxvd2NoYXJ0Lkh0bWwodGhpcy5wcm9wZXJ0eUdyaWRIdG1sRGl2LCBcInBcIiwgW10sW1wiZGV2ZWxvcC1wcm9wZXJ0eWdyaWQtaGVhZFwiXSwgYE5vIFByb3BlcnRpZXMgZm9yICR7dGhpcy5zZWxlY3RlZE9wZXJhdG9yLkNhcHRpb259YCk7XHJcbiAgICAgICAgICAgIH0gXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBGb3VuZCBoZXJlIDogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy81NTYwMjQ4L3Byb2dyYW1tYXRpY2FsbHktbGlnaHRlbi1vci1kYXJrZW4tYS1oZXgtY29sb3Itb3ItcmdiLWFuZC1ibGVuZC1jb2xvcnNcclxuICAgICAgICBwdWJsaWMgc3RhdGljIF9zaGFkZUNvbG9yKGNvbG9yOiBzdHJpbmcsIHBlcmNlbnQ6IG51bWJlcikge1xyXG4gICAgICAgICAgICB2YXIgZiA9IHBhcnNlSW50KGNvbG9yLnNsaWNlKDEpLCAxNiksIHQgPSBwZXJjZW50IDwgMCA/IDAgOiAyNTUsIHAgPSBwZXJjZW50IDwgMCA/IHBlcmNlbnQgKiAtMSA6IHBlcmNlbnQsIFIgPSBmID4+IDE2LCBHID0gZiA+PiA4ICYgMHgwMEZGLCBCID0gZiAmIDB4MDAwMEZGO1xyXG4gICAgICAgICAgICByZXR1cm4gXCIjXCIgKyAoMHgxMDAwMDAwICsgKE1hdGgucm91bmQoKHQgLSBSKSAqIHApICsgUikgKiAweDEwMDAwICsgKE1hdGgucm91bmQoKHQgLSBHKSAqIHApICsgRykgKiAweDEwMCArIChNYXRoLnJvdW5kKCh0IC0gQikgKiBwKSArIEIpKS50b1N0cmluZygxNikuc2xpY2UoMSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIFN2ZyhwYXJlbnQ6IEVsZW1lbnQsIHR5cGU6c3RyaW5nLCAgYXR0cmlidXRlczpzdHJpbmdbXSwgY2xhc3Nlcz86IHN0cmluZ1tdKTpTVkdFbGVtZW50IHtcclxuICAgICAgICAgICAgcmV0dXJuIDxTVkdFbGVtZW50PkZsb3djaGFydC5FbGVtKEZsb3djaGFydC5TVkdOUywgcGFyZW50LCB0eXBlLCBhdHRyaWJ1dGVzLCBjbGFzc2VzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgSHRtbChwYXJlbnQ6IEVsZW1lbnQsIHR5cGU6c3RyaW5nLCAgYXR0cmlidXRlczpzdHJpbmdbXSwgY2xhc3Nlcz86IHN0cmluZ1tdLCB0ZXh0Q29udGVudD86c3RyaW5nKTpIVE1MRWxlbWVudCB7XHJcbiAgICAgICAgICAgIHJldHVybiA8SFRNTEVsZW1lbnQ+Rmxvd2NoYXJ0LkVsZW0oRmxvd2NoYXJ0LkhUTUxOUywgcGFyZW50LCB0eXBlLCBhdHRyaWJ1dGVzLCBjbGFzc2VzLCB0ZXh0Q29udGVudCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBFbGVtKG5zOnN0cmluZywgcGFyZW50OkVsZW1lbnQsIHR5cGU6c3RyaW5nLCBhdHRyaWJ1dGVzOnN0cmluZ1tdLCBjbGFzc2VzPzogc3RyaW5nW10sIHRleHRDb250ZW50PzpzdHJpbmcpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhucywgdHlwZSk7XHJcbiAgICAgICAgICAgIGlmKGNsYXNzZXMpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY2xhenogb2YgY2xhc3Nlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbGF6eik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IGk6bnVtYmVyO1xyXG4gICAgICAgICAgICBmb3IoaT0wO2k8YXR0cmlidXRlcy5sZW5ndGg7aSs9MilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlc1tpXSwgYXR0cmlidXRlc1tpKzFdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZih0ZXh0Q29udGVudClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC50ZXh0Q29udGVudD10ZXh0Q29udGVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XHJcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuIiwiaW1wb3J0IHsgRmxvd2NoYXJ0T3BlcmF0b3IgfSBmcm9tIFwiLi9GbG93Y2hhcnRPcGVyYXRvclwiO1xyXG5pbXBvcnQgeyBGbG93Y2hhcnQgfSBmcm9tIFwiLi9GbG93Y2hhcnRcIjtcclxuaW1wb3J0IHsgRmxvd2NoYXJ0TGluayB9IGZyb20gXCIuL0Zsb3djaGFydExpbmtcIjtcclxuaW1wb3J0IHtMb2NhdGlvbjJEfSBmcm9tIFwiLi9VdGlsc1wiXHJcblxyXG5jb25zdCBUUkFOU0xBVEVZID0gMjA7XHJcblxyXG5leHBvcnQgZW51bSBDb25uZWN0b3JUeXBle1xyXG4gICAgVU5ERUZJTkVEID0wLFxyXG4gICAgQk9PTEVBTj0xLFxyXG4gICAgSU5URUdFUj0yLFxyXG4gICAgRkxPQVQ9MyxcclxuICAgIENPTE9SPTQsXHJcbn1cclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBGbG93Y2hhcnRDb25uZWN0b3Ige1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgSU5ERVg6IG51bWJlciA9IDA7XHJcbiAgICBwcml2YXRlIGluZGV4OiBudW1iZXI7XHJcbiAgICBnZXQgR2xvYmFsQ29ubmVjdG9ySW5kZXgoKSB7IHJldHVybiB0aGlzLmluZGV4OyB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGVsZW1lbnQ6IFNWR0dFbGVtZW50O1xyXG4gICAgZ2V0IEVsZW1lbnQoKSB7IHJldHVybiB0aGlzLmVsZW1lbnQ7IH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgc25hcHBlcjpTVkdDaXJjbGVFbGVtZW50O1xyXG4gICAgcHJvdGVjdGVkIGNvbm5lY3RvcjpTVkdFbGVtZW50O1xyXG4gICAgcHJvdGVjdGVkIGNvbm5lY3Rvckdyb3VwOlNWR0dFbGVtZW50O1xyXG5cclxuICAgIHByaXZhdGUgbGlua3MgPSBuZXcgTWFwPG51bWJlciwgRmxvd2NoYXJ0TGluaz4oKTtcclxuICAgIHB1YmxpYyBIYXNMaW5rID0gKGdsb2JhbExpbmtJbmRleDogbnVtYmVyKSA9PiB0aGlzLmxpbmtzLmhhcyhnbG9iYWxMaW5rSW5kZXgpO1xyXG4gICAgcHVibGljIEFkZExpbmsgPSAobGluazogRmxvd2NoYXJ0TGluaykgPT4gdGhpcy5saW5rcy5zZXQobGluay5HbG9iYWxMaW5rSW5kZXgsIGxpbmspO1xyXG4gICAgcHVibGljIFJlbW92ZUxpbmsgPSAobGluazogRmxvd2NoYXJ0TGluaykgPT4gdGhpcy5saW5rcy5kZWxldGUobGluay5HbG9iYWxMaW5rSW5kZXgpO1xyXG4gICAgZ2V0IExpbmtzTGVuZ3RoKCkgeyByZXR1cm4gdGhpcy5saW5rcy5zaXplfTtcclxuICAgIHB1YmxpYyBHZXRMaW5rc0NvcHkoKTogRmxvd2NoYXJ0TGlua1tdIHtcclxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmxpbmtzLnZhbHVlcygpKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgTGlua3NLVkl0KCl7cmV0dXJuIHRoaXMubGlua3MuZW50cmllcygpfVxyXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IEdldExpbmtwb2ludFhPZmZzZXQod2lkdGg6bnVtYmVyKTogbnVtYmVyO1xyXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IGdldElPU3BlY2lmaWNzKCk6e2lucHV0T3JPdXRwdXQ6c3RyaW5nLCBwYXJlbnQ6U1ZHR0VsZW1lbnQsIHRyYW5zbGF0ZVk6bnVtYmVyLCBkeDpudW1iZXJ9O1xyXG5cclxuICAgIHB1YmxpYyBSZWZyZXNoTGlua1Bvc2l0aW9ucygpIHtcclxuICAgICAgICB0aGlzLmxpbmtzLmZvckVhY2gobD0+e1xyXG4gICAgICAgICAgICBsLlJlZnJlc2hQb3NpdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcGFyZW50OiBGbG93Y2hhcnRPcGVyYXRvciwgcHJpdmF0ZSBjYXB0aW9uOiBzdHJpbmcsIHByaXZhdGUgdHlwZTpDb25uZWN0b3JUeXBlKSB7XHJcblxyXG4gICAgICAgIHRoaXMuaW5kZXggPSBGbG93Y2hhcnRDb25uZWN0b3IuSU5ERVgrKztcclxuICAgICAgICBsZXQgc3BlYyA9IHRoaXMuZ2V0SU9TcGVjaWZpY3MoKTtcclxuICAgICAgICBsZXQgdHJhbnNsYXRlWSA9IFRSQU5TTEFURVkqc3BlYy5wYXJlbnQuY2hpbGRFbGVtZW50Q291bnQ7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gPFNWR0dFbGVtZW50PkZsb3djaGFydC5Tdmcoc3BlYy5wYXJlbnQsIFwiZ1wiLCBbXCJ0cmFuc2Zvcm1cIiwgYHRyYW5zbGF0ZSgwICR7dHJhbnNsYXRlWX0pYF0sIFtgb3BlcmF0b3ItJHtzcGVjLmlucHV0T3JPdXRwdXR9YF0pO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNvbm5lY3Rvci1kYXRhdHlwZVwiLCBDb25uZWN0b3JUeXBlW3R5cGVdKTtcclxuXHJcbiAgICAgICAgbGV0IHRleHQgPSAgPFNWR1RleHRFbGVtZW50PkZsb3djaGFydC5TdmcodGhpcy5lbGVtZW50LCBcInRleHRcIiwgW1wiZHhcIixcIlwiK3NwZWMuZHgsIFwiZHlcIiwgXCI0XCJdLCBbYG9wZXJhdG9yLSR7c3BlYy5pbnB1dE9yT3V0cHV0fS1jYXB0aW9uYF0pO1xyXG4gICAgICAgIHRleHQudGV4dENvbnRlbnQ9Y2FwdGlvbjtcclxuICAgICAgICB0aGlzLmNvbm5lY3Rvckdyb3VwID0gPFNWR0dFbGVtZW50PkZsb3djaGFydC5TdmcodGhpcy5lbGVtZW50LCBcImdcIiwgW10pO1xyXG4gICAgICAgIHRoaXMuY29ubmVjdG9yID0gPFNWR0NpcmNsZUVsZW1lbnQ+Rmxvd2NoYXJ0LlN2Zyh0aGlzLmNvbm5lY3Rvckdyb3VwLCBcImNpcmNsZVwiLCBbXCJyXCIsXCI0XCJdLCBbYG9wZXJhdG9yLSR7c3BlYy5pbnB1dE9yT3V0cHV0fS1jb25uZWN0b3JgLCBDb25uZWN0b3JUeXBlW3R5cGVdXSk7XHJcbiAgICAgICAgdGhpcy5zbmFwcGVyPSA8U1ZHQ2lyY2xlRWxlbWVudD5GbG93Y2hhcnQuU3ZnKHRoaXMuY29ubmVjdG9yR3JvdXAsIFwiY2lyY2xlXCIsIFtcInJcIixcIjEwXCJdLCBbYG9wZXJhdG9yLSR7c3BlYy5pbnB1dE9yT3V0cHV0fS1zbmFwcGVyYF0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuZWxlbWVudC5vbm1vdXNlb3ZlciA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgbGluayBvZiB0aGlzLmxpbmtzLnZhbHVlcygpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGluayAmJiBsaW5rICE9IHRoaXMucGFyZW50LlBhcmVudC5TZWxlY3RlZExpbmspIHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5rLkNvbG9yaXplTGluayhGbG93Y2hhcnQuX3NoYWRlQ29sb3IodGhpcy5wYXJlbnQuUGFyZW50Lk9wdGlvbnMuZGVmYXVsdExpbmtDb2xvciwgLTAuNCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmVsZW1lbnQub25tb3VzZW91dCA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgbGluayBvZiB0aGlzLmxpbmtzLnZhbHVlcygpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGluayAmJiBsaW5rICE9IHRoaXMucGFyZW50LlBhcmVudC5TZWxlY3RlZExpbmspIHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5rLlVuY29sb3JpemVMaW5rKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXQgUGFyZW50KCkgeyByZXR1cm4gdGhpcy5wYXJlbnQ7IH1cclxuICAgIGdldCBDYXB0aW9uKCkgeyByZXR1cm4gdGhpcy5jYXB0aW9uOyB9XHJcbiAgICBnZXQgVHlwZSgpIHsgcmV0dXJuIHRoaXMudHlwZTsgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgR2V0TGlua3BvaW50KCk6IExvY2F0aW9uMkQge1xyXG4gICAgICAgIGxldCBmbG93Y2hhcnQgPSB0aGlzLlBhcmVudC5QYXJlbnQ7XHJcbiAgICAgICAgbGV0IHBvc3JhdCA9IGZsb3djaGFydC5Qb3NpdGlvblJhdGlvO1xyXG4gICAgICAgIGxldCBmbG93Y2hhcnRSZWN0ID0gZmxvd2NoYXJ0LkVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgbGV0IGNvbm5lY3RvclJlY3QgPSB0aGlzLmNvbm5lY3Rvci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICB2YXIgeCA9IChjb25uZWN0b3JSZWN0LmxlZnQgLSBmbG93Y2hhcnRSZWN0LmxlZnQpIC8gcG9zcmF0ICsgY29ubmVjdG9yUmVjdC53aWR0aC8yO1xyXG4gICAgICAgIHZhciB5ID0gKGNvbm5lY3RvclJlY3QudG9wIC0gZmxvd2NoYXJ0UmVjdC50b3ApIC8gcG9zcmF0ICsgY29ubmVjdG9yUmVjdC5oZWlnaHQvMjtcclxuICAgICAgICByZXR1cm4geyB4OiB4LCB5OiB5IH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBGbG93Y2hhcnRJbnB1dENvbm5lY3RvciBleHRlbmRzIEZsb3djaGFydENvbm5lY3RvciB7XHJcbiAgICBjb25zdHJ1Y3RvciAocGFyZW50OiBGbG93Y2hhcnRPcGVyYXRvciwgY2FwdGlvbjogc3RyaW5nLCB0eXBlOkNvbm5lY3RvclR5cGUpIHtcclxuICAgICAgICBzdXBlcihwYXJlbnQsIGNhcHRpb24sIHR5cGUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuY29ubmVjdG9yR3JvdXAub25tb3VzZXVwID0gKGUpID0+IHtcclxuICAgICAgICAgICBwYXJlbnQuUGFyZW50Ll9ub3RpZnlJbnB1dENvbm5lY3Rvck1vdXNldXAodGhpcywgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY29ubmVjdG9yR3JvdXAub25tb3VzZWVudGVyPShlKT0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBwYXJlbnQuUGFyZW50Ll9ub3RpZnlJbnB1dENvbm5lY3Rvck1vdXNlZW50ZXIodGhpcywgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY29ubmVjdG9yR3JvdXAub25tb3VzZWxlYXZlPShlKT0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBwYXJlbnQuUGFyZW50Ll9ub3RpZnlJbnB1dENvbm5lY3Rvck1vdXNlbGVhdmUodGhpcywgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJvdGVjdGVkIEdldExpbmtwb2ludFhPZmZzZXQod2lkdGg6bnVtYmVyKTogbnVtYmVye3JldHVybiAwO30gIFxyXG4gICAgcHJvdGVjdGVkICBnZXRJT1NwZWNpZmljcygpe3JldHVybiB7aW5wdXRPck91dHB1dDpcImlucHV0XCIsIHBhcmVudDp0aGlzLlBhcmVudC5JbnB1dFN2Z0csIHRyYW5zbGF0ZVk6MCwgZHg6OH07fVxyXG59XHJcbmV4cG9ydCBjbGFzcyBGbG93Y2hhcnRPdXRwdXRDb25uZWN0b3IgZXh0ZW5kcyBGbG93Y2hhcnRDb25uZWN0b3Ige1xyXG4gICAgY29uc3RydWN0b3IgKHBhcmVudDogRmxvd2NoYXJ0T3BlcmF0b3IsIGNhcHRpb246IHN0cmluZywgdHlwZTpDb25uZWN0b3JUeXBlKSB7XHJcbiAgICAgICAgc3VwZXIocGFyZW50LCBjYXB0aW9uLCB0eXBlKVxyXG4gICAgICAgIHRoaXMuZWxlbWVudC5vbm1vdXNlZG93biA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgIHBhcmVudC5QYXJlbnQuX25vdGlmeU91dHB1dENvbm5lY3Rvck1vdXNlZG93bih0aGlzLCBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcm90ZWN0ZWQgR2V0TGlua3BvaW50WE9mZnNldCh3aWR0aDpudW1iZXIpOiBudW1iZXJ7cmV0dXJuIHdpZHRoO31cclxuICAgIHByb3RlY3RlZCAgZ2V0SU9TcGVjaWZpY3MoKXtyZXR1cm4ge2lucHV0T3JPdXRwdXQ6XCJvdXRwdXRcIiwgcGFyZW50OnRoaXMuUGFyZW50Lk91dHB1dFN2Z0csIHRyYW5zbGF0ZVk6MTQwLCBkeDotOH07fVxyXG59XHJcbiIsImltcG9ydCB7IEZsb3djaGFydE9wZXJhdG9yIH0gZnJvbSBcIi4vRmxvd2NoYXJ0T3BlcmF0b3JcIjtcclxuaW1wb3J0IHsgRmxvd2NoYXJ0TGluayB9IGZyb20gXCIuL0Zsb3djaGFydExpbmtcIjtcclxuaW1wb3J0IHsgRmxvd2NoYXJ0SW5wdXRDb25uZWN0b3IsIEZsb3djaGFydE91dHB1dENvbm5lY3RvciwgQ29ubmVjdG9yVHlwZSB9IGZyb20gXCIuL0Zsb3djaGFydENvbm5lY3RvclwiO1xyXG5pbXBvcnQgKiBhcyBvcGVyYXRvcmltcGwgZnJvbSBcIi4vRmxvd2NoYXJ0T3BlcmF0b3JJbXBsXCI7XHJcbmltcG9ydCB7IExvY2F0aW9uMkQsIFV0aWxzIH0gZnJvbSBcIi4vVXRpbHNcIlxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTZXJpYWxpemVDb250ZXh0IHtcclxuICAgIHR5cGVJbmRleDJnbG9iYWxDb25uZWN0b3JJbmRleDJhZHJlc3NPZmZzZXQ6IE1hcDxudW1iZXIsIE1hcDxudW1iZXIsIG51bWJlcj4+O1xyXG4gICAgYnVmZmVyOiBEYXRhVmlldztcclxuICAgIGJ1ZmZlck9mZnNldDogbnVtYmVyO1xyXG5cclxufVxyXG5cclxuZGVjbGFyZSBjb25zdCBtc0NyeXB0bzogQ3J5cHRvO1xyXG5cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgRmxvd2NoYXJ0RXhwb3J0ZXIge1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIGdldFJhbmRvbVZhbHVlc1dpdGhNYXRoUmFuZG9tKGJ5dGVzOiBVaW50OEFycmF5KTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgbWF4ID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVzLmJ5dGVMZW5ndGggLyBieXRlcy5sZW5ndGgpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCByOyBpIDwgYnl0ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgYnl0ZXNbaV0gPSBNYXRoLnJhbmRvbSgpICogbWF4O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgZ2V0UmFuZG9tQnl0ZXMobGVuZ3RoOiBudW1iZXIpOiBVaW50OEFycmF5IHtcclxuICAgICAgICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMoYnl0ZXMpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG1zQ3J5cHRvICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMoYnl0ZXMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIEZsb3djaGFydEV4cG9ydGVyLmdldFJhbmRvbVZhbHVlc1dpdGhNYXRoUmFuZG9tKGJ5dGVzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGJ5dGVzO1xyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIEV4cG9ydChvcGVyYXRvcnM6IEZsb3djaGFydE9wZXJhdG9yW10pIHtcclxuICAgICAgICBsZXQgdHlwZUluZGV4Mmdsb2JhbENvbm5lY3RvckluZGV4MmFkcmVzc09mZnNldCA9IG5ldyBNYXA8bnVtYmVyLCBNYXA8bnVtYmVyLCBudW1iZXI+PigpOyAvL2dsb2JhbENvbm5lY3RvckluZGV4X091dHB1dHMgMiB2YXJpYWJsZUFkcmVzc1xyXG4gICAgICAgIGxldCB0eXBlSW5kZXgybWF4T2Zmc2V0ID0gbmV3IE1hcDxudW1iZXIsIG51bWJlcj4oKVxyXG4gICAgICAgIGZvciAobGV0IHR5cGUgaW4gQ29ubmVjdG9yVHlwZSkge1xyXG4gICAgICAgICAgICBpZiAoIWlzTmFOKE51bWJlcih0eXBlKSkpIHtcclxuICAgICAgICAgICAgICAgIHR5cGVJbmRleDJnbG9iYWxDb25uZWN0b3JJbmRleDJhZHJlc3NPZmZzZXQuc2V0KE51bWJlcih0eXBlKSwgbmV3IE1hcDxudW1iZXIsIG51bWJlcj4oKSk7XHJcbiAgICAgICAgICAgICAgICB0eXBlSW5kZXgybWF4T2Zmc2V0LnNldChOdW1iZXIodHlwZSksIDIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLy9JdGVyaWVyZSDDvGJlciBhbGxlIE91dHB1dC1Db25uZWN0b3JlbiBhbGxlciBPcGVyYXRvcmVuXHJcbiAgICAgICAgLy9FaW4gT3V0cHV0LCBkZXIgYmVzY2hhbHRldCBpc3QsIGVudHNwcmljaHQgZWluZXIgU3BlaWNoZXJhZHJlc3NlLlxyXG4gICAgICAgIC8vVW5iZXNjaGFsdGV0ZSBPdXRwdXRzIHNjaHJlaWJlbiBpbiBkaWUgU3BlaWNoZXJhZHJlc3NlIDAuIFxyXG4gICAgICAgIC8vVW5iZXNjaGFsdGV0ZSBJbnB1dHMgbGVzZW4gdm9uIGRlciBTcGVpY2hlcmFkcmVzc2UgMVxyXG4gICAgICAgIC8vRWNodGUgU3BlaWNoZXJhZHJlc3NlbiBnaWJ0IGVzIGRhbm4gYWIgSW5kZXggMlxyXG4gICAgICAgIC8vSW4gZGVuIE1hcHMgc3RlaGVuIGRpZSBadW9yZG51bmcgR2xvYmFsZXIgQ29ubmVjdG9yIEluZGV4IC0tPiBJbmRleCBkZXIgU3BlaWNoZXJhZGRyZXNzZVxyXG4gICAgICAgIC8vQXXDn2VyZGVtIGJla2FubnQ6IFdpZSB2aWVsZSBTcGVpY2hlcmFkcmVzc2VuIHZvbiBqZWRlbSBUeXAgYmVuw7Z0aWdlbiB3aXJcclxuICAgICAgICBmb3IgKGNvbnN0IG9wZXJhdG9yIG9mIG9wZXJhdG9ycykge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IG91dHB1dEtWIG9mIG9wZXJhdG9yLk91dHB1dHNLVkl0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3V0cHV0S1ZbMV0uTGlua3NMZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdW5jb25uZWN0ZWQgb3V0cHV0IC0tPndyaXRlcyB0byBtZW1vcnkgYWRyZXNzIHplcm8gb2YgdGhlIHJlc3BlY3RpdmUgZGF0YSB0eXBlXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZUluZGV4Mmdsb2JhbENvbm5lY3RvckluZGV4MmFkcmVzc09mZnNldC5nZXQob3V0cHV0S1ZbMV0uVHlwZSkhLnNldChvdXRwdXRLVlsxXS5HbG9iYWxDb25uZWN0b3JJbmRleCwgMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2Nvbm5lY3RlZCBvdXRwdXQgLS0+IGNyZWF0ZSBuZXcgbWVtb3J5IGFkZHJlc3MgYW5kIHNldCBpdFxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IHR5cGVJbmRleDJtYXhPZmZzZXQuZ2V0KG91dHB1dEtWWzFdLlR5cGUpITtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlSW5kZXgyZ2xvYmFsQ29ubmVjdG9ySW5kZXgyYWRyZXNzT2Zmc2V0LmdldChvdXRwdXRLVlsxXS5UeXBlKSEuc2V0KG91dHB1dEtWWzFdLkdsb2JhbENvbm5lY3RvckluZGV4LCBpbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgICAgICB0eXBlSW5kZXgybWF4T2Zmc2V0LnNldChvdXRwdXRLVlsxXS5UeXBlLCBpbmRleCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgTGVnZSBudW4gZGllIE9wZXJhdG9yZW4gaW4gZGVyIGR1cmNoIGRhcyBBcnJheSB2b3JnZWdlYmVuZW4gU3RydWt0dXIgaW4gZWluIEFycmF5IGFiXHJcbiAgICAgICAgKi9cclxuICAgICAgICBsZXQgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKE1hdGgucG93KDIsIDE2KSk7XHJcbiAgICAgICAgbGV0IGN0eDogU2VyaWFsaXplQ29udGV4dCA9IHsgdHlwZUluZGV4Mmdsb2JhbENvbm5lY3RvckluZGV4MmFkcmVzc09mZnNldDogdHlwZUluZGV4Mmdsb2JhbENvbm5lY3RvckluZGV4MmFkcmVzc09mZnNldCwgYnVmZmVyOiBuZXcgRGF0YVZpZXcoYnVmZmVyKSwgYnVmZmVyT2Zmc2V0OiAwIH07XHJcbiAgICAgICAgLy9WZXJzaW9uIG9mIERhdGEgU3RydWN0dXJlXHJcbiAgICAgICAgY3R4LmJ1ZmZlci5zZXRVaW50MzIoY3R4LmJ1ZmZlck9mZnNldCwgMHhBRkZFQ0FGRSwgdHJ1ZSk7IC8vVmVyc2lvbiAweEFGRkVDQUZFIG1lYW5zOiBEZXZlbG9wbWVudFxyXG4gICAgICAgIGN0eC5idWZmZXJPZmZzZXQgKz0gNDtcclxuICAgICAgICAvL0dVSURcclxuICAgICAgICBsZXQgZ3VpZD1GbG93Y2hhcnRFeHBvcnRlci5nZXRSYW5kb21CeXRlcygxNilcclxuICAgICAgICBndWlkLmZvckVhY2goKHYsaSk9PntjdHguYnVmZmVyLnNldFVpbnQ4KGN0eC5idWZmZXJPZmZzZXQraSwgdil9KTsgLy9ndWlkIG9mIHRoZSBtb2RlbFxyXG4gICAgICAgIGN0eC5idWZmZXJPZmZzZXQgKz0gMTY7XHJcblxyXG4gICAgICAgIGZvciAoY29uc3Qgb3BlcmF0b3Igb2Ygb3BlcmF0b3JzKSB7XHJcbiAgICAgICAgICAgIG9wZXJhdG9yLlNlcmlhbGl6ZVRvQmluYXJ5KGN0eCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBjb2RlOiBTdHJpbmcgPSBcImNvbnN0IHVpbnQ4X3QgY29kZVtdID0ge1wiXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdHguYnVmZmVyT2Zmc2V0OyBpKyspIHtcclxuICAgICAgICAgICAgY29kZSArPSBcIjB4XCIgKyBjdHguYnVmZmVyLmdldFVpbnQ4KGkpLnRvU3RyaW5nKDE2KSArIFwiLCBcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29kZSArPSBcIn07XCI7XHJcbiAgICAgICAgd2luZG93LmFsZXJ0KGNvZGUpO1xyXG4gICAgICAgIC8vdmFyIGZpbGUgPSBuZXcgQmxvYihbYnVmZmVyLnNsaWNlKDAsY3R4LmJ1ZmZlck9mZnNldCldLCB7dHlwZTogXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIn0pO1xyXG4gICAgICAgIC8vVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKVxyXG4gICAgICAgIHJldHVybiBndWlkO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCB7IEZsb3djaGFydElucHV0Q29ubmVjdG9yLCBGbG93Y2hhcnRPdXRwdXRDb25uZWN0b3IgfSBmcm9tIFwiLi9GbG93Y2hhcnRDb25uZWN0b3JcIjtcclxuaW1wb3J0IHsgRmxvd2NoYXJ0IH0gZnJvbSBcIi4vRmxvd2NoYXJ0XCI7XHJcbmV4cG9ydCBjbGFzcyBGbG93Y2hhcnRMaW5rIHtcclxuICAgIHByaXZhdGUgc3RhdGljIE1BWF9JTkRFWDogbnVtYmVyID0gMDtcclxuICAgIHByaXZhdGUgaW5kZXg6IG51bWJlcjtcclxuICAgIHByaXZhdGUgZWxlbWVudDogU1ZHUGF0aEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIGNhcHRpb25FbGVtZW50OiBTVkdUZXh0RWxlbWVudDtcclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcGFyZW50OiBGbG93Y2hhcnQsIHByaXZhdGUgY2FwdGlvbjogc3RyaW5nLCBwcml2YXRlIGNvbG9yOiBzdHJpbmcsIHByaXZhdGUgZnJvbTogRmxvd2NoYXJ0T3V0cHV0Q29ubmVjdG9yLCBwcml2YXRlIHRvOiBGbG93Y2hhcnRJbnB1dENvbm5lY3Rvcikge1xyXG4gICAgICAgIHRoaXMuaW5kZXggPSBGbG93Y2hhcnRMaW5rLk1BWF9JTkRFWCsrO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IDxTVkdQYXRoRWxlbWVudD5GbG93Y2hhcnQuU3ZnKHBhcmVudC5MaW5rTGF5ZXIsIFwicGF0aFwiLCBbXCJzdHJva2Utd2lkdGhcIiwgXCJcIiArIHRoaXMucGFyZW50Lk9wdGlvbnMubGlua1dpZHRoLCBcImZpbGxcIiwgXCJub25lXCIsIFwiaWRcIiwgXCJMSU5LXCIgKyB0aGlzLmluZGV4XSk7XHJcbiAgICAgICAgdGhpcy5SZWZyZXNoUG9zaXRpb24oKTtcclxuICAgICAgICB0aGlzLlVuY29sb3JpemVMaW5rKCk7XHJcbiAgICAgICAgdGhpcy5wYXJlbnQuTGlua0xheWVyLmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5jYXB0aW9uRWxlbWVudCA9PFNWR1RleHRFbGVtZW50PkZsb3djaGFydC5TdmcocGFyZW50LkxpbmtMYXllciwgXCJ0ZXh0XCIsW10pO1xyXG4gICAgICAgIGxldCBjYXB0aW9uUGF0aCA9IDxTVkdUZXh0UGF0aEVsZW1lbnQ+Rmxvd2NoYXJ0LlN2Zyh0aGlzLmNhcHRpb25FbGVtZW50LCBcInRleHRQYXRoXCIsW1wic3RhcnRPZmZzZXRcIiwgXCI1MCVcIixcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCJdKTtcclxuICAgICAgICBjYXB0aW9uUGF0aC5zZXRBdHRyaWJ1dGVOUyhGbG93Y2hhcnQuWExJTktOUywgXCJocmVmXCIsICcjJyArIFwiTElOS1wiICsgdGhpcy5pbmRleCk7XHJcbiAgICAgICAgY2FwdGlvblBhdGguaW5uZXJIVE1MID0gY2FwdGlvbjtcclxuICAgICAgICB0aGlzLmVsZW1lbnQub25jbGljayA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50Ll9ub3RpZnlMaW5rQ2xpY2tlZCh0aGlzLCBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXQgR2xvYmFsTGlua0luZGV4KCkgeyByZXR1cm4gdGhpcy5pbmRleDsgfVxyXG4gICAgZ2V0IEZyb20oKSB7IHJldHVybiB0aGlzLmZyb207IH1cclxuICAgIGdldCBUbygpIHsgcmV0dXJuIHRoaXMudG87IH1cclxuICAgIHNldCBDb2xvcihjb2xvcjogc3RyaW5nKSB7IHRoaXMuY29sb3IgPSBjb2xvcjsgfVxyXG5cclxuICAgIHB1YmxpYyBSZW1vdmVGcm9tRE9NKCkge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmUoKTtcclxuICAgICAgICB0aGlzLmNhcHRpb25FbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgQ29sb3JpemVMaW5rKGNvbG9yOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCdzdHJva2UnLCBjb2xvcik7XHJcbiAgICAgICAgLy90aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCdmaWxsJywgY29sb3IpO1xyXG4gICAgICAgIC8vVE9ETzogY29sb3JpemUgdGhlIHNtYWxsIHRyaWFuZ2xlIGluIHRoZSBjb25uZWN0b3JcclxuICAgICAgICAvL2xpbmtEYXRhLmludGVybmFsLmVscy5mcm9tU21hbGxDb25uZWN0b3IuY3NzKCdib3JkZXItbGVmdC1jb2xvcicsIGNvbG9yKTtcclxuICAgICAgICAvL2xpbmtEYXRhLmludGVybmFsLmVscy50b1NtYWxsQ29ubmVjdG9yLmNzcygnYm9yZGVyLWxlZnQtY29sb3InLCBjb2xvcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIFVuY29sb3JpemVMaW5rKCkge1xyXG4gICAgICAgIHRoaXMuQ29sb3JpemVMaW5rKHRoaXMucGFyZW50Lk9wdGlvbnMuZGVmYXVsdExpbmtDb2xvcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIFJlZnJlc2hQb3NpdGlvbigpIHtcclxuICAgICAgICBsZXQgZnJvbVBvc2l0aW9uID0gdGhpcy5mcm9tLkdldExpbmtwb2ludCgpO1xyXG4gICAgICAgIGxldCB0b1Bvc2l0aW9uID0gdGhpcy50by5HZXRMaW5rcG9pbnQoKTtcclxuICAgICAgICBsZXQgZnJvbVggPSBmcm9tUG9zaXRpb24ueDtcclxuICAgICAgICBsZXQgZnJvbVkgPSBmcm9tUG9zaXRpb24ueSArIHRoaXMucGFyZW50Lk9wdGlvbnMubGlua1ZlcnRpY2FsRGVjYWw7XHJcbiAgICAgICAgbGV0IHRvWCA9IHRvUG9zaXRpb24ueDtcclxuICAgICAgICBsZXQgdG9ZID0gdG9Qb3NpdGlvbi55ICsgdGhpcy5wYXJlbnQuT3B0aW9ucy5saW5rVmVydGljYWxEZWNhbDtcclxuICAgICAgICBsZXQgZGlzdGFuY2VGcm9tQXJyb3cgPSB0aGlzLnBhcmVudC5PcHRpb25zLmRpc3RhbmNlRnJvbUFycm93O1xyXG4gICAgICAgIGxldCBiZXppZXJGcm9tWCA9IChmcm9tWCArIGRpc3RhbmNlRnJvbUFycm93KTtcclxuICAgICAgICBsZXQgYmV6aWVyVG9YID0gdG9YICsgMTtcclxuICAgICAgICBsZXQgYmV6aWVySW50ZW5zaXR5ID0gTWF0aC5taW4oMTAwLCBNYXRoLm1heChNYXRoLmFicyhiZXppZXJGcm9tWCAtIGJlemllclRvWCkgLyAyLCBNYXRoLmFicyhmcm9tWSAtIHRvWSkpKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZFwiLCAnTScgKyBiZXppZXJGcm9tWCArICcsJyArIChmcm9tWSkgKyAnIEMnICsgKGZyb21YICsgZGlzdGFuY2VGcm9tQXJyb3cgKyBiZXppZXJJbnRlbnNpdHkpICsgJywnICsgZnJvbVkgKyAnICcgKyAodG9YIC0gYmV6aWVySW50ZW5zaXR5KSArICcsJyArIHRvWSArICcgJyArIGJlemllclRvWCArICcsJyArIHRvWSk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHtDb25uZWN0b3JUeXBlLCBGbG93Y2hhcnRJbnB1dENvbm5lY3RvciwgRmxvd2NoYXJ0T3V0cHV0Q29ubmVjdG9yIH0gZnJvbSBcIi4vRmxvd2NoYXJ0Q29ubmVjdG9yXCI7XHJcbmltcG9ydCB7Rmxvd2NoYXJ0fSBmcm9tIFwiLi9GbG93Y2hhcnRcIjtcclxuaW1wb3J0IHtVdGlsc30gZnJvbSBcIi4vVXRpbHNcIlxyXG5pbXBvcnQgeyBTZXJpYWxpemVDb250ZXh0IH0gZnJvbSBcIi4vRmxvd2NoYXJ0RXhwb3J0ZXJcIjtcclxuXHJcbmV4cG9ydCBlbnVtIFBvc2l0aW9uVHlwZXtcclxuICAgIERlZmF1bHQsXHJcbiAgICBJbnB1dCxcclxuICAgIE91dHB1dCxcclxufTtcclxuZXhwb3J0IGVudW0gU2luZ2xldG9uVHlwZXtcclxuICAgIERlZmF1bHQsXHJcbiAgICBTaW5nbGV0b24sXHJcbn07XHJcbmV4cG9ydCBjbGFzcyBUeXBlSW5mb1xyXG57XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgR2xvYmFsVHlwZUluZGV4Om51bWJlciwgcHVibGljIFBvc2l0aW9uOlBvc2l0aW9uVHlwZSwgcHVibGljIFNpbmdsZXRvbjpTaW5nbGV0b25UeXBlKXt9XHJcbn1cclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBGbG93Y2hhcnRPcGVyYXRvciB7XHJcblxyXG4gICAgLy9kZXIgSW5kZXggZGVyIElucHV0cyBpc3QgcmVpbiBsb2thbCB1bmQgYmVnaW5udCBiZWkgMCBmb3J0bGF1ZmVuZFxyXG4gICAgcHJpdmF0ZSBJbnB1dHM6IEZsb3djaGFydElucHV0Q29ubmVjdG9yW109W107XHJcbiAgICAvL2RlciBJbmRleCBkZXIgT3V0cHV0cyBpc3QgcmVpbiBsb2thbCB1bmQgYmVnaW5udCBiZWkgMCBmb3J0bGF1ZmVuZFxyXG4gICAgcHJpdmF0ZSBPdXRwdXRzOiBGbG93Y2hhcnRPdXRwdXRDb25uZWN0b3JbXT0gW107XHJcblxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIE1BWF9JTkRFWDogbnVtYmVyID0gMDtcclxuICAgIHByaXZhdGUgaW5kZXg6IG51bWJlcjtcclxuICAgIGdldCBHbG9iYWxPcGVyYXRvckluZGV4KCl7cmV0dXJuIHRoaXMuaW5kZXg7fVxyXG5cclxuICAgIHByaXZhdGUgZWxlbWVudFN2Z0c6IFNWR0dFbGVtZW50O1xyXG4gICAgZ2V0IEVsZW1lbnRTdmdHKCkgeyByZXR1cm4gdGhpcy5lbGVtZW50U3ZnRzsgfVxyXG4gICAgcHJpdmF0ZSBpbnB1dFN2Z0c6U1ZHR0VsZW1lbnQ7XHJcbiAgICBnZXQgSW5wdXRTdmdHKCk6IFNWR0dFbGVtZW50IHsgcmV0dXJuIHRoaXMuaW5wdXRTdmdHOyB9XHJcbiAgICBwcml2YXRlIG91dHB1dFN2Z0c6U1ZHR0VsZW1lbnQ7XHJcbiAgICBnZXQgT3V0cHV0U3ZnRygpOiBTVkdHRWxlbWVudCB7IHJldHVybiB0aGlzLm91dHB1dFN2Z0c7fVxyXG4gICAgcHJpdmF0ZSBkZWJ1Z0luZm9TdmdUZXh0OlNWR1RleHRFbGVtZW50O1xyXG5cclxuICAgIGdldCBUeXBlSW5mbygpe3JldHVybiB0aGlzLnR5cGVJbmZvO31cclxuXHJcbiAgICBwcml2YXRlIHg9MDtcclxuICAgIHByaXZhdGUgeT0wO1xyXG5cclxuICAgIHByaXZhdGUgYm94OlNWR1JlY3RFbGVtZW50O1xyXG5cclxuICAgIHB1YmxpYyBTaG93QXNTZWxlY3RlZChzdGF0ZTpib29sZWFuKVxyXG4gICAge1xyXG4gICAgICAgIGlmKHN0YXRlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5ib3guY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5ib3guY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIFNldERlYnVnSW5mb1RleHQodGV4dDpzdHJpbmcpOnZvaWR7XHJcbiAgICAgICAgdGhpcy5kZWJ1Z0luZm9TdmdUZXh0LnRleHRDb250ZW50PXRleHQ7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBwYXJlbnQ6IEZsb3djaGFydCwgcHJpdmF0ZSBjYXB0aW9uOiBzdHJpbmcsIHByaXZhdGUgdHlwZUluZm86IFR5cGVJbmZvKSB7XHJcbiAgICAgICAgdGhpcy5pbmRleCA9IEZsb3djaGFydE9wZXJhdG9yLk1BWF9JTkRFWCsrO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudFN2Z0cgPSA8U1ZHR0VsZW1lbnQ+Rmxvd2NoYXJ0LlN2ZyhwYXJlbnQuT3BlcmF0b3JzTGF5ZXIsIFwiZ1wiLCBbXSwgW1wib3BlcmF0b3JcIl0pO1xyXG5cclxuICAgICAgICB0aGlzLmVsZW1lbnRTdmdHLnNldEF0dHJpYnV0ZSgnZGF0YS1vcGVyYXRvci1pbmRleCcsIFwiXCIgKyB0aGlzLmluZGV4KTtcclxuICAgICAgICB0aGlzLmJveCA9IDxTVkdSZWN0RWxlbWVudD5GbG93Y2hhcnQuU3ZnKHRoaXMuZWxlbWVudFN2Z0csIFwicmVjdFwiLCBbXCJ3aWR0aFwiLFwiMTQwXCIsIFwiaGVpZ2h0XCIsIFwiMTAwXCIsIFwicnhcIiwgXCIxMFwiLCBcInJ5XCIsIFwiMTBcIl0sIFtcIm9wZXJhdG9yLWJveFwiXSk7XHJcbiAgICAgICAgbGV0IHRpdGxlID0gPFNWR1RleHRFbGVtZW50PkZsb3djaGFydC5TdmcodGhpcy5lbGVtZW50U3ZnRyxcInRleHRcIiwgW1wieFwiLCBcIjVcIiwgXCJ5XCIsIFwiMjFcIl0sW1wib3BlcmF0b3ItdGl0bGVcIl0pO1xyXG4gICAgICAgIHRpdGxlLnRleHRDb250ZW50ID0gY2FwdGlvbjtcclxuICAgICAgICB0aGlzLmlucHV0U3ZnRz0gPFNWR0dFbGVtZW50PkZsb3djaGFydC5TdmcodGhpcy5lbGVtZW50U3ZnRyxcImdcIiwgW1widHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAgNTApXCJdLCBbXCJvcGVyYXRvci1pbnB1dHNcIl0pO1xyXG4gICAgICAgIHRoaXMub3V0cHV0U3ZnRz0gPFNWR0dFbGVtZW50PkZsb3djaGFydC5TdmcodGhpcy5lbGVtZW50U3ZnRyxcImdcIiwgW1widHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDE0MCA1MClcIl0sIFtcIm9wZXJhdG9yLW91dHB1dHNcIl0pO1xyXG4gICAgICAgIHRoaXMuZGVidWdJbmZvU3ZnVGV4dCA9IDxTVkdUZXh0RWxlbWVudD5GbG93Y2hhcnQuU3ZnKHRoaXMuZWxlbWVudFN2Z0csIFwidGV4dFwiLCBbXCJ4XCIsIFwiMFwiLCBcInlcIiwgXCIxMDBcIl0sW1wib3BlcmF0b3ItZGVidWdpbmZvXCJdKTtcclxuICAgICAgICB0aGlzLmRlYnVnSW5mb1N2Z1RleHQudGV4dENvbnRlbnQ9XCJObyBkZWJ1ZyBpbmZvXCI7XHJcblxyXG4gICAgICAgIHRoaXMuYm94Lm9uY2xpY2sgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZsb3djaGFydE9wZXJhdG9yIHRoaXMuYm94Lm9uY2xpY2tcIik7XHJcbiAgICAgICAgICAgIHBhcmVudC5fbm90aWZ5T3BlcmF0b3JDbGlja2VkKHRoaXMsIGUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRoaXMucGFyZW50Lk9wdGlvbnMuY2FuVXNlck1vdmVPcGVyYXRvcnMpIHtcclxuICAgICAgICAgICAgdGl0bGUub25tb3VzZWRvd24gPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5SZWdpc3RlckRyYWdnaW5nKGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHVibGljIFJlZ2lzdGVyRHJhZ2dpbmcoZTpNb3VzZUV2ZW50KVxyXG4gICAge1xyXG4gICAgICAgIGxldCBvZmZzZXRJbk9wZXJhdG9yID0gVXRpbHMuRXZlbnRDb29yZGluYXRlc0luU1ZHKGUsIHRoaXMuRWxlbWVudFN2Z0cpOyAvL29mZnNldCBpbm5lcmhhbGIgZGVzIE9wZXJhdG9yc1xyXG4gICAgICAgIC8vV2lyIGJlbsO2dGlnZW4gZGVuIE9mZnNldCB6d2lzY2hlbiBkZXIgYWt0dWVsbGVuIFBvc2l0aW9uIGRlcyBPYmpla3RlcyB1bmQgXHJcbiAgICAgICAgbGV0IG9mZnNldFg9IGUuY2xpZW50WC10aGlzLng7XHJcbiAgICAgICAgbGV0IG9mZnNldFkgPSBlLmNsaWVudFktdGhpcy55O1xyXG5cclxuXHJcbiAgICAgICAgZG9jdW1lbnQub25tb3VzZXVwID0gKGUpID0+IHtcclxuICAgICAgICAgICAgZG9jdW1lbnQub25tb3VzZXVwID0gbnVsbDtcclxuICAgICAgICAgICAgZG9jdW1lbnQub25tb3VzZW1vdmUgPSBudWxsO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgZG9jdW1lbnQub25tb3VzZW1vdmUgPSBlID0+IHtcclxuICAgICAgICAgICAgLy9UT0RPOiBuZXVlIFBvc2l0aW9uIG51ciBzZXR6ZW4sIHdlbm4gdGhpcy5lbGVtZW50LmNsaWVudFJlY3QgaW5uZXJoYWxiIHZvbiBwYXJlbnQuY2xpZW50UmVjdGFuZ2xlIGlzdFxyXG4gICAgICAgICAgICB0aGlzLk1vdmVUbyhlLmNsaWVudFggLSBvZmZzZXRYLCBlLmNsaWVudFkgLSBvZmZzZXRZKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgZ2V0IFBhcmVudCgpIHsgcmV0dXJuIHRoaXMucGFyZW50IH07XHJcbiAgICBnZXQgQ2FwdGlvbigpIHsgcmV0dXJuIHRoaXMuY2FwdGlvbjsgfVxyXG5cclxuICAgIGdldCBJbnB1dHNLVkl0KCl7cmV0dXJuIHRoaXMuSW5wdXRzLmVudHJpZXMoKX1cclxuICAgIGdldCBPdXRwdXRzS1ZJdCgpe3JldHVybiB0aGlzLk91dHB1dHMuZW50cmllcygpfVxyXG4gICAgcHVibGljIEdldE91dHB1dENvbm5lY3RvckJ5SW5kZXg9KGk6bnVtYmVyKT0+dGhpcy5PdXRwdXRzW2ldO1xyXG4gICAgcHVibGljIEdldElucHV0Q29ubmVjdG9yQnlJbmRleD0oaTpudW1iZXIpPT50aGlzLklucHV0c1tpXTtcclxuXHJcbiAgICBwdWJsaWMgUmVtb3ZlRnJvbURPTSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmVsZW1lbnRTdmdHLnJlbW92ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBBcHBlbmRDb25uZWN0b3JzKGlucHV0czogRmxvd2NoYXJ0SW5wdXRDb25uZWN0b3JbXSwgb3V0cHV0czogRmxvd2NoYXJ0T3V0cHV0Q29ubmVjdG9yW10pIHtcclxuICAgICAgICBpZih0aGlzLklucHV0cy5sZW5ndGghPTAgfHwgdGhpcy5PdXRwdXRzLmxlbmd0aCAhPTApIHRocm93IG5ldyBFcnJvcihcIkFwcGVuZENvbm5lY3RvcnMgbWF5IG9ubHkgYmUgY2FsbGVkIG9uY2UhXCIpO1xyXG4gICAgICAgIGZvciAoY29uc3QgaSBvZiBpbnB1dHMpIHtcclxuICAgICAgICAgICAgaWYgKGkuUGFyZW50ICE9IHRoaXMpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB0aGlzLklucHV0cy5wdXNoKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGNvbnN0IG8gb2Ygb3V0cHV0cykge1xyXG4gICAgICAgICAgICBpZiAoby5QYXJlbnQgIT0gdGhpcykgY29udGludWU7XHJcbiAgICAgICAgICAgIHRoaXMuT3V0cHV0cy5wdXNoKG8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgbnVtID0gTWF0aC5tYXgodGhpcy5JbnB1dHMubGVuZ3RoLCB0aGlzLk91dHB1dHMubGVuZ3RoKTtcclxuICAgICAgICBsZXQgaGVpZ2h0ID0gNTArbnVtKjIwKzEwO1xyXG4gICAgICAgIHRoaXMuYm94LnNldEF0dHJpYnV0ZShcImhlaWdodFwiLCBcIlwiK2hlaWdodCk7XHJcbiAgICAgICAgdGhpcy5kZWJ1Z0luZm9TdmdUZXh0LnNldEF0dHJpYnV0ZShcInlcIiwgXCJcIitoZWlnaHQpO1xyXG4gICAgICAgIC8vVE9ETyBSZWRyYXdDb25uZWN0b3JzOyBDb25uZWN0b3JzIHplaWNobmVuIHNpY2ggbmljaHQgaW0gQ29uc3RydWt0dXIsIHNvbmRlcm4gZXJzdCBuYWNoIGRlbSBBcHBlbmRlbiwgdW0gZGllIFJlaWhlbmZvbGdlbiBpbiBkZXJzZXIgTGlzdGUgdW5kIGltIERPTSBnbGVpY2ggenUgaGFiZW5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgTW92ZVRvKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XHJcbiAgICAgICAgbGV0IGcgPSB0aGlzLnBhcmVudC5PcHRpb25zLmdyaWQ7XHJcbiAgICAgICAgdGhpcy54ID0gTWF0aC5yb3VuZCh4IC8gZykgKiBnO1xyXG4gICAgICAgIHRoaXMueSA9IE1hdGgucm91bmQoeSAvIGcpICogZztcclxuICAgICAgICB0aGlzLmVsZW1lbnRTdmdHLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLCBgdHJhbnNsYXRlKCR7dGhpcy54fSAke3RoaXMueX0pYCk7XHJcbiAgICAgICAgZm9yIChjb25zdCBjIG9mIHRoaXMuSW5wdXRzKSB7XHJcbiAgICAgICAgICAgIGMuUmVmcmVzaExpbmtQb3NpdGlvbnMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChjb25zdCBjIG9mIHRoaXMuT3V0cHV0cykge1xyXG4gICAgICAgICAgICBjLlJlZnJlc2hMaW5rUG9zaXRpb25zKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBQb3B1bGF0ZVByb3BlcnlHcmlkKHBhcmVudDpIVE1MVGFibGVFbGVtZW50KTpib29sZWFuXHJcbiAgICB7XHJcbiAgICAgICAgLy9sZXQgdHI9Rmxvd2NoYXJ0Lkh0bWwocGFyZW50LCBcInRyXCIsIFtdLFtcImRldmVsb3AtcHJvcGVydHlncmlkLXRyXCJdKTtcclxuICAgICAgICAvL0Zsb3djaGFydC5IdG1sKHRyLCBcInRkXCIsIFtdLFtcImRldmVsb3AtcHJvcGVydHlncmlkLXRkXCJdLCBcIkFLZXlcIik7XHJcbiAgICAgICAgLy9GbG93Y2hhcnQuSHRtbCh0ciwgXCJ0ZFwiLCBbXSxbXCJkZXZlbG9wLXByb3BlcnR5Z3JpZC10ZFwiXSwgXCJBVmFsdWVcIik7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwcm90ZWN0ZWQgU2VyaWFsaXplSW5wdXRzQW5kT3V0cHV0cyhjdHg6U2VyaWFsaXplQ29udGV4dClcclxuICAgIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGlucHV0IG9mIHRoaXMuSW5wdXRzKSB7XHJcbiAgICAgICAgICAgIGxldCB2YXJpYWJsZUFkcmVzcyA9IDA7XHJcbiAgICAgICAgICAgIGxldCBsaW5rcyA9IGlucHV0LkdldExpbmtzQ29weSgpO1xyXG4gICAgICAgICAgICBpZihsaW5rcy5sZW5ndGg9PTApe1xyXG4gICAgICAgICAgICAgICAgdmFyaWFibGVBZHJlc3M9MTsgLy9iZWNhdXNlIHVuY29ubmVjdGVkIGlucHV0cyByZWFkIGZyb20gYWRyZXNzIDEgKHdoaWNoIGlzIFwiZmFsc2VcIiwgMCwgMC4wLCBibGFjay4uLilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgbGV0IG91dCA9IGxpbmtzWzBdLkZyb207XHJcbiAgICAgICAgICAgICAgICB2YXJpYWJsZUFkcmVzcz1jdHgudHlwZUluZGV4Mmdsb2JhbENvbm5lY3RvckluZGV4MmFkcmVzc09mZnNldC5nZXQob3V0LlR5cGUpIS5nZXQob3V0Lkdsb2JhbENvbm5lY3RvckluZGV4KXx8MTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjdHguYnVmZmVyLnNldFVpbnQzMihjdHguYnVmZmVyT2Zmc2V0LCB2YXJpYWJsZUFkcmVzcywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGN0eC5idWZmZXJPZmZzZXQrPTQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvcihjb25zdCBvdXRwdXQgb2YgdGhpcy5PdXRwdXRzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IHZhcmlhYmxlQWRyZXNzID0gMDtcclxuICAgICAgICAgICAgaWYob3V0cHV0LkxpbmtzTGVuZ3RoPT0wKXtcclxuICAgICAgICAgICAgICAgIHZhcmlhYmxlQWRyZXNzPTA7IC8vYmVjYXVzZSB1bmNvbm5lY3RlZCBvdXRwdXRzIHdyaXRlIHRvIGFkcmVzcyAwICh3aGljaCBpcyBuZXZlciByZWFkISlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgdmFyaWFibGVBZHJlc3M9Y3R4LnR5cGVJbmRleDJnbG9iYWxDb25uZWN0b3JJbmRleDJhZHJlc3NPZmZzZXQuZ2V0KG91dHB1dC5UeXBlKSEuZ2V0KG91dHB1dC5HbG9iYWxDb25uZWN0b3JJbmRleCl8fDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3R4LmJ1ZmZlci5zZXRVaW50MzIoY3R4LmJ1ZmZlck9mZnNldCwgdmFyaWFibGVBZHJlc3MsIHRydWUpO1xyXG4gICAgICAgICAgICBjdHguYnVmZmVyT2Zmc2V0Kz00O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgU2VyaWFsaXplVG9CaW5hcnkoY3R4OlNlcmlhbGl6ZUNvbnRleHQpXHJcbiAgICB7XHJcbiAgICAgICAgLy9zZXJpYWxpemUgVHlwZVxyXG4gICAgICAgIGN0eC5idWZmZXIuc2V0VWludDMyKGN0eC5idWZmZXJPZmZzZXQsIHRoaXMuVHlwZUluZm8uR2xvYmFsVHlwZUluZGV4LCB0cnVlKTtcclxuICAgICAgICBjdHguYnVmZmVyT2Zmc2V0Kz00O1xyXG4gICAgICAgIC8vSW5kZXggb2YgaW5zdGFuY2VcclxuICAgICAgICBjdHguYnVmZmVyLnNldFVpbnQzMihjdHguYnVmZmVyT2Zmc2V0LCB0aGlzLkdsb2JhbE9wZXJhdG9ySW5kZXgsIHRydWUpO1xyXG4gICAgICAgIGN0eC5idWZmZXJPZmZzZXQrPTQ7XHJcbiAgICAgICAgdGhpcy5TZXJpYWxpemVJbnB1dHNBbmRPdXRwdXRzKGN0eCk7XHJcbiAgICAgICAgdGhpcy5TZXJpYWxpemVGdXJ0aGVyUHJvcGVydGllcyhjdHgpO1xyXG4gICAgICAgIC8vY3R4LmJ1ZmZlci5zZXRVaW50MzIoY3R4LmJ1ZmZlck9mZnNldCwgMHhBRkZFQ0FGRSwgdHJ1ZSk7XHJcbiAgICAgICAgLy9jdHguYnVmZmVyT2Zmc2V0Kz00O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwcm90ZWN0ZWQgU2VyaWFsaXplRnVydGhlclByb3BlcnRpZXMobWFwcGVyOlNlcmlhbGl6ZUNvbnRleHQpOnZvaWR7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7Rmxvd2NoYXJ0T3BlcmF0b3IsIFR5cGVJbmZvLCBQb3NpdGlvblR5cGUsIFNpbmdsZXRvblR5cGV9IGZyb20gXCIuL0Zsb3djaGFydE9wZXJhdG9yXCI7XHJcbmltcG9ydCB7Rmxvd2NoYXJ0fSBmcm9tIFwiLi9GbG93Y2hhcnRcIjtcclxuaW1wb3J0IHtGbG93Y2hhcnRJbnB1dENvbm5lY3RvciwgRmxvd2NoYXJ0T3V0cHV0Q29ubmVjdG9yLCBDb25uZWN0b3JUeXBlfSBmcm9tIFwiLi9GbG93Y2hhcnRDb25uZWN0b3JcIjtcclxuaW1wb3J0IHsgU2VyaWFsaXplQ29udGV4dCB9IGZyb20gXCIuL0Zsb3djaGFydEV4cG9ydGVyXCI7XHJcblxyXG5jb25zdCBBTkRPcGVyYXRvcl9UeXBlSW5kZXggPSAxO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBBTkRPcGVyYXRvciBleHRlbmRzIEZsb3djaGFydE9wZXJhdG9yIHtcclxuICBcclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudDogRmxvd2NoYXJ0LCBjYXB0aW9uOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcihwYXJlbnQsIGNhcHRpb24sIG5ldyBUeXBlSW5mbygxLCBQb3NpdGlvblR5cGUuRGVmYXVsdCwgU2luZ2xldG9uVHlwZS5EZWZhdWx0KSk7XHJcbiAgICAgICAgbGV0IEEgPSBuZXcgRmxvd2NoYXJ0SW5wdXRDb25uZWN0b3IodGhpcywgXCJBXCIsIENvbm5lY3RvclR5cGUuQk9PTEVBTik7XHJcbiAgICAgICAgbGV0IEIgPSBuZXcgRmxvd2NoYXJ0SW5wdXRDb25uZWN0b3IodGhpcywgXCJCXCIsIENvbm5lY3RvclR5cGUuQk9PTEVBTik7XHJcbiAgICAgICAgbGV0IEMgPSBuZXcgRmxvd2NoYXJ0T3V0cHV0Q29ubmVjdG9yKHRoaXMsIFwiQ1wiLCBDb25uZWN0b3JUeXBlLkJPT0xFQU4pO1xyXG4gICAgICAgIHRoaXMuQXBwZW5kQ29ubmVjdG9ycyhbQSwgQl0sIFtDXSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBPUk9wZXJhdG9yIGV4dGVuZHMgRmxvd2NoYXJ0T3BlcmF0b3Ige1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50OiBGbG93Y2hhcnQsIGNhcHRpb246IHN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKHBhcmVudCwgY2FwdGlvbiwgbmV3IFR5cGVJbmZvKDIsIFBvc2l0aW9uVHlwZS5EZWZhdWx0LCBTaW5nbGV0b25UeXBlLkRlZmF1bHQpKTtcclxuICAgICAgICBsZXQgQSA9IG5ldyBGbG93Y2hhcnRJbnB1dENvbm5lY3Rvcih0aGlzLCBcIkFcIiwgQ29ubmVjdG9yVHlwZS5CT09MRUFOKTtcclxuICAgICAgICBsZXQgQiA9IG5ldyBGbG93Y2hhcnRJbnB1dENvbm5lY3Rvcih0aGlzLCBcIkJcIiwgQ29ubmVjdG9yVHlwZS5CT09MRUFOKTtcclxuICAgICAgICBsZXQgQyA9IG5ldyBGbG93Y2hhcnRPdXRwdXRDb25uZWN0b3IodGhpcywgXCJDXCIsIENvbm5lY3RvclR5cGUuQk9PTEVBTik7XHJcbiAgICAgICAgdGhpcy5BcHBlbmRDb25uZWN0b3JzKFtBLCBCXSwgW0NdKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFERE9wZXJhdG9yIGV4dGVuZHMgRmxvd2NoYXJ0T3BlcmF0b3Ige1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50OiBGbG93Y2hhcnQsIGNhcHRpb246IHN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKHBhcmVudCwgY2FwdGlvbiwgbmV3IFR5cGVJbmZvKDMsIFBvc2l0aW9uVHlwZS5EZWZhdWx0LCBTaW5nbGV0b25UeXBlLkRlZmF1bHQpKTtcclxuICAgICAgICBsZXQgQSA9IG5ldyBGbG93Y2hhcnRJbnB1dENvbm5lY3Rvcih0aGlzLCBcIkFcIiwgQ29ubmVjdG9yVHlwZS5JTlRFR0VSKTtcclxuICAgICAgICBsZXQgQiA9IG5ldyBGbG93Y2hhcnRJbnB1dENvbm5lY3Rvcih0aGlzLCBcIkJcIiwgQ29ubmVjdG9yVHlwZS5JTlRFR0VSKTtcclxuICAgICAgICBsZXQgQyA9IG5ldyBGbG93Y2hhcnRPdXRwdXRDb25uZWN0b3IodGhpcywgXCJDXCIsIENvbm5lY3RvclR5cGUuSU5URUdFUik7XHJcbiAgICAgICAgdGhpcy5BcHBlbmRDb25uZWN0b3JzKFtBLCBCXSwgW0NdKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE1VTFRPcGVyYXRvciBleHRlbmRzIEZsb3djaGFydE9wZXJhdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudDogRmxvd2NoYXJ0LCBjYXB0aW9uOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcihwYXJlbnQsIGNhcHRpb24sIG5ldyBUeXBlSW5mbyg0LCBQb3NpdGlvblR5cGUuRGVmYXVsdCwgU2luZ2xldG9uVHlwZS5EZWZhdWx0KSk7XHJcbiAgICAgICAgbGV0IEEgPSBuZXcgRmxvd2NoYXJ0SW5wdXRDb25uZWN0b3IodGhpcywgXCJBXCIsIENvbm5lY3RvclR5cGUuSU5URUdFUik7XHJcbiAgICAgICAgbGV0IEIgPSBuZXcgRmxvd2NoYXJ0SW5wdXRDb25uZWN0b3IodGhpcywgXCJCXCIsIENvbm5lY3RvclR5cGUuSU5URUdFUik7XHJcbiAgICAgICAgbGV0IEMgPSBuZXcgRmxvd2NoYXJ0T3V0cHV0Q29ubmVjdG9yKHRoaXMsIFwiQ1wiLCBDb25uZWN0b3JUeXBlLklOVEVHRVIpO1xyXG4gICAgICAgIHRoaXMuQXBwZW5kQ29ubmVjdG9ycyhbQSwgQl0sIFtDXSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBNQVhPcGVyYXRvciBleHRlbmRzIEZsb3djaGFydE9wZXJhdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudDogRmxvd2NoYXJ0LCBjYXB0aW9uOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcihwYXJlbnQsIGNhcHRpb24sIG5ldyBUeXBlSW5mbyg1LCBQb3NpdGlvblR5cGUuRGVmYXVsdCwgU2luZ2xldG9uVHlwZS5EZWZhdWx0KSk7XHJcbiAgICAgICAgbGV0IEEgPSBuZXcgRmxvd2NoYXJ0SW5wdXRDb25uZWN0b3IodGhpcywgXCJBXCIsIENvbm5lY3RvclR5cGUuSU5URUdFUik7XHJcbiAgICAgICAgbGV0IEIgPSBuZXcgRmxvd2NoYXJ0SW5wdXRDb25uZWN0b3IodGhpcywgXCJCXCIsIENvbm5lY3RvclR5cGUuSU5URUdFUik7XHJcbiAgICAgICAgbGV0IEMgPSBuZXcgRmxvd2NoYXJ0T3V0cHV0Q29ubmVjdG9yKHRoaXMsIFwiQ1wiLCBDb25uZWN0b3JUeXBlLklOVEVHRVIpO1xyXG4gICAgICAgIHRoaXMuQXBwZW5kQ29ubmVjdG9ycyhbQSwgQl0sIFtDXSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBNSU5PcGVyYXRvciBleHRlbmRzIEZsb3djaGFydE9wZXJhdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudDogRmxvd2NoYXJ0LCBjYXB0aW9uOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcihwYXJlbnQsIGNhcHRpb24sIG5ldyBUeXBlSW5mbyg2LCBQb3NpdGlvblR5cGUuRGVmYXVsdCwgU2luZ2xldG9uVHlwZS5EZWZhdWx0KSk7XHJcbiAgICAgICAgbGV0IEEgPSBuZXcgRmxvd2NoYXJ0SW5wdXRDb25uZWN0b3IodGhpcywgXCJBXCIsIENvbm5lY3RvclR5cGUuSU5URUdFUik7XHJcbiAgICAgICAgbGV0IEIgPSBuZXcgRmxvd2NoYXJ0SW5wdXRDb25uZWN0b3IodGhpcywgXCJCXCIsIENvbm5lY3RvclR5cGUuSU5URUdFUik7XHJcbiAgICAgICAgbGV0IEMgPSBuZXcgRmxvd2NoYXJ0T3V0cHV0Q29ubmVjdG9yKHRoaXMsIFwiQ1wiLCBDb25uZWN0b3JUeXBlLklOVEVHRVIpO1xyXG4gICAgICAgIHRoaXMuQXBwZW5kQ29ubmVjdG9ycyhbQSwgQl0sIFtDXSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBSU09wZXJhdG9yIGV4dGVuZHMgRmxvd2NoYXJ0T3BlcmF0b3Ige1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50OiBGbG93Y2hhcnQsIGNhcHRpb246IHN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKHBhcmVudCwgY2FwdGlvbiwgbmV3IFR5cGVJbmZvKDcsIFBvc2l0aW9uVHlwZS5EZWZhdWx0LCBTaW5nbGV0b25UeXBlLkRlZmF1bHQpKTtcclxuICAgICAgICBsZXQgUiA9IG5ldyBGbG93Y2hhcnRJbnB1dENvbm5lY3Rvcih0aGlzLCBcIlJcIiwgQ29ubmVjdG9yVHlwZS5CT09MRUFOKTtcclxuICAgICAgICBsZXQgUyA9IG5ldyBGbG93Y2hhcnRJbnB1dENvbm5lY3Rvcih0aGlzLCBcIlNcIiwgQ29ubmVjdG9yVHlwZS5CT09MRUFOKTtcclxuICAgICAgICBsZXQgQyA9IG5ldyBGbG93Y2hhcnRPdXRwdXRDb25uZWN0b3IodGhpcywgXCJDXCIsIENvbm5lY3RvclR5cGUuQk9PTEVBTik7XHJcbiAgICAgICAgdGhpcy5BcHBlbmRDb25uZWN0b3JzKFtSLCBTXSwgW0NdKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE5vdE9wZXJhdG9yIGV4dGVuZHMgRmxvd2NoYXJ0T3BlcmF0b3Ige1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50OiBGbG93Y2hhcnQsIGNhcHRpb246IHN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKHBhcmVudCwgY2FwdGlvbiwgbmV3IFR5cGVJbmZvKDgsIFBvc2l0aW9uVHlwZS5EZWZhdWx0LCBTaW5nbGV0b25UeXBlLkRlZmF1bHQpKTtcclxuICAgICAgICBsZXQgQSA9IG5ldyBGbG93Y2hhcnRJbnB1dENvbm5lY3Rvcih0aGlzLCBcIkFcIiwgQ29ubmVjdG9yVHlwZS5CT09MRUFOKTtcclxuICAgICAgICBsZXQgQyA9IG5ldyBGbG93Y2hhcnRPdXRwdXRDb25uZWN0b3IodGhpcywgXCJDXCIsIENvbm5lY3RvclR5cGUuQk9PTEVBTik7XHJcbiAgICAgICAgdGhpcy5BcHBlbmRDb25uZWN0b3JzKFtBXSwgW0NdKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgR3JlZW5CdXR0b25PcGVyYXRvciBleHRlbmRzIEZsb3djaGFydE9wZXJhdG9yIHtcclxuICAgIHB1YmxpYyBTdG9yYWdlSWQ6c3RyaW5nO1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50OiBGbG93Y2hhcnQsIGNhcHRpb246IHN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKHBhcmVudCwgY2FwdGlvbiwgbmV3IFR5cGVJbmZvKDksIFBvc2l0aW9uVHlwZS5JbnB1dCwgU2luZ2xldG9uVHlwZS5TaW5nbGV0b24pKTtcclxuICAgICAgICBsZXQgTyA9IG5ldyBGbG93Y2hhcnRPdXRwdXRDb25uZWN0b3IodGhpcywgXCJJc1ByZXNzZWRcIiwgQ29ubmVjdG9yVHlwZS5CT09MRUFOKTtcclxuICAgICAgICB0aGlzLkFwcGVuZENvbm5lY3RvcnMoW10sIFtPXSk7XHJcbiAgICAgICAgdGhpcy5TdG9yYWdlSWQ9XCI0NzExXCI7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBFbmNvZGVyQnV0dG9uT3BlcmF0b3IgZXh0ZW5kcyBGbG93Y2hhcnRPcGVyYXRvciB7XHJcbiAgICBwdWJsaWMgU3RvcmFnZUlkOnN0cmluZztcclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudDogRmxvd2NoYXJ0LCBjYXB0aW9uOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcihwYXJlbnQsIGNhcHRpb24sIG5ldyBUeXBlSW5mbygxMCwgUG9zaXRpb25UeXBlLklucHV0LCBTaW5nbGV0b25UeXBlLlNpbmdsZXRvbikpO1xyXG4gICAgICAgIGxldCBPID0gbmV3IEZsb3djaGFydE91dHB1dENvbm5lY3Rvcih0aGlzLCBcIklzUHJlc3NlZFwiLCBDb25uZWN0b3JUeXBlLkJPT0xFQU4pO1xyXG4gICAgICAgIHRoaXMuQXBwZW5kQ29ubmVjdG9ycyhbXSwgW09dKTtcclxuICAgICAgICB0aGlzLlN0b3JhZ2VJZD1cIjQ3MTFcIjtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFJlZEJ1dHRvbk9wZXJhdG9yIGV4dGVuZHMgRmxvd2NoYXJ0T3BlcmF0b3Ige1xyXG4gICAgcHVibGljIFN0b3JhZ2VJZDpzdHJpbmc7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQ6IEZsb3djaGFydCwgY2FwdGlvbjogc3RyaW5nKSB7XHJcbiAgICAgICAgc3VwZXIocGFyZW50LCBjYXB0aW9uLCBuZXcgVHlwZUluZm8oMTEsIFBvc2l0aW9uVHlwZS5JbnB1dCwgU2luZ2xldG9uVHlwZS5TaW5nbGV0b24pKTtcclxuICAgICAgICBsZXQgTyA9IG5ldyBGbG93Y2hhcnRPdXRwdXRDb25uZWN0b3IodGhpcywgXCJJc1ByZXNzZWRcIiwgQ29ubmVjdG9yVHlwZS5CT09MRUFOKTtcclxuICAgICAgICB0aGlzLkFwcGVuZENvbm5lY3RvcnMoW10sIFtPXSk7XHJcbiAgICAgICAgdGhpcy5TdG9yYWdlSWQ9XCI0NzExXCI7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBNb3ZlU2Vuc29yT3BlcmF0b3IgZXh0ZW5kcyBGbG93Y2hhcnRPcGVyYXRvciB7XHJcbiAgICBwdWJsaWMgU3RvcmFnZUlkOnN0cmluZztcclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudDogRmxvd2NoYXJ0LCBjYXB0aW9uOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcihwYXJlbnQsIGNhcHRpb24sIG5ldyBUeXBlSW5mbygxMiwgUG9zaXRpb25UeXBlLklucHV0LCBTaW5nbGV0b25UeXBlLlNpbmdsZXRvbikpO1xyXG4gICAgICAgIGxldCBPID0gbmV3IEZsb3djaGFydE91dHB1dENvbm5lY3Rvcih0aGlzLCBcIk1vdmVtZW50XCIsIENvbm5lY3RvclR5cGUuQk9PTEVBTik7XHJcbiAgICAgICAgdGhpcy5BcHBlbmRDb25uZWN0b3JzKFtdLCBbT10pO1xyXG4gICAgICAgIHRoaXMuU3RvcmFnZUlkPVwiNDcxMVwiO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVGVtcFNlbnNvck9wZXJhdG9yIGV4dGVuZHMgRmxvd2NoYXJ0T3BlcmF0b3Ige1xyXG4gICAgcHVibGljIFN0b3JhZ2VJZDpzdHJpbmc7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQ6IEZsb3djaGFydCwgY2FwdGlvbjogc3RyaW5nKSB7XHJcbiAgICAgICAgc3VwZXIocGFyZW50LCBjYXB0aW9uLCBuZXcgVHlwZUluZm8oMTMsIFBvc2l0aW9uVHlwZS5JbnB1dCwgU2luZ2xldG9uVHlwZS5TaW5nbGV0b24pKTtcclxuICAgICAgICBsZXQgTyA9IG5ldyBGbG93Y2hhcnRPdXRwdXRDb25uZWN0b3IodGhpcywgXCJUZW1wZXJhdHVyXCIsIENvbm5lY3RvclR5cGUuRkxPQVQpO1xyXG4gICAgICAgIHRoaXMuQXBwZW5kQ29ubmVjdG9ycyhbXSwgW09dKTtcclxuICAgICAgICB0aGlzLlN0b3JhZ2VJZD1cIjQ3MTFcIjtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFJlbGF5T3BlcmF0b3IgZXh0ZW5kcyBGbG93Y2hhcnRPcGVyYXRvciB7XHJcbiAgICBwdWJsaWMgU3RvcmFnZUlkOnN0cmluZztcclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudDogRmxvd2NoYXJ0LCBjYXB0aW9uOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcihwYXJlbnQsIGNhcHRpb24sIG5ldyBUeXBlSW5mbygxNCwgUG9zaXRpb25UeXBlLk91dHB1dCwgU2luZ2xldG9uVHlwZS5TaW5nbGV0b24pKTtcclxuICAgICAgICBsZXQgY29ubiA9IG5ldyBGbG93Y2hhcnRJbnB1dENvbm5lY3Rvcih0aGlzLCBcIlJlbGF5XCIsIENvbm5lY3RvclR5cGUuQk9PTEVBTik7XHJcbiAgICAgICAgdGhpcy5BcHBlbmRDb25uZWN0b3JzKFtjb25uXSwgW10pO1xyXG4gICAgICAgIHRoaXMuU3RvcmFnZUlkPVwiNDcxMVwiO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUmVkTGVkT3BlcmF0b3IgZXh0ZW5kcyBGbG93Y2hhcnRPcGVyYXRvciB7XHJcbiAgICBwdWJsaWMgU3RvcmFnZUlkOnN0cmluZztcclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudDogRmxvd2NoYXJ0LCBjYXB0aW9uOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcihwYXJlbnQsIGNhcHRpb24sIG5ldyBUeXBlSW5mbygxNSwgUG9zaXRpb25UeXBlLk91dHB1dCwgU2luZ2xldG9uVHlwZS5TaW5nbGV0b24pKTtcclxuICAgICAgICBsZXQgY29ubiA9IG5ldyBGbG93Y2hhcnRJbnB1dENvbm5lY3Rvcih0aGlzLCBcIkxFRFwiLCBDb25uZWN0b3JUeXBlLkJPT0xFQU4pO1xyXG4gICAgICAgIHRoaXMuQXBwZW5kQ29ubmVjdG9ycyhbY29ubl0sIFtdKTtcclxuICAgICAgICB0aGlzLlN0b3JhZ2VJZD1cIjQ3MTFcIjtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFllbGxvd0xlZE9wZXJhdG9yIGV4dGVuZHMgRmxvd2NoYXJ0T3BlcmF0b3Ige1xyXG4gICAgcHVibGljIFN0b3JhZ2VJZDpzdHJpbmc7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQ6IEZsb3djaGFydCwgY2FwdGlvbjogc3RyaW5nKSB7XHJcbiAgICAgICAgc3VwZXIocGFyZW50LCBjYXB0aW9uLCBuZXcgVHlwZUluZm8oMTYsIFBvc2l0aW9uVHlwZS5PdXRwdXQsIFNpbmdsZXRvblR5cGUuU2luZ2xldG9uKSk7XHJcbiAgICAgICAgbGV0IGNvbm4gPSBuZXcgRmxvd2NoYXJ0SW5wdXRDb25uZWN0b3IodGhpcywgXCJMRURcIiwgQ29ubmVjdG9yVHlwZS5CT09MRUFOKTtcclxuICAgICAgICB0aGlzLkFwcGVuZENvbm5lY3RvcnMoW2Nvbm5dLCBbXSk7XHJcbiAgICAgICAgdGhpcy5TdG9yYWdlSWQ9XCI0NzExXCI7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBHcmVlbkxlZE9wZXJhdG9yIGV4dGVuZHMgRmxvd2NoYXJ0T3BlcmF0b3Ige1xyXG4gICAgcHVibGljIFN0b3JhZ2VJZDpzdHJpbmc7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQ6IEZsb3djaGFydCwgY2FwdGlvbjogc3RyaW5nKSB7XHJcbiAgICAgICAgc3VwZXIocGFyZW50LCBjYXB0aW9uLCBuZXcgVHlwZUluZm8oMTcsIFBvc2l0aW9uVHlwZS5PdXRwdXQsIFNpbmdsZXRvblR5cGUuU2luZ2xldG9uKSk7XHJcbiAgICAgICAgbGV0IGNvbm4gPSBuZXcgRmxvd2NoYXJ0SW5wdXRDb25uZWN0b3IodGhpcywgXCJMRURcIiwgQ29ubmVjdG9yVHlwZS5CT09MRUFOKTtcclxuICAgICAgICB0aGlzLkFwcGVuZENvbm5lY3RvcnMoW2Nvbm5dLCBbXSk7XHJcbiAgICAgICAgdGhpcy5TdG9yYWdlSWQ9XCI0NzExXCI7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDb25zdFRSVUVPcGVyYXRvciBleHRlbmRzIEZsb3djaGFydE9wZXJhdG9yIHtcclxuICAgIHB1YmxpYyBTdG9yYWdlSWQ6c3RyaW5nO1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50OiBGbG93Y2hhcnQsIGNhcHRpb246IHN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKHBhcmVudCwgY2FwdGlvbiwgbmV3IFR5cGVJbmZvKDE4LCBQb3NpdGlvblR5cGUuSW5wdXQsIFNpbmdsZXRvblR5cGUuRGVmYXVsdCkpO1xyXG4gICAgICAgIGxldCBPID0gbmV3IEZsb3djaGFydE91dHB1dENvbm5lY3Rvcih0aGlzLCBcIlRSVUVcIiwgQ29ubmVjdG9yVHlwZS5CT09MRUFOKTtcclxuICAgICAgICB0aGlzLkFwcGVuZENvbm5lY3RvcnMoW10sIFtPXSk7XHJcbiAgICAgICAgdGhpcy5TdG9yYWdlSWQ9XCI0NzExXCI7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDb25zdElOVE9wZXJhdG9yIGV4dGVuZHMgRmxvd2NoYXJ0T3BlcmF0b3Ige1xyXG4gICAgcHVibGljIFN0b3JhZ2VJZDpzdHJpbmc7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQ6IEZsb3djaGFydCwgY2FwdGlvbjogc3RyaW5nKSB7XHJcbiAgICAgICAgc3VwZXIocGFyZW50LCBjYXB0aW9uLCBuZXcgVHlwZUluZm8oMTksIFBvc2l0aW9uVHlwZS5JbnB1dCwgU2luZ2xldG9uVHlwZS5EZWZhdWx0KSk7XHJcbiAgICAgICAgbGV0IE8gPSBuZXcgRmxvd2NoYXJ0T3V0cHV0Q29ubmVjdG9yKHRoaXMsIFwiT3V0XCIsIENvbm5lY3RvclR5cGUuQk9PTEVBTik7XHJcbiAgICAgICAgdGhpcy5BcHBlbmRDb25uZWN0b3JzKFtdLCBbT10pO1xyXG4gICAgICAgIHRoaXMuU3RvcmFnZUlkPVwiNDcxMVwiO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBQb3B1bGF0ZVByb3BlcnlHcmlkKHBhcmVudDpIVE1MVGFibGVFbGVtZW50KTpib29sZWFuXHJcbiAgICB7XHJcbiAgICAgICAgUHJvcGVydHlHcmlkSGVscGVycy5OdW1iZXIocGFyZW50LCBcIkNvbnN0YW50XCIsIC0zMjc2OCwgMzI3NjcpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBQcm9wZXJ0eUdyaWRIZWxwZXJzXHJcbntcclxuICAgIHB1YmxpYyBzdGF0aWMgTnVtYmVyKHRhYmxlOkhUTUxUYWJsZUVsZW1lbnQsIGtleTpzdHJpbmcsIG1pbjpudW1iZXIsIG1heDpudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgbGV0IHRyPUZsb3djaGFydC5IdG1sKHRhYmxlLCBcInRyXCIsIFtdLFtcImRldmVsb3AtcHJvcGVydHlncmlkLXRyXCJdKTtcclxuICAgICAgICBGbG93Y2hhcnQuSHRtbCh0ciwgXCJ0ZFwiLCBbXSxbXCJkZXZlbG9wLXByb3BlcnR5Z3JpZC10ZFwiXSwga2V5KTtcclxuICAgICAgICBsZXQgaW5wdXRDb250YWluZXIgPSBGbG93Y2hhcnQuSHRtbCh0ciwgXCJ0ZFwiLCBbXSxbXCJkZXZlbG9wLXByb3BlcnR5Z3JpZC10ZFwiXSk7XHJcbiAgICAgICAgRmxvd2NoYXJ0Lkh0bWwoaW5wdXRDb250YWluZXIsIFwiaW5wdXRcIiwgW1widHlwZVwiLCBcIm51bWJlclwiLCBcIm1pblwiLCBcIlwiK01hdGgucm91bmQobWluKSwgXCJtYXhcIiwgXCJcIitNYXRoLnJvdW5kKG1heCldKVxyXG4gICAgfVxyXG59XHJcbiIsIi8vaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVG9wb2xvZ2ljYWxfc29ydGluZ1xyXG5cclxuXHJcbmVudW0gTWFya2VyU3RhdGVcclxue1xyXG4gICAgTk9ORSxcclxuICAgIFRFTVBPUkFSWSxcclxuICAgIFBFUk1BTkVOVCxcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzICBOb2RlV3JhcHBlcjxOPiB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHBheWxvYWQ6Tikge1xyXG4gICAgICAgIHRoaXMuTWFyaz1NYXJrZXJTdGF0ZS5OT05FO1xyXG4gICAgICAgIHRoaXMuRGVwZW5kZW5kTm9kZXM9W107XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgTWFyazpNYXJrZXJTdGF0ZVxyXG4gICAgcHVibGljIERlcGVuZGVuZE5vZGVzOk5vZGVXcmFwcGVyPE4+W107XHJcbiAgICBnZXQgUGF5bG9hZCgpIHtyZXR1cm4gdGhpcy5wYXlsb2FkO31cclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBUb3BvbG9naWNhbFNvcnRERlM8Tj57XHJcbiAgICBwcml2YXRlIEw6QXJyYXk8Tm9kZVdyYXBwZXI8Tj4+O1xyXG4gICAgY29uc3RydWN0b3IoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuTD1uZXcgQXJyYXk8Tm9kZVdyYXBwZXI8Tj4+KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNvcnQoaGVhZE5vZGU6QXJyYXk8Tm9kZVdyYXBwZXI8Tj4+KVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuTD1uZXcgQXJyYXk8Tm9kZVdyYXBwZXI8Tj4+KCk7XHJcbiAgICAgICAgaGVhZE5vZGUuZm9yRWFjaCgobik9PnRoaXMudmlzaXQobikpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLkw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB2aXNpdChuOk5vZGVXcmFwcGVyPE4+KXtcclxuICAgICAgICBpZihuLk1hcms9PU1hcmtlclN0YXRlLlBFUk1BTkVOVCkgcmV0dXJuO1xyXG4gICAgICAgIGlmKG4uTWFyaz09TWFya2VyU3RhdGUuVEVNUE9SQVJZKSB0aHJvdyBuZXcgRXJyb3IoXCJub3QgYSBEQUdcIik7XHJcbiAgICAgICAgbi5NYXJrPU1hcmtlclN0YXRlLlRFTVBPUkFSWTtcclxuICAgICAgICBmb3IgKGNvbnN0IGQgb2Ygbi5EZXBlbmRlbmROb2Rlcykge1xyXG4gICAgICAgICAgICB0aGlzLnZpc2l0KGQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBuLk1hcms9TWFya2VyU3RhdGUuUEVSTUFORU5UO1xyXG4gICAgICAgIHRoaXMuTC5wdXNoKG4pO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIFV0aWxzXHJcbntcclxuICAgIHB1YmxpYyBzdGF0aWMgRXZlbnRDb29yZGluYXRlc0luU1ZHKGV2dDpNb3VzZUV2ZW50LCBlbGVtZW50OkVsZW1lbnQsIHBvc2l0aW9uUmF0aW86bnVtYmVyPTEpOkxvY2F0aW9uMkQge1xyXG4gICAgICAgIGxldCByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICByZXR1cm4ge3g6IChldnQuY2xpZW50WCAtIHJlY3QubGVmdCkvcG9zaXRpb25SYXRpbywgeTooZXZ0LmNsaWVudFkgLSByZWN0LnRvcCkvcG9zaXRpb25SYXRpb31cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBMb2NhdGlvbjJEIHtcclxuICAgIHg6IG51bWJlcjtcclxuICAgIHk6IG51bWJlcjtcclxufSJdfQ=="}